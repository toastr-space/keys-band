var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function r(e){e.forEach(t)}function o(e){return"function"==typeof e}function i(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let s,a;function c(e,t){return s||(s=document.createElement("a")),s.href=t,e===s.href}function l(t,...n){if(null==t)return e;const r=t.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function u(e){let t;return l(e,(e=>t=e))(),t}function d(e,t,n){e.$$.on_destroy.push(l(t,n))}function f(e,t){e.appendChild(t)}function h(e,t,n){e.insertBefore(t,n||null)}function p(e){e.parentNode&&e.parentNode.removeChild(e)}function g(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function w(e){return document.createElement(e)}function b(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function y(e){return document.createTextNode(e)}function m(){return y(" ")}function v(){return y("")}function x(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function E(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function k(e,t){t=""+t,e.data!==t&&(e.data=t)}function A(e,t){e.value=null==t?"":t}function B(e,t,n,r){null==n?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}function C(e,t,n){e.classList[n?"add":"remove"](t)}function S(e){a=e}function T(){const e=function(){if(!a)throw new Error("Function called outside component initialization");return a}();return(t,n,{cancelable:r=!1}={})=>{const o=e.$$.callbacks[t];if(o){const i=function(e,t,{bubbles:n=!1,cancelable:r=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(e,n,r,t),o}(t,n,{cancelable:r});return o.slice().forEach((t=>{t.call(e,i)})),!i.defaultPrevented}return!0}}const $=[],L=[];let _=[];const I=[],H=Promise.resolve();let U=!1;function N(e){_.push(e)}const P=new Set;let R=0;function O(){if(0!==R)return;const e=a;do{try{for(;R<$.length;){const e=$[R];R++,S(e),M(e.$$)}}catch(e){throw $.length=0,R=0,e}for(S(null),$.length=0,R=0;L.length;)L.pop()();for(let e=0;e<_.length;e+=1){const t=_[e];P.has(t)||(P.add(t),t())}_.length=0}while($.length);for(;I.length;)I.pop()();U=!1,P.clear(),S(e)}function M(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(N)}}const D=new Set;let z;function K(){z={r:0,c:[],p:z}}function q(){z.r||r(z.c),z=z.p}function j(e,t){e&&e.i&&(D.delete(e),e.i(t))}function F(e,t,n,r){if(e&&e.o){if(D.has(e))return;D.add(e),z.c.push((()=>{D.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}else r&&r()}function V(e){e&&e.c()}function G(e,n,i,s){const{fragment:a,after_update:c}=e.$$;a&&a.m(n,i),s||N((()=>{const n=e.$$.on_mount.map(t).filter(o);e.$$.on_destroy?e.$$.on_destroy.push(...n):r(n),e.$$.on_mount=[]})),c.forEach(N)}function W(e,t){const n=e.$$;null!==n.fragment&&(!function(e){const t=[],n=[];_.forEach((r=>-1===e.indexOf(r)?t.push(r):n.push(r))),n.forEach((e=>e())),_=t}(n.after_update),r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Z(e,t){-1===e.$$.dirty[0]&&($.push(e),U||(U=!0,H.then(O)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Y(t,o,i,s,c,l,u,d=[-1]){const f=a;S(t);const h=t.$$={fragment:null,ctx:[],props:l,update:e,not_equal:c,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(f?f.$$.context:[])),callbacks:n(),dirty:d,skip_bound:!1,root:o.target||f.$$.root};u&&u(h.root);let g=!1;if(h.ctx=i?i(t,o.props||{},((e,n,...r)=>{const o=r.length?r[0]:n;return h.ctx&&c(h.ctx[e],h.ctx[e]=o)&&(!h.skip_bound&&h.bound[e]&&h.bound[e](o),g&&Z(t,e)),n})):[],h.update(),g=!0,r(h.before_update),h.fragment=!!s&&s(h.ctx),o.target){if(o.hydrate){const e=function(e){return Array.from(e.childNodes)}(o.target);h.fragment&&h.fragment.l(e),e.forEach(p)}else h.fragment&&h.fragment.c();o.intro&&j(t.$$.fragment),G(t,o.target,o.anchor,o.customElement),O()}S(f)}class J{$destroy(){W(this,1),this.$destroy=e}$on(t,n){if(!o(n))return e;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const e=r.indexOf(n);-1!==e&&r.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}let Q="undefined"!=typeof browser?browser:"undefined"!=typeof chrome?chrome:null;function X(e){return e.split("/")[2]}function ee(e){let t=new Date,n=e.getTime()-t.getTime(),r=Math.floor(n/864e5),o=Math.floor(n%864e5/36e5),i=Math.floor(n%36e5/6e4),s=Math.floor(n%6e4/1e3),a=o.toString(),c=i.toString(),l=s.toString();return s<10&&(l="0"+s),i<10&&(c="0"+i),o<10&&(a="0"+o),r>0?r+" days "+a+" hours":a+":"+c+":"+l}function te(e){let t=new Date;switch(e){case 0:return new Date;case 1:return new Date(t.getTime()+31536e8);case 2:return new Date(t.getTime()+3e5);case 3:return new Date(t.getTime()+36e5);case 4:return new Date(t.getTime()+18e6);case 5:return new Date(t.getTime()+432e6)}}function ne(e){for(var t=[],n=e.length-1;n>=0;n--)t.push(e[n]);return t}function re(e){let t=(new Date).getTime()-e.getTime(),n=Math.floor(t/864e5),r=Math.floor(t%864e5/36e5),o=Math.floor(t%36e5/6e4),i=Math.floor(t%6e4/1e3);return n>0?n+" days ago":r>0?r+" hours ago":o>0?o+" minutes ago":i>0?i+" seconds ago":"now"}const oe=[{name:"signEvent",description:"Sign Event",state:!1},{name:"permission",description:"Authentifcation",state:!1},{name:"nip04",description:"Message",state:!1},{name:"getPublicKey",description:"Get Public Key",state:!1},{name:"getRelays",description:"Get Relays",state:!1}];function ie(e){switch(e){case"signEvent":return"Sign Event";case"permission":return"Get Permission";case"nip04":case"nip04.encrypt":case"nip04.decrypt":return"Message Encryption/Decription";case"getPublicKey":return"Get Public Key";case"getRelays":return"Get Relays";default:return e}}function se(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function ae(e,...t){if(!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new TypeError(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}const ce={number:se,bool:function(e){if("boolean"!=typeof e)throw new Error(`Expected boolean, not ${e}`)},bytes:ae,hash:function(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");se(e.outputLen),se(e.blockLen)},exists:function(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")},output:function(e,t){ae(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}},le="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,ue=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),de=(e,t)=>e<<32-t|e>>>t;if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");const fe=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function he(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=fe[e[n]];return t}function pe(e){if("string"!=typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++){const r=2*n,o=e.slice(r,r+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");t[n]=i}return t}function ge(e){if("string"!=typeof e)throw new TypeError("utf8ToBytes expected string, got "+typeof e);return(new TextEncoder).encode(e)}function we(e){if("string"==typeof e&&(e=ge(e)),!(e instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof e})`);return e}function be(...e){if(!e.every((e=>e instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===e.length)return e[0];const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){const o=e[t];n.set(o,r),r+=o.length}return n}class ye{clone(){return this._cloneInto()}}function me(e){const t=t=>e().update(we(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function ve(e=32){if(le&&"function"==typeof le.getRandomValues)return le.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}let xe=class extends ye{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=ue(this.buffer)}update(e){ce.exists(this);const{view:t,buffer:n,blockLen:r}=this,o=(e=we(e)).length;for(let i=0;i<o;){const s=Math.min(r-this.pos,o-i);if(s!==r)n.set(e.subarray(i,i+s),this.pos),this.pos+=s,i+=s,this.pos===r&&(this.process(t,0),this.pos=0);else{const t=ue(e);for(;r<=o-i;i+=r)this.process(t,i)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){ce.exists(this),ce.output(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:o}=this;let{pos:i}=this;t[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>r-i&&(this.process(n,0),i=0);for(let e=i;e<r;e++)t[e]=0;!function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const o=BigInt(32),i=BigInt(4294967295),s=Number(n>>o&i),a=Number(n&i),c=r?4:0,l=r?0:4;e.setUint32(t+c,s,r),e.setUint32(t+l,a,r)}(n,r-8,BigInt(8*this.length),o),this.process(n,0);const s=ue(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=a/4,l=this.get();if(c>l.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<c;e++)s.setUint32(4*e,l[e],o)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:o,destroyed:i,pos:s}=this;return e.length=r,e.pos=s,e.finished=o,e.destroyed=i,r%t&&e.buffer.set(n),e}};const Ee=(e,t,n)=>e&t^e&n^t&n,ke=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ae=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Be=new Uint32Array(64);let Ce=class extends xe{constructor(){super(64,32,8,!1),this.A=0|Ae[0],this.B=0|Ae[1],this.C=0|Ae[2],this.D=0|Ae[3],this.E=0|Ae[4],this.F=0|Ae[5],this.G=0|Ae[6],this.H=0|Ae[7]}get(){const{A:e,B:t,C:n,D:r,E:o,F:i,G:s,H:a}=this;return[e,t,n,r,o,i,s,a]}set(e,t,n,r,o,i,s,a){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|o,this.F=0|i,this.G=0|s,this.H=0|a}process(e,t){for(let n=0;n<16;n++,t+=4)Be[n]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=Be[e-15],n=Be[e-2],r=de(t,7)^de(t,18)^t>>>3,o=de(n,17)^de(n,19)^n>>>10;Be[e]=o+Be[e-7]+r+Be[e-16]|0}let{A:n,B:r,C:o,D:i,E:s,F:a,G:c,H:l}=this;for(let e=0;e<64;e++){const t=l+(de(s,6)^de(s,11)^de(s,25))+((u=s)&a^~u&c)+ke[e]+Be[e]|0,d=(de(n,2)^de(n,13)^de(n,22))+Ee(n,r,o)|0;l=c,c=a,a=s,s=i+t|0,i=o,o=r,r=n,n=t+d|0}var u;n=n+this.A|0,r=r+this.B|0,o=o+this.C|0,i=i+this.D|0,s=s+this.E|0,a=a+this.F|0,c=c+this.G|0,l=l+this.H|0,this.set(n,r,o,i,s,a,c,l)}roundClean(){Be.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},Se=class extends Ce{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};const Te=me((()=>new Ce));me((()=>new Se));
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const $e=BigInt(0),Le=BigInt(1),_e=BigInt(2),Ie=e=>e instanceof Uint8Array,He=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function Ue(e){if(!Ie(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=He[e[n]];return t}function Ne(e){const t=e.toString(16);return 1&t.length?`0${t}`:t}function Pe(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}function Re(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);if(e.length%2)throw new Error("hex string is invalid: unpadded "+e.length);const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++){const r=2*n,o=e.slice(r,r+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("invalid byte sequence");t[n]=i}return t}function Oe(e){return Pe(Ue(e))}function Me(e){if(!Ie(e))throw new Error("Uint8Array expected");return Pe(Ue(Uint8Array.from(e).reverse()))}const De=(e,t)=>Re(e.toString(16).padStart(2*t,"0")),ze=(e,t)=>De(e,t).reverse();function Ke(e,t,n){let r;if("string"==typeof t)try{r=Re(t)}catch(n){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${n}`)}else{if(!Ie(t))throw new Error(`${e} must be hex string or Uint8Array`);r=Uint8Array.from(t)}const o=r.length;if("number"==typeof n&&o!==n)throw new Error(`${e} expected ${n} bytes, got ${o}`);return r}function qe(...e){const t=new Uint8Array(e.reduce(((e,t)=>e+t.length),0));let n=0;return e.forEach((e=>{if(!Ie(e))throw new Error("Uint8Array expected");t.set(e,n),n+=e.length})),t}function je(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return(new TextEncoder).encode(e)}const Fe=e=>(_e<<BigInt(e-1))-Le,Ve=e=>new Uint8Array(e),Ge=e=>Uint8Array.from(e);function We(e,t,n){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof n)throw new Error("hmacFn must be a function");let r=Ve(e),o=Ve(e),i=0;const s=()=>{r.fill(1),o.fill(0),i=0},a=(...e)=>n(o,r,...e),c=(e=Ve())=>{o=a(Ge([0]),e),r=a(),0!==e.length&&(o=a(Ge([1]),e),r=a())},l=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<t;){r=a();const t=r.slice();n.push(t),e+=r.length}return qe(...n)};return(e,t)=>{let n;for(s(),c(e);!(n=t(l()));)c();return s(),n}}const Ze={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function Ye(e,t,n={}){const r=(t,n,r)=>{const o=Ze[n];if("function"!=typeof o)throw new Error(`Invalid validator "${n}", expected function`);const i=e[t];if(!(r&&void 0===i||o(i,e)))throw new Error(`Invalid param ${String(t)}=${i} (${typeof i}), expected ${n}`)};for(const[e,n]of Object.entries(t))r(e,n,!1);for(const[e,t]of Object.entries(n))r(e,t,!0);return e}var Je=Object.freeze({__proto__:null,bitGet:(e,t)=>e>>BigInt(t)&Le,bitLen:function(e){let t;for(t=0;e>$e;e>>=Le,t+=1);return t},bitMask:Fe,bitSet:(e,t,n)=>e|(n?Le:$e)<<BigInt(t),bytesToHex:Ue,bytesToNumberBE:Oe,bytesToNumberLE:Me,concatBytes:qe,createHmacDrbg:We,ensureBytes:Ke,equalBytes:function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0},hexToBytes:Re,hexToNumber:Pe,numberToBytesBE:De,numberToBytesLE:ze,numberToHexUnpadded:Ne,numberToVarBytesBE:e=>Re(Ne(e)),utf8ToBytes:je,validateObject:Ye});
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Qe=BigInt(0),Xe=BigInt(1),et=BigInt(2),tt=BigInt(3),nt=BigInt(4),rt=BigInt(5),ot=BigInt(8);function it(e,t){const n=e%t;return n>=Qe?n:t+n}function st(e,t,n){if(n<=Qe||t<Qe)throw new Error("Expected power/modulo > 0");if(n===Xe)return Qe;let r=Xe;for(;t>Qe;)t&Xe&&(r=r*e%n),e=e*e%n,t>>=Xe;return r}function at(e,t,n){let r=e;for(;t-- >Qe;)r*=r,r%=n;return r}function ct(e,t){if(e===Qe||t<=Qe)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=it(e,t),r=t,o=Qe,i=Xe;for(;n!==Qe;){const e=r%n,t=o-i*(r/n);r=n,n=e,o=i,i=t}if(r!==Xe)throw new Error("invert: does not exist");return it(o,t)}function lt(e){if(e%nt===tt){const t=(e+Xe)/nt;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}if(e%ot===rt){const t=(e-rt)/ot;return function(e,n){const r=e.mul(n,et),o=e.pow(r,t),i=e.mul(n,o),s=e.mul(e.mul(i,et),o),a=e.mul(i,e.sub(s,e.ONE));if(!e.eql(e.sqr(a),n))throw new Error("Cannot find square root");return a}}return function(e){const t=(e-Xe)/et;let n,r,o;for(n=e-Xe,r=0;n%et===Qe;n/=et,r++);for(o=et;o<e&&st(o,t,e)!==e-Xe;o++);if(1===r){const t=(e+Xe)/nt;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}const i=(n+Xe)/et;return function(e,s){if(e.pow(s,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let a=r,c=e.pow(e.mul(e.ONE,o),n),l=e.pow(s,i),u=e.pow(s,n);for(;!e.eql(u,e.ONE);){if(e.eql(u,e.ZERO))return e.ZERO;let t=1;for(let n=e.sqr(u);t<a&&!e.eql(n,e.ONE);t++)n=e.sqr(n);const n=e.pow(c,Xe<<BigInt(a-t-1));c=e.sqr(n),l=e.mul(l,n),u=e.mul(u,c),a=t}return l}}(e)}BigInt(9),BigInt(16);const ut=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function dt(e){return Ye(e,ut.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"}))}function ft(e,t){const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const ht=BigInt(0),pt=BigInt(1);function gt(e){return dt(e.Fp),Ye(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...ft(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const{bytesToNumberBE:wt,hexToBytes:bt}=Je,yt={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(e){const{Err:t}=yt;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");const n=e[1],r=e.subarray(2,n+2);if(!n||r.length!==n)throw new t("Invalid signature integer: wrong length");if(128&r[0])throw new t("Invalid signature integer: negative");if(0===r[0]&&!(128&r[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:wt(r),l:e.subarray(n+2)}},toSig(e){const{Err:t}=yt,n="string"==typeof e?bt(e):e;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||48!=n[0])throw new t("Invalid signature tag");if(n[1]!==r-2)throw new t("Invalid signature: incorrect length");const{d:o,l:i}=yt._parseInt(n.subarray(2)),{d:s,l:a}=yt._parseInt(i);if(a.length)throw new t("Invalid signature: left bytes after parsing");return{r:o,s:s}},hexFromSig(e){const t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,n=e=>{const t=e.toString(16);return 1&t.length?`0${t}`:t},r=t(n(e.s)),o=t(n(e.r)),i=r.length/2,s=o.length/2,a=n(i),c=n(s);return`30${n(s+i+4)}02${c}${o}02${a}${r}`}},mt=BigInt(0),vt=BigInt(1),xt=BigInt(2),Et=BigInt(3),kt=BigInt(4);function At(e){const t=function(e){const t=gt(e);Ye(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:o}=t;if(n){if(!r.eql(o,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof n||"bigint"!=typeof n.beta||"function"!=typeof n.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:n}=t,r=t.toBytes||((e,t,r)=>{const o=t.toAffine();return qe(Uint8Array.from([4]),n.toBytes(o.x),n.toBytes(o.y))}),o=t.fromBytes||(e=>{const t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function i(e){const{a:r,b:o}=t,i=n.sqr(e),s=n.mul(i,e);return n.add(n.add(s,n.mul(e,r)),o)}if(!n.eql(n.sqr(t.Gy),i(t.Gx)))throw new Error("bad generator point: equation left != right");function s(e){return"bigint"==typeof e&&mt<e&&e<t.n}function a(e){if(!s(e))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(e){const{allowedPrivateKeyLengths:n,nByteLength:r,wrapPrivateKey:o,n:i}=t;if(n&&"bigint"!=typeof e){if(e instanceof Uint8Array&&(e=Ue(e)),"string"!=typeof e||!n.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*r,"0")}let s;try{s="bigint"==typeof e?e:Oe(Ke("private key",e,r))}catch(t){throw new Error(`private key must be ${r} bytes, hex or bigint, not ${typeof e}`)}return o&&(s=it(s,i)),a(s),s}const l=new Map;function u(e){if(!(e instanceof d))throw new Error("ProjectivePoint expected")}class d{constructor(e,t,r){if(this.px=e,this.py=t,this.pz=r,null==e||!n.isValid(e))throw new Error("x required");if(null==t||!n.isValid(t))throw new Error("y required");if(null==r||!n.isValid(r))throw new Error("z required")}static fromAffine(e){const{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw new Error("invalid affine point");if(e instanceof d)throw new Error("projective point not allowed");const o=e=>n.eql(e,n.ZERO);return o(t)&&o(r)?d.ZERO:new d(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(t[n]))).map(d.fromAffine)}static fromHex(e){const t=d.fromAffine(o(Ke("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return d.BASE.multiply(c(e))}_setWindowSize(e){this._WINDOW_SIZE=e,l.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint)return;throw new Error("bad point: ZERO")}const{x:e,y:r}=this.toAffine();if(!n.isValid(e)||!n.isValid(r))throw new Error("bad point: x or y not FE");const o=n.sqr(r),s=i(e);if(!n.eql(o,s))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){u(e);const{px:t,py:r,pz:o}=this,{px:i,py:s,pz:a}=e,c=n.eql(n.mul(t,a),n.mul(i,o)),l=n.eql(n.mul(r,a),n.mul(s,o));return c&&l}negate(){return new d(this.px,n.neg(this.py),this.pz)}double(){const{a:e,b:r}=t,o=n.mul(r,Et),{px:i,py:s,pz:a}=this;let c=n.ZERO,l=n.ZERO,u=n.ZERO,f=n.mul(i,i),h=n.mul(s,s),p=n.mul(a,a),g=n.mul(i,s);return g=n.add(g,g),u=n.mul(i,a),u=n.add(u,u),c=n.mul(e,u),l=n.mul(o,p),l=n.add(c,l),c=n.sub(h,l),l=n.add(h,l),l=n.mul(c,l),c=n.mul(g,c),u=n.mul(o,u),p=n.mul(e,p),g=n.sub(f,p),g=n.mul(e,g),g=n.add(g,u),u=n.add(f,f),f=n.add(u,f),f=n.add(f,p),f=n.mul(f,g),l=n.add(l,f),p=n.mul(s,a),p=n.add(p,p),f=n.mul(p,g),c=n.sub(c,f),u=n.mul(p,h),u=n.add(u,u),u=n.add(u,u),new d(c,l,u)}add(e){u(e);const{px:r,py:o,pz:i}=this,{px:s,py:a,pz:c}=e;let l=n.ZERO,f=n.ZERO,h=n.ZERO;const p=t.a,g=n.mul(t.b,Et);let w=n.mul(r,s),b=n.mul(o,a),y=n.mul(i,c),m=n.add(r,o),v=n.add(s,a);m=n.mul(m,v),v=n.add(w,b),m=n.sub(m,v),v=n.add(r,i);let x=n.add(s,c);return v=n.mul(v,x),x=n.add(w,y),v=n.sub(v,x),x=n.add(o,i),l=n.add(a,c),x=n.mul(x,l),l=n.add(b,y),x=n.sub(x,l),h=n.mul(p,v),l=n.mul(g,y),h=n.add(l,h),l=n.sub(b,h),h=n.add(b,h),f=n.mul(l,h),b=n.add(w,w),b=n.add(b,w),y=n.mul(p,y),v=n.mul(g,v),b=n.add(b,y),y=n.sub(w,y),y=n.mul(p,y),v=n.add(v,y),w=n.mul(b,v),f=n.add(f,w),w=n.mul(x,v),l=n.mul(m,l),l=n.sub(l,w),w=n.mul(m,b),h=n.mul(x,h),h=n.add(h,w),new d(l,f,h)}subtract(e){return this.add(e.negate())}is0(){return this.equals(d.ZERO)}wNAF(e){return h.wNAFCached(this,l,e,(e=>{const t=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(t[n]))).map(d.fromAffine)}))}multiplyUnsafe(e){const r=d.ZERO;if(e===mt)return r;if(a(e),e===vt)return this;const{endo:o}=t;if(!o)return h.unsafeLadder(this,e);let{k1neg:i,k1:s,k2neg:c,k2:l}=o.splitScalar(e),u=r,f=r,p=this;for(;s>mt||l>mt;)s&vt&&(u=u.add(p)),l&vt&&(f=f.add(p)),p=p.double(),s>>=vt,l>>=vt;return i&&(u=u.negate()),c&&(f=f.negate()),f=new d(n.mul(f.px,o.beta),f.py,f.pz),u.add(f)}multiply(e){a(e);let r,o,i=e;const{endo:s}=t;if(s){const{k1neg:e,k1:t,k2neg:a,k2:c}=s.splitScalar(i);let{p:l,f:u}=this.wNAF(t),{p:f,f:p}=this.wNAF(c);l=h.constTimeNegate(e,l),f=h.constTimeNegate(a,f),f=new d(n.mul(f.px,s.beta),f.py,f.pz),r=l.add(f),o=u.add(p)}else{const{p:e,f:t}=this.wNAF(i);r=e,o=t}return d.normalizeZ([r,o])[0]}multiplyAndAddUnsafe(e,t,n){const r=d.BASE,o=(e,t)=>t!==mt&&t!==vt&&e.equals(r)?e.multiply(t):e.multiplyUnsafe(t),i=o(this,t).add(o(e,n));return i.is0()?void 0:i}toAffine(e){const{px:t,py:r,pz:o}=this,i=this.is0();null==e&&(e=i?n.ONE:n.inv(o));const s=n.mul(t,e),a=n.mul(r,e),c=n.mul(o,e);if(i)return{x:n.ZERO,y:n.ZERO};if(!n.eql(c,n.ONE))throw new Error("invZ was invalid");return{x:s,y:a}}isTorsionFree(){const{h:e,isTorsionFree:n}=t;if(e===vt)return!0;if(n)return n(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:n}=t;return e===vt?this:n?n(d,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return this.assertValidity(),r(d,this,e)}toHex(e=!0){return Ue(this.toRawBytes(e))}}d.BASE=new d(t.Gx,t.Gy,n.ONE),d.ZERO=new d(n.ZERO,n.ONE,n.ZERO);const f=t.nBitLength,h=function(e,t){const n=(e,t)=>{const n=t.negate();return e?n:t},r=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:n,unsafeLadder(t,n){let r=e.ZERO,o=t;for(;n>ht;)n&pt&&(r=r.add(o)),o=o.double(),n>>=pt;return r},precomputeWindow(e,t){const{windows:n,windowSize:o}=r(t),i=[];let s=e,a=s;for(let e=0;e<n;e++){a=s,i.push(a);for(let e=1;e<o;e++)a=a.add(s),i.push(a);s=a.double()}return i},wNAF(t,o,i){const{windows:s,windowSize:a}=r(t);let c=e.ZERO,l=e.BASE;const u=BigInt(2**t-1),d=2**t,f=BigInt(t);for(let e=0;e<s;e++){const t=e*a;let r=Number(i&u);i>>=f,r>a&&(r-=d,i+=pt);const s=t,h=t+Math.abs(r)-1,p=e%2!=0,g=r<0;0===r?l=l.add(n(p,o[s])):c=c.add(n(g,o[h]))}return{p:c,f:l}},wNAFCached(e,t,n,r){const o=e._WINDOW_SIZE||1;let i=t.get(e);return i||(i=this.precomputeWindow(e,o),1!==o&&t.set(e,r(i))),this.wNAF(o,i,n)}}}(d,t.endo?Math.ceil(f/2):f);return{CURVE:t,ProjectivePoint:d,normPrivateKeyToScalar:c,weierstrassEquation:i,isWithinCurveOrder:s}}function Bt(e){const t=function(e){const t=gt(e);return Ye(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:n,n:r}=t,o=n.BYTES+1,i=2*n.BYTES+1;function s(e){return it(e,r)}function a(e){return ct(e,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:l,weierstrassEquation:u,isWithinCurveOrder:d}=At({...t,toBytes(e,t,r){const o=t.toAffine(),i=n.toBytes(o.x),s=qe;return r?s(Uint8Array.from([t.hasEvenY()?2:3]),i):s(Uint8Array.from([4]),i,n.toBytes(o.y))},fromBytes(e){const t=e.length,r=e[0],s=e.subarray(1);if(t!==o||2!==r&&3!==r){if(t===i&&4===r){return{x:n.fromBytes(s.subarray(0,n.BYTES)),y:n.fromBytes(s.subarray(n.BYTES,2*n.BYTES))}}throw new Error(`Point of length ${t} was invalid. Expected ${o} compressed bytes or ${i} uncompressed bytes`)}{const e=Oe(s);if(!(mt<(a=e)&&a<n.ORDER))throw new Error("Point is not on curve");const t=u(e);let o=n.sqrt(t);return 1==(1&r)!==((o&vt)===vt)&&(o=n.neg(o)),{x:e,y:o}}var a}}),f=e=>Ue(De(e,t.nByteLength));function h(e){return e>r>>vt}const p=(e,t,n)=>Oe(e.slice(t,n));class g{constructor(e,t,n){this.r=e,this.s=t,this.recovery=n,this.assertValidity()}static fromCompact(e){const n=t.nByteLength;return e=Ke("compactSignature",e,2*n),new g(p(e,0,n),p(e,n,2*n))}static fromDER(e){const{r:t,s:n}=yt.toSig(Ke("DER",e));return new g(t,n)}assertValidity(){if(!d(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!d(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new g(this.r,this.s,e)}recoverPublicKey(e){const{r:r,s:o,recovery:i}=this,l=m(Ke("msgHash",e));if(null==i||![0,1,2,3].includes(i))throw new Error("recovery id invalid");const u=2===i||3===i?r+t.n:r;if(u>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const d=0==(1&i)?"02":"03",h=c.fromHex(d+f(u)),p=a(u),g=s(-l*p),w=s(o*p),b=c.BASE.multiplyAndAddUnsafe(h,g,w);if(!b)throw new Error("point at infinify");return b.assertValidity(),b}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return Re(this.toDERHex())}toDERHex(){return yt.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Re(this.toCompactHex())}toCompactHex(){return f(this.r)+f(this.s)}}const w={isValidPrivateKey(e){try{return l(e),!0}catch(e){return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const e=function(e,t,n=!1){const r=(e=Ke("privateHash",e)).length,o=ft(t).nByteLength+8;if(o<24||r<o||r>1024)throw new Error(`hashToPrivateScalar: expected ${o}-1024 bytes of input, got ${r}`);return it(n?Me(e):Oe(e),t-Xe)+Xe}(t.randomBytes(n.BYTES+8),r);return De(e,t.nByteLength)},precompute:(e=8,t=c.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)};function b(e){const t=e instanceof Uint8Array,n="string"==typeof e,r=(t||n)&&e.length;return t?r===o||r===i:n?r===2*o||r===2*i:e instanceof c}const y=t.bits2int||function(e){const n=Oe(e),r=8*e.length-t.nBitLength;return r>0?n>>BigInt(r):n},m=t.bits2int_modN||function(e){return s(y(e))},v=Fe(t.nBitLength);function x(e){if("bigint"!=typeof e)throw new Error("bigint expected");if(!(mt<=e&&e<v))throw new Error(`bigint expected < 2^${t.nBitLength}`);return De(e,t.nByteLength)}function E(e,r,o=k){if(["recovered","canonical"].some((e=>e in o)))throw new Error("sign() legacy options not supported");const{hash:i,randomBytes:u}=t;let{lowS:f,prehash:p,extraEntropy:w}=o;null==f&&(f=!0),e=Ke("msgHash",e),p&&(e=Ke("prehashed msgHash",i(e)));const b=m(e),v=l(r),E=[x(v),x(b)];if(null!=w){const e=!0===w?u(n.BYTES):w;E.push(Ke("extraEntropy",e,n.BYTES))}const A=qe(...E),B=b;return{seed:A,k2sig:function(e){const t=y(e);if(!d(t))return;const n=a(t),r=c.BASE.multiply(t).toAffine(),o=s(r.x);if(o===mt)return;const i=s(n*s(B+o*v));if(i===mt)return;let l=(r.x===o?0:2)|Number(r.y&vt),u=i;return f&&h(i)&&(u=function(e){return h(e)?s(-e):e}(i),l^=1),new g(o,u,l)}}}const k={lowS:t.lowS,prehash:!1},A={lowS:t.lowS,prehash:!1};return c.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return c.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,n=!0){if(b(e))throw new Error("first arg must be private key");if(!b(t))throw new Error("second arg must be public key");return c.fromHex(t).multiply(l(e)).toRawBytes(n)},sign:function(e,n,r=k){const{seed:o,k2sig:i}=E(e,n,r);return We(t.hash.outputLen,t.nByteLength,t.hmac)(o,i)},verify:function(e,n,r,o=A){const i=e;if(n=Ke("msgHash",n),r=Ke("publicKey",r),"strict"in o)throw new Error("options.strict was renamed to lowS");const{lowS:l,prehash:u}=o;let d,f;try{if("string"==typeof i||i instanceof Uint8Array)try{d=g.fromDER(i)}catch(e){if(!(e instanceof yt.Err))throw e;d=g.fromCompact(i)}else{if("object"!=typeof i||"bigint"!=typeof i.r||"bigint"!=typeof i.s)throw new Error("PARSE");{const{r:e,s:t}=i;d=new g(e,t)}}f=c.fromHex(r)}catch(e){if("PARSE"===e.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(l&&d.hasHighS())return!1;u&&(n=t.hash(n));const{r:h,s:p}=d,w=m(n),b=a(p),y=s(w*b),v=s(h*b),x=c.BASE.multiplyAndAddUnsafe(f,y,v)?.toAffine();return!!x&&s(x.x)===h},ProjectivePoint:c,Signature:g,utils:w}}class Ct extends ye{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,ce.hash(e);const n=we(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,o=new Uint8Array(r);o.set(n.length>r?e.create().update(n).digest():n);for(let e=0;e<o.length;e++)o[e]^=54;this.iHash.update(o),this.oHash=e.create();for(let e=0;e<o.length;e++)o[e]^=106;this.oHash.update(o),o.fill(0)}update(e){return ce.exists(this),this.iHash.update(e),this}digestInto(e){ce.exists(this),ce.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:o,blockLen:i,outputLen:s}=this;return e.finished=r,e.destroyed=o,e.blockLen=i,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const St=(e,t,n)=>new Ct(e,t).update(n).digest();
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
function Tt(e){return{hash:e,hmac:(t,...n)=>St(e,t,be(...n)),randomBytes:ve}}St.create=(e,t)=>new Ct(e,t);
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const $t=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Lt=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),_t=BigInt(1),It=BigInt(2),Ht=(e,t)=>(e+t/It)/t;function Ut(e){const t=$t,n=BigInt(3),r=BigInt(6),o=BigInt(11),i=BigInt(22),s=BigInt(23),a=BigInt(44),c=BigInt(88),l=e*e*e%t,u=l*l*e%t,d=at(u,n,t)*u%t,f=at(d,n,t)*u%t,h=at(f,It,t)*l%t,p=at(h,o,t)*h%t,g=at(p,i,t)*p%t,w=at(g,a,t)*g%t,b=at(w,c,t)*w%t,y=at(b,a,t)*g%t,m=at(y,n,t)*u%t,v=at(m,s,t)*p%t,x=at(v,r,t)*l%t,E=at(x,It,t);if(!Nt.eql(Nt.sqr(E),e))throw new Error("Cannot find square root");return E}const Nt=function(e,t,n=!1,r={}){if(e<=Qe)throw new Error(`Expected Fp ORDER > 0, got ${e}`);const{nBitLength:o,nByteLength:i}=ft(e,t);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const s=lt(e),a=Object.freeze({ORDER:e,BITS:o,BYTES:i,MASK:Fe(o),ZERO:Qe,ONE:Xe,create:t=>it(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("Invalid field element: expected bigint, got "+typeof t);return Qe<=t&&t<e},is0:e=>e===Qe,isOdd:e=>(e&Xe)===Xe,neg:t=>it(-t,e),eql:(e,t)=>e===t,sqr:t=>it(t*t,e),add:(t,n)=>it(t+n,e),sub:(t,n)=>it(t-n,e),mul:(t,n)=>it(t*n,e),pow:(e,t)=>function(e,t,n){if(n<Qe)throw new Error("Expected power > 0");if(n===Qe)return e.ONE;if(n===Xe)return t;let r=e.ONE,o=t;for(;n>Qe;)n&Xe&&(r=e.mul(r,o)),o=e.sqr(o),n>>=Xe;return r}(a,e,t),div:(t,n)=>it(t*ct(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>ct(t,e),sqrt:r.sqrt||(e=>s(a,e)),invertBatch:e=>function(e,t){const n=new Array(t.length),r=t.reduce(((t,r,o)=>e.is0(r)?t:(n[o]=t,e.mul(t,r))),e.ONE),o=e.inv(r);return t.reduceRight(((t,r,o)=>e.is0(r)?t:(n[o]=e.mul(t,n[o]),e.mul(t,r))),o),n}(a,e),cmov:(e,t,n)=>n?t:e,toBytes:e=>n?ze(e,i):De(e,i),fromBytes:e=>{if(e.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${e.length}`);return n?Me(e):Oe(e)}});return Object.freeze(a)}($t,void 0,void 0,{sqrt:Ut}),Pt=function(e,t){const n=t=>Bt({...e,...Tt(t)});return Object.freeze({...n(t),create:n})}({a:BigInt(0),b:BigInt(7),Fp:Nt,n:Lt,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Lt,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-_t*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=n,s=BigInt("0x100000000000000000000000000000000"),a=Ht(i*e,t),c=Ht(-r*e,t);let l=it(e-a*n-c*o,t),u=it(-a*r-c*i,t);const d=l>s,f=u>s;if(d&&(l=t-l),f&&(u=t-u),l>s||u>s)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:l,k2neg:f,k2:u}}}},Te),Rt=BigInt(0),Ot=e=>"bigint"==typeof e&&Rt<e&&e<$t,Mt=e=>"bigint"==typeof e&&Rt<e&&e<Lt,Dt={};function zt(e,...t){let n=Dt[e];if(void 0===n){const t=Te(Uint8Array.from(e,(e=>e.charCodeAt(0))));n=qe(t,t),Dt[e]=n}return Te(qe(n,...t))}const Kt=e=>e.toRawBytes(!0).slice(1),qt=e=>De(e,32),jt=e=>it(e,$t),Ft=e=>it(e,Lt),Vt=Pt.ProjectivePoint,Gt=(e,t,n)=>Vt.BASE.multiplyAndAddUnsafe(e,t,n);function Wt(e){let t=Pt.utils.normPrivateKeyToScalar(e),n=Vt.fromPrivateKey(t);return{scalar:n.hasEvenY()?t:Ft(-t),bytes:Kt(n)}}function Zt(e){if(!Ot(e))throw new Error("bad x: need 0 < x < p");const t=jt(e*e);let n=Ut(jt(t*e+BigInt(7)));n%It!==Rt&&(n=jt(-n));const r=new Vt(e,n,_t);return r.assertValidity(),r}function Yt(...e){return Ft(Oe(zt("BIP0340/challenge",...e)))}function Jt(e,t,n){const r=Ke("signature",e,64),o=Ke("message",t),i=Ke("publicKey",n,32);try{const e=Zt(Oe(i)),t=Oe(r.subarray(0,32));if(!Ot(t))return!1;const n=Oe(r.subarray(32,64));if(!Mt(n))return!1;const s=Yt(qt(t),Kt(e),o),a=Gt(e,n,Ft(-s));return!(!a||!a.hasEvenY()||a.toAffine().x!==t)}catch(e){return!1}}const Qt={getPublicKey:function(e){return Wt(e).bytes},sign:function(e,t,n=ve(32)){const r=Ke("message",e),{bytes:o,scalar:i}=Wt(t),s=Ke("auxRand",n,32),a=qt(i^Oe(zt("BIP0340/aux",s))),c=zt("BIP0340/nonce",a,o,r),l=Ft(Oe(c));if(l===Rt)throw new Error("sign failed: k is zero");const{bytes:u,scalar:d}=Wt(l),f=Yt(u,o,r),h=new Uint8Array(64);if(h.set(u,0),h.set(qt(Ft(d+f*i)),32),!Jt(h,r,o))throw new Error("sign: Invalid signature produced");return h},verify:Jt,utils:{randomPrivateKey:Pt.utils.randomPrivateKey,lift_x:Zt,pointToBytes:Kt,numberToBytesBE:De,bytesToNumberBE:Oe,taggedHash:zt,mod:it}},Xt=function(e,t){const n=t.map((e=>Array.from(e).reverse()));return(t,r)=>{const[o,i,s,a]=n.map((n=>n.reduce(((n,r)=>e.add(e.mul(n,t),r)))));return t=e.div(o,i),r=e.mul(r,e.div(s,a)),{x:t,y:r}}}(Nt,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map((e=>e.map((e=>BigInt(e)))))),en=function(e,t){if(dt(e),!e.isValid(t.A)||!e.isValid(t.B)||!e.isValid(t.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const n=function(e,t){const n=e.ORDER;let r=mt;for(let e=n-vt;e%xt===mt;e/=xt)r+=vt;const o=r,i=(n-vt)/xt**o,s=(i-vt)/xt,a=xt**o-vt,c=xt**(o-vt),l=e.pow(t,i),u=e.pow(t,(i+vt)/xt);let d=(t,n)=>{let r=l,i=e.pow(n,a),d=e.sqr(i);d=e.mul(d,n);let f=e.mul(t,d);f=e.pow(f,s),f=e.mul(f,i),i=e.mul(f,n),d=e.mul(f,t);let h=e.mul(d,i);f=e.pow(h,c);let p=e.eql(f,e.ONE);i=e.mul(d,u),f=e.mul(h,r),d=e.cmov(i,d,p),h=e.cmov(f,h,p);for(let t=o;t>vt;t--){let n=xt**(t-xt),o=e.pow(h,n);const s=e.eql(o,e.ONE);i=e.mul(d,r),r=e.mul(r,r),o=e.mul(h,r),d=e.cmov(i,d,s),h=e.cmov(o,h,s)}return{isValid:p,value:d}};if(e.ORDER%kt===Et){const n=(e.ORDER-Et)/kt,r=e.sqrt(e.neg(t));d=(t,o)=>{let i=e.sqr(o);const s=e.mul(t,o);i=e.mul(i,s);let a=e.pow(i,n);a=e.mul(a,s);const c=e.mul(a,r),l=e.mul(e.sqr(a),o),u=e.eql(l,t);return{isValid:u,value:e.cmov(c,a,u)}}}return d}(e,t.Z);if(!e.isOdd)throw new Error("Fp.isOdd is not implemented!");return r=>{let o,i,s,a,c,l,u,d;o=e.sqr(r),o=e.mul(o,t.Z),i=e.sqr(o),i=e.add(i,o),s=e.add(i,e.ONE),s=e.mul(s,t.B),a=e.cmov(t.Z,e.neg(i),!e.eql(i,e.ZERO)),a=e.mul(a,t.A),i=e.sqr(s),l=e.sqr(a),c=e.mul(l,t.A),i=e.add(i,c),i=e.mul(i,s),l=e.mul(l,a),c=e.mul(l,t.B),i=e.add(i,c),u=e.mul(o,s);const{isValid:f,value:h}=n(i,l);d=e.mul(o,r),d=e.mul(d,h),u=e.cmov(u,s,f),d=e.cmov(d,h,f);const p=e.isOdd(r)===e.isOdd(d);return d=e.cmov(e.neg(d),d,p),u=e.div(u,a),{x:u,y:d}}}(Nt,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:Nt.create(BigInt("-11"))});
/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */
function tn(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function nn(...e){const t=(e,t)=>n=>e(t(n));return{encode:Array.from(e).reverse().reduce(((e,n)=>e?t(e,n.encode):n.encode),void 0),decode:e.reduce(((e,n)=>e?t(e,n.decode):n.decode),void 0)}}function rn(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("alphabet.encode input should be an array of numbers");return t.map((t=>{if(tn(t),t<0||t>=e.length)throw new Error(`Digit index outside alphabet: ${t} (alphabet: ${e.length})`);return e[t]}))},decode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("alphabet.decode input should be array of strings");return t.map((t=>{if("string"!=typeof t)throw new Error(`alphabet.decode: not string element=${t}`);const n=e.indexOf(t);if(-1===n)throw new Error(`Unknown letter: "${t}". Allowed: ${e}`);return n}))}}}function on(e=""){if("string"!=typeof e)throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("join.encode input should be array of strings");for(let e of t)if("string"!=typeof e)throw new Error(`join.encode: non-string input=${e}`);return t.join(e)},decode:t=>{if("string"!=typeof t)throw new Error("join.decode input should be string");return t.split(e)}}}function sn(e,t="="){if(tn(e),"string"!=typeof t)throw new Error("padding chr should be string");return{encode(n){if(!Array.isArray(n)||n.length&&"string"!=typeof n[0])throw new Error("padding.encode input should be array of strings");for(let e of n)if("string"!=typeof e)throw new Error(`padding.encode: non-string input=${e}`);for(;n.length*e%8;)n.push(t);return n},decode(n){if(!Array.isArray(n)||n.length&&"string"!=typeof n[0])throw new Error("padding.encode input should be array of strings");for(let e of n)if("string"!=typeof e)throw new Error(`padding.decode: non-string input=${e}`);let r=n.length;if(r*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--)if(!((r-1)*e%8))throw new Error("Invalid padding: string has too much padding");return n.slice(0,r)}}}function an(e){if("function"!=typeof e)throw new Error("normalize fn should be function");return{encode:e=>e,decode:t=>e(t)}}function cn(e,t,n){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let r=0;const o=[],i=Array.from(e);for(i.forEach((e=>{if(tn(e),e<0||e>=t)throw new Error(`Wrong integer: ${e}`)}));;){let e=0,s=!0;for(let o=r;o<i.length;o++){const a=i[o],c=t*e+a;if(!Number.isSafeInteger(c)||t*e/t!==e||c-a!=t*e)throw new Error("convertRadix: carry overflow");if(e=c%n,i[o]=Math.floor(c/n),!Number.isSafeInteger(i[o])||i[o]*n+e!==c)throw new Error("convertRadix: carry overflow");s&&(i[o]?s=!1:r=o)}if(o.push(e),s)break}for(let t=0;t<e.length-1&&0===e[t];t++)o.push(0);return o.reverse()}!function(e,t,n){if("function"!=typeof t)throw new Error("mapToCurve() must be defined")}(Pt.ProjectivePoint,(e=>{const{x:t,y:n}=en(Nt.create(e[0]));return Xt(t,n)}),{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:Nt.ORDER,m:1,k:128,expand:"xmd",hash:Te});const ln=(e,t)=>t?ln(t,e%t):e,un=(e,t)=>e+(t-ln(e,t));function dn(e,t,n,r){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(un(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${un(t,n)}`);let o=0,i=0;const s=2**n-1,a=[];for(const r of e){if(tn(r),r>=2**t)throw new Error(`convertRadix2: invalid data word=${r} from=${t}`);if(o=o<<t|r,i+t>32)throw new Error(`convertRadix2: carry overflow pos=${i} from=${t}`);for(i+=t;i>=n;i-=n)a.push((o>>i-n&s)>>>0);o&=2**i-1}if(o=o<<n-i&s,!r&&i>=t)throw new Error("Excess padding");if(!r&&o)throw new Error(`Non-zero padding: ${o}`);return r&&i>0&&a.push(o>>>0),a}function fn(e,t=!1){if(tn(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(un(8,e)>32||un(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!(n instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return dn(Array.from(n),8,e,!t)},decode:n=>{if(!Array.isArray(n)||n.length&&"number"!=typeof n[0])throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(dn(n,e,8,t))}}}function hn(e){if("function"!=typeof e)throw new Error("unsafeWrapper fn should be function");return function(...t){try{return e.apply(null,t)}catch(e){}}}const pn=nn(fn(4),rn("0123456789ABCDEF"),on("")),gn=nn(fn(5),rn("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),sn(5),on(""));nn(fn(5),rn("0123456789ABCDEFGHIJKLMNOPQRSTUV"),sn(5),on("")),nn(fn(5),rn("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),on(""),an((e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))));const wn=nn(fn(6),rn("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),sn(6),on("")),bn=nn(fn(6),rn("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),sn(6),on("")),yn=e=>{return nn((tn(t=58),{encode:e=>{if(!(e instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return cn(Array.from(e),256,t)},decode:e=>{if(!Array.isArray(e)||e.length&&"number"!=typeof e[0])throw new Error("radix.decode input should be array of strings");return Uint8Array.from(cn(e,t,256))}}),rn(e),on(""));var t},mn=yn("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");yn("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),yn("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const vn=[0,2,3,5,6,7,9,10,11],xn={encode(e){let t="";for(let n=0;n<e.length;n+=8){const r=e.subarray(n,n+8);t+=mn.encode(r).padStart(vn[r.length],"1")}return t},decode(e){let t=[];for(let n=0;n<e.length;n+=11){const r=e.slice(n,n+11),o=vn.indexOf(r.length),i=mn.decode(r);for(let e=0;e<i.length-o;e++)if(0!==i[e])throw new Error("base58xmr: wrong padding");t=t.concat(Array.from(i.slice(i.length-o)))}return Uint8Array.from(t)}},En=nn(rn("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),on("")),kn=[996825010,642813549,513874426,1027748829,705979059];function An(e){const t=e>>25;let n=(33554431&e)<<5;for(let e=0;e<kn.length;e++)1==(t>>e&1)&&(n^=kn[e]);return n}function Bn(e,t,n=1){const r=e.length;let o=1;for(let t=0;t<r;t++){const n=e.charCodeAt(t);if(n<33||n>126)throw new Error(`Invalid prefix (${e})`);o=An(o)^n>>5}o=An(o);for(let t=0;t<r;t++)o=An(o)^31&e.charCodeAt(t);for(let e of t)o=An(o)^e;for(let e=0;e<6;e++)o=An(o);return o^=n,En.encode(dn([o%2**30],30,5,!1))}function Cn(e){const t="bech32"===e?1:734539939,n=fn(5),r=n.decode,o=n.encode,i=hn(r);function s(e,n=90){if("string"!=typeof e)throw new Error("bech32.decode input should be string, not "+typeof e);if(e.length<8||!1!==n&&e.length>n)throw new TypeError(`Wrong string length: ${e.length} (${e}). Expected (8..${n})`);const r=e.toLowerCase();if(e!==r&&e!==e.toUpperCase())throw new Error("String must be lowercase or uppercase");const o=(e=r).lastIndexOf("1");if(0===o||-1===o)throw new Error('Letter "1" must be present between prefix and data only');const i=e.slice(0,o),s=e.slice(o+1);if(s.length<6)throw new Error("Data must be at least 6 characters long");const a=En.decode(s).slice(0,-6),c=Bn(i,a,t);if(!s.endsWith(c))throw new Error(`Invalid checksum in ${e}: expected "${c}"`);return{prefix:i,words:a}}return{encode:function(e,n,r=90){if("string"!=typeof e)throw new Error("bech32.encode prefix should be string, not "+typeof e);if(!Array.isArray(n)||n.length&&"number"!=typeof n[0])throw new Error("bech32.encode words should be array of numbers, not "+typeof n);const o=e.length+7+n.length;if(!1!==r&&o>r)throw new TypeError(`Length ${o} exceeds limit ${r}`);return`${e=e.toLowerCase()}1${En.encode(n)}${Bn(e,n,t)}`},decode:s,decodeToBytes:function(e){const{prefix:t,words:n}=s(e,!1);return{prefix:t,words:n,bytes:r(n)}},decodeUnsafe:hn(s),fromWords:r,fromWordsUnsafe:i,toWords:o}}const Sn=Cn("bech32");Cn("bech32m");const Tn={utf8:{encode:e=>(new TextDecoder).decode(e),decode:e=>(new TextEncoder).encode(e)},hex:nn(fn(4),rn("0123456789abcdef"),on(""),an((e=>{if("string"!=typeof e||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()}))),base16:pn,base32:gn,base64:wn,base64url:bn,base58:mn,base58xmr:xn};Object.keys(Tn).join(", ");var $n={};Object.defineProperty($n,"__esModule",{value:!0});var Ln=$n.wordlist=void 0;Ln=$n.wordlist="abandon\nability\nable\nabout\nabove\nabsent\nabsorb\nabstract\nabsurd\nabuse\naccess\naccident\naccount\naccuse\nachieve\nacid\nacoustic\nacquire\nacross\nact\naction\nactor\nactress\nactual\nadapt\nadd\naddict\naddress\nadjust\nadmit\nadult\nadvance\nadvice\naerobic\naffair\nafford\nafraid\nagain\nage\nagent\nagree\nahead\naim\nair\nairport\naisle\nalarm\nalbum\nalcohol\nalert\nalien\nall\nalley\nallow\nalmost\nalone\nalpha\nalready\nalso\nalter\nalways\namateur\namazing\namong\namount\namused\nanalyst\nanchor\nancient\nanger\nangle\nangry\nanimal\nankle\nannounce\nannual\nanother\nanswer\nantenna\nantique\nanxiety\nany\napart\napology\nappear\napple\napprove\napril\narch\narctic\narea\narena\nargue\narm\narmed\narmor\narmy\naround\narrange\narrest\narrive\narrow\nart\nartefact\nartist\nartwork\nask\naspect\nassault\nasset\nassist\nassume\nasthma\nathlete\natom\nattack\nattend\nattitude\nattract\nauction\naudit\naugust\naunt\nauthor\nauto\nautumn\naverage\navocado\navoid\nawake\naware\naway\nawesome\nawful\nawkward\naxis\nbaby\nbachelor\nbacon\nbadge\nbag\nbalance\nbalcony\nball\nbamboo\nbanana\nbanner\nbar\nbarely\nbargain\nbarrel\nbase\nbasic\nbasket\nbattle\nbeach\nbean\nbeauty\nbecause\nbecome\nbeef\nbefore\nbegin\nbehave\nbehind\nbelieve\nbelow\nbelt\nbench\nbenefit\nbest\nbetray\nbetter\nbetween\nbeyond\nbicycle\nbid\nbike\nbind\nbiology\nbird\nbirth\nbitter\nblack\nblade\nblame\nblanket\nblast\nbleak\nbless\nblind\nblood\nblossom\nblouse\nblue\nblur\nblush\nboard\nboat\nbody\nboil\nbomb\nbone\nbonus\nbook\nboost\nborder\nboring\nborrow\nboss\nbottom\nbounce\nbox\nboy\nbracket\nbrain\nbrand\nbrass\nbrave\nbread\nbreeze\nbrick\nbridge\nbrief\nbright\nbring\nbrisk\nbroccoli\nbroken\nbronze\nbroom\nbrother\nbrown\nbrush\nbubble\nbuddy\nbudget\nbuffalo\nbuild\nbulb\nbulk\nbullet\nbundle\nbunker\nburden\nburger\nburst\nbus\nbusiness\nbusy\nbutter\nbuyer\nbuzz\ncabbage\ncabin\ncable\ncactus\ncage\ncake\ncall\ncalm\ncamera\ncamp\ncan\ncanal\ncancel\ncandy\ncannon\ncanoe\ncanvas\ncanyon\ncapable\ncapital\ncaptain\ncar\ncarbon\ncard\ncargo\ncarpet\ncarry\ncart\ncase\ncash\ncasino\ncastle\ncasual\ncat\ncatalog\ncatch\ncategory\ncattle\ncaught\ncause\ncaution\ncave\nceiling\ncelery\ncement\ncensus\ncentury\ncereal\ncertain\nchair\nchalk\nchampion\nchange\nchaos\nchapter\ncharge\nchase\nchat\ncheap\ncheck\ncheese\nchef\ncherry\nchest\nchicken\nchief\nchild\nchimney\nchoice\nchoose\nchronic\nchuckle\nchunk\nchurn\ncigar\ncinnamon\ncircle\ncitizen\ncity\ncivil\nclaim\nclap\nclarify\nclaw\nclay\nclean\nclerk\nclever\nclick\nclient\ncliff\nclimb\nclinic\nclip\nclock\nclog\nclose\ncloth\ncloud\nclown\nclub\nclump\ncluster\nclutch\ncoach\ncoast\ncoconut\ncode\ncoffee\ncoil\ncoin\ncollect\ncolor\ncolumn\ncombine\ncome\ncomfort\ncomic\ncommon\ncompany\nconcert\nconduct\nconfirm\ncongress\nconnect\nconsider\ncontrol\nconvince\ncook\ncool\ncopper\ncopy\ncoral\ncore\ncorn\ncorrect\ncost\ncotton\ncouch\ncountry\ncouple\ncourse\ncousin\ncover\ncoyote\ncrack\ncradle\ncraft\ncram\ncrane\ncrash\ncrater\ncrawl\ncrazy\ncream\ncredit\ncreek\ncrew\ncricket\ncrime\ncrisp\ncritic\ncrop\ncross\ncrouch\ncrowd\ncrucial\ncruel\ncruise\ncrumble\ncrunch\ncrush\ncry\ncrystal\ncube\nculture\ncup\ncupboard\ncurious\ncurrent\ncurtain\ncurve\ncushion\ncustom\ncute\ncycle\ndad\ndamage\ndamp\ndance\ndanger\ndaring\ndash\ndaughter\ndawn\nday\ndeal\ndebate\ndebris\ndecade\ndecember\ndecide\ndecline\ndecorate\ndecrease\ndeer\ndefense\ndefine\ndefy\ndegree\ndelay\ndeliver\ndemand\ndemise\ndenial\ndentist\ndeny\ndepart\ndepend\ndeposit\ndepth\ndeputy\nderive\ndescribe\ndesert\ndesign\ndesk\ndespair\ndestroy\ndetail\ndetect\ndevelop\ndevice\ndevote\ndiagram\ndial\ndiamond\ndiary\ndice\ndiesel\ndiet\ndiffer\ndigital\ndignity\ndilemma\ndinner\ndinosaur\ndirect\ndirt\ndisagree\ndiscover\ndisease\ndish\ndismiss\ndisorder\ndisplay\ndistance\ndivert\ndivide\ndivorce\ndizzy\ndoctor\ndocument\ndog\ndoll\ndolphin\ndomain\ndonate\ndonkey\ndonor\ndoor\ndose\ndouble\ndove\ndraft\ndragon\ndrama\ndrastic\ndraw\ndream\ndress\ndrift\ndrill\ndrink\ndrip\ndrive\ndrop\ndrum\ndry\nduck\ndumb\ndune\nduring\ndust\ndutch\nduty\ndwarf\ndynamic\neager\neagle\nearly\nearn\nearth\neasily\neast\neasy\necho\necology\neconomy\nedge\nedit\neducate\neffort\negg\neight\neither\nelbow\nelder\nelectric\nelegant\nelement\nelephant\nelevator\nelite\nelse\nembark\nembody\nembrace\nemerge\nemotion\nemploy\nempower\nempty\nenable\nenact\nend\nendless\nendorse\nenemy\nenergy\nenforce\nengage\nengine\nenhance\nenjoy\nenlist\nenough\nenrich\nenroll\nensure\nenter\nentire\nentry\nenvelope\nepisode\nequal\nequip\nera\nerase\nerode\nerosion\nerror\nerupt\nescape\nessay\nessence\nestate\neternal\nethics\nevidence\nevil\nevoke\nevolve\nexact\nexample\nexcess\nexchange\nexcite\nexclude\nexcuse\nexecute\nexercise\nexhaust\nexhibit\nexile\nexist\nexit\nexotic\nexpand\nexpect\nexpire\nexplain\nexpose\nexpress\nextend\nextra\neye\neyebrow\nfabric\nface\nfaculty\nfade\nfaint\nfaith\nfall\nfalse\nfame\nfamily\nfamous\nfan\nfancy\nfantasy\nfarm\nfashion\nfat\nfatal\nfather\nfatigue\nfault\nfavorite\nfeature\nfebruary\nfederal\nfee\nfeed\nfeel\nfemale\nfence\nfestival\nfetch\nfever\nfew\nfiber\nfiction\nfield\nfigure\nfile\nfilm\nfilter\nfinal\nfind\nfine\nfinger\nfinish\nfire\nfirm\nfirst\nfiscal\nfish\nfit\nfitness\nfix\nflag\nflame\nflash\nflat\nflavor\nflee\nflight\nflip\nfloat\nflock\nfloor\nflower\nfluid\nflush\nfly\nfoam\nfocus\nfog\nfoil\nfold\nfollow\nfood\nfoot\nforce\nforest\nforget\nfork\nfortune\nforum\nforward\nfossil\nfoster\nfound\nfox\nfragile\nframe\nfrequent\nfresh\nfriend\nfringe\nfrog\nfront\nfrost\nfrown\nfrozen\nfruit\nfuel\nfun\nfunny\nfurnace\nfury\nfuture\ngadget\ngain\ngalaxy\ngallery\ngame\ngap\ngarage\ngarbage\ngarden\ngarlic\ngarment\ngas\ngasp\ngate\ngather\ngauge\ngaze\ngeneral\ngenius\ngenre\ngentle\ngenuine\ngesture\nghost\ngiant\ngift\ngiggle\nginger\ngiraffe\ngirl\ngive\nglad\nglance\nglare\nglass\nglide\nglimpse\nglobe\ngloom\nglory\nglove\nglow\nglue\ngoat\ngoddess\ngold\ngood\ngoose\ngorilla\ngospel\ngossip\ngovern\ngown\ngrab\ngrace\ngrain\ngrant\ngrape\ngrass\ngravity\ngreat\ngreen\ngrid\ngrief\ngrit\ngrocery\ngroup\ngrow\ngrunt\nguard\nguess\nguide\nguilt\nguitar\ngun\ngym\nhabit\nhair\nhalf\nhammer\nhamster\nhand\nhappy\nharbor\nhard\nharsh\nharvest\nhat\nhave\nhawk\nhazard\nhead\nhealth\nheart\nheavy\nhedgehog\nheight\nhello\nhelmet\nhelp\nhen\nhero\nhidden\nhigh\nhill\nhint\nhip\nhire\nhistory\nhobby\nhockey\nhold\nhole\nholiday\nhollow\nhome\nhoney\nhood\nhope\nhorn\nhorror\nhorse\nhospital\nhost\nhotel\nhour\nhover\nhub\nhuge\nhuman\nhumble\nhumor\nhundred\nhungry\nhunt\nhurdle\nhurry\nhurt\nhusband\nhybrid\nice\nicon\nidea\nidentify\nidle\nignore\nill\nillegal\nillness\nimage\nimitate\nimmense\nimmune\nimpact\nimpose\nimprove\nimpulse\ninch\ninclude\nincome\nincrease\nindex\nindicate\nindoor\nindustry\ninfant\ninflict\ninform\ninhale\ninherit\ninitial\ninject\ninjury\ninmate\ninner\ninnocent\ninput\ninquiry\ninsane\ninsect\ninside\ninspire\ninstall\nintact\ninterest\ninto\ninvest\ninvite\ninvolve\niron\nisland\nisolate\nissue\nitem\nivory\njacket\njaguar\njar\njazz\njealous\njeans\njelly\njewel\njob\njoin\njoke\njourney\njoy\njudge\njuice\njump\njungle\njunior\njunk\njust\nkangaroo\nkeen\nkeep\nketchup\nkey\nkick\nkid\nkidney\nkind\nkingdom\nkiss\nkit\nkitchen\nkite\nkitten\nkiwi\nknee\nknife\nknock\nknow\nlab\nlabel\nlabor\nladder\nlady\nlake\nlamp\nlanguage\nlaptop\nlarge\nlater\nlatin\nlaugh\nlaundry\nlava\nlaw\nlawn\nlawsuit\nlayer\nlazy\nleader\nleaf\nlearn\nleave\nlecture\nleft\nleg\nlegal\nlegend\nleisure\nlemon\nlend\nlength\nlens\nleopard\nlesson\nletter\nlevel\nliar\nliberty\nlibrary\nlicense\nlife\nlift\nlight\nlike\nlimb\nlimit\nlink\nlion\nliquid\nlist\nlittle\nlive\nlizard\nload\nloan\nlobster\nlocal\nlock\nlogic\nlonely\nlong\nloop\nlottery\nloud\nlounge\nlove\nloyal\nlucky\nluggage\nlumber\nlunar\nlunch\nluxury\nlyrics\nmachine\nmad\nmagic\nmagnet\nmaid\nmail\nmain\nmajor\nmake\nmammal\nman\nmanage\nmandate\nmango\nmansion\nmanual\nmaple\nmarble\nmarch\nmargin\nmarine\nmarket\nmarriage\nmask\nmass\nmaster\nmatch\nmaterial\nmath\nmatrix\nmatter\nmaximum\nmaze\nmeadow\nmean\nmeasure\nmeat\nmechanic\nmedal\nmedia\nmelody\nmelt\nmember\nmemory\nmention\nmenu\nmercy\nmerge\nmerit\nmerry\nmesh\nmessage\nmetal\nmethod\nmiddle\nmidnight\nmilk\nmillion\nmimic\nmind\nminimum\nminor\nminute\nmiracle\nmirror\nmisery\nmiss\nmistake\nmix\nmixed\nmixture\nmobile\nmodel\nmodify\nmom\nmoment\nmonitor\nmonkey\nmonster\nmonth\nmoon\nmoral\nmore\nmorning\nmosquito\nmother\nmotion\nmotor\nmountain\nmouse\nmove\nmovie\nmuch\nmuffin\nmule\nmultiply\nmuscle\nmuseum\nmushroom\nmusic\nmust\nmutual\nmyself\nmystery\nmyth\nnaive\nname\nnapkin\nnarrow\nnasty\nnation\nnature\nnear\nneck\nneed\nnegative\nneglect\nneither\nnephew\nnerve\nnest\nnet\nnetwork\nneutral\nnever\nnews\nnext\nnice\nnight\nnoble\nnoise\nnominee\nnoodle\nnormal\nnorth\nnose\nnotable\nnote\nnothing\nnotice\nnovel\nnow\nnuclear\nnumber\nnurse\nnut\noak\nobey\nobject\noblige\nobscure\nobserve\nobtain\nobvious\noccur\nocean\noctober\nodor\noff\noffer\noffice\noften\noil\nokay\nold\nolive\nolympic\nomit\nonce\none\nonion\nonline\nonly\nopen\nopera\nopinion\noppose\noption\norange\norbit\norchard\norder\nordinary\norgan\norient\noriginal\norphan\nostrich\nother\noutdoor\nouter\noutput\noutside\noval\noven\nover\nown\nowner\noxygen\noyster\nozone\npact\npaddle\npage\npair\npalace\npalm\npanda\npanel\npanic\npanther\npaper\nparade\nparent\npark\nparrot\nparty\npass\npatch\npath\npatient\npatrol\npattern\npause\npave\npayment\npeace\npeanut\npear\npeasant\npelican\npen\npenalty\npencil\npeople\npepper\nperfect\npermit\nperson\npet\nphone\nphoto\nphrase\nphysical\npiano\npicnic\npicture\npiece\npig\npigeon\npill\npilot\npink\npioneer\npipe\npistol\npitch\npizza\nplace\nplanet\nplastic\nplate\nplay\nplease\npledge\npluck\nplug\nplunge\npoem\npoet\npoint\npolar\npole\npolice\npond\npony\npool\npopular\nportion\nposition\npossible\npost\npotato\npottery\npoverty\npowder\npower\npractice\npraise\npredict\nprefer\nprepare\npresent\npretty\nprevent\nprice\npride\nprimary\nprint\npriority\nprison\nprivate\nprize\nproblem\nprocess\nproduce\nprofit\nprogram\nproject\npromote\nproof\nproperty\nprosper\nprotect\nproud\nprovide\npublic\npudding\npull\npulp\npulse\npumpkin\npunch\npupil\npuppy\npurchase\npurity\npurpose\npurse\npush\nput\npuzzle\npyramid\nquality\nquantum\nquarter\nquestion\nquick\nquit\nquiz\nquote\nrabbit\nraccoon\nrace\nrack\nradar\nradio\nrail\nrain\nraise\nrally\nramp\nranch\nrandom\nrange\nrapid\nrare\nrate\nrather\nraven\nraw\nrazor\nready\nreal\nreason\nrebel\nrebuild\nrecall\nreceive\nrecipe\nrecord\nrecycle\nreduce\nreflect\nreform\nrefuse\nregion\nregret\nregular\nreject\nrelax\nrelease\nrelief\nrely\nremain\nremember\nremind\nremove\nrender\nrenew\nrent\nreopen\nrepair\nrepeat\nreplace\nreport\nrequire\nrescue\nresemble\nresist\nresource\nresponse\nresult\nretire\nretreat\nreturn\nreunion\nreveal\nreview\nreward\nrhythm\nrib\nribbon\nrice\nrich\nride\nridge\nrifle\nright\nrigid\nring\nriot\nripple\nrisk\nritual\nrival\nriver\nroad\nroast\nrobot\nrobust\nrocket\nromance\nroof\nrookie\nroom\nrose\nrotate\nrough\nround\nroute\nroyal\nrubber\nrude\nrug\nrule\nrun\nrunway\nrural\nsad\nsaddle\nsadness\nsafe\nsail\nsalad\nsalmon\nsalon\nsalt\nsalute\nsame\nsample\nsand\nsatisfy\nsatoshi\nsauce\nsausage\nsave\nsay\nscale\nscan\nscare\nscatter\nscene\nscheme\nschool\nscience\nscissors\nscorpion\nscout\nscrap\nscreen\nscript\nscrub\nsea\nsearch\nseason\nseat\nsecond\nsecret\nsection\nsecurity\nseed\nseek\nsegment\nselect\nsell\nseminar\nsenior\nsense\nsentence\nseries\nservice\nsession\nsettle\nsetup\nseven\nshadow\nshaft\nshallow\nshare\nshed\nshell\nsheriff\nshield\nshift\nshine\nship\nshiver\nshock\nshoe\nshoot\nshop\nshort\nshoulder\nshove\nshrimp\nshrug\nshuffle\nshy\nsibling\nsick\nside\nsiege\nsight\nsign\nsilent\nsilk\nsilly\nsilver\nsimilar\nsimple\nsince\nsing\nsiren\nsister\nsituate\nsix\nsize\nskate\nsketch\nski\nskill\nskin\nskirt\nskull\nslab\nslam\nsleep\nslender\nslice\nslide\nslight\nslim\nslogan\nslot\nslow\nslush\nsmall\nsmart\nsmile\nsmoke\nsmooth\nsnack\nsnake\nsnap\nsniff\nsnow\nsoap\nsoccer\nsocial\nsock\nsoda\nsoft\nsolar\nsoldier\nsolid\nsolution\nsolve\nsomeone\nsong\nsoon\nsorry\nsort\nsoul\nsound\nsoup\nsource\nsouth\nspace\nspare\nspatial\nspawn\nspeak\nspecial\nspeed\nspell\nspend\nsphere\nspice\nspider\nspike\nspin\nspirit\nsplit\nspoil\nsponsor\nspoon\nsport\nspot\nspray\nspread\nspring\nspy\nsquare\nsqueeze\nsquirrel\nstable\nstadium\nstaff\nstage\nstairs\nstamp\nstand\nstart\nstate\nstay\nsteak\nsteel\nstem\nstep\nstereo\nstick\nstill\nsting\nstock\nstomach\nstone\nstool\nstory\nstove\nstrategy\nstreet\nstrike\nstrong\nstruggle\nstudent\nstuff\nstumble\nstyle\nsubject\nsubmit\nsubway\nsuccess\nsuch\nsudden\nsuffer\nsugar\nsuggest\nsuit\nsummer\nsun\nsunny\nsunset\nsuper\nsupply\nsupreme\nsure\nsurface\nsurge\nsurprise\nsurround\nsurvey\nsuspect\nsustain\nswallow\nswamp\nswap\nswarm\nswear\nsweet\nswift\nswim\nswing\nswitch\nsword\nsymbol\nsymptom\nsyrup\nsystem\ntable\ntackle\ntag\ntail\ntalent\ntalk\ntank\ntape\ntarget\ntask\ntaste\ntattoo\ntaxi\nteach\nteam\ntell\nten\ntenant\ntennis\ntent\nterm\ntest\ntext\nthank\nthat\ntheme\nthen\ntheory\nthere\nthey\nthing\nthis\nthought\nthree\nthrive\nthrow\nthumb\nthunder\nticket\ntide\ntiger\ntilt\ntimber\ntime\ntiny\ntip\ntired\ntissue\ntitle\ntoast\ntobacco\ntoday\ntoddler\ntoe\ntogether\ntoilet\ntoken\ntomato\ntomorrow\ntone\ntongue\ntonight\ntool\ntooth\ntop\ntopic\ntopple\ntorch\ntornado\ntortoise\ntoss\ntotal\ntourist\ntoward\ntower\ntown\ntoy\ntrack\ntrade\ntraffic\ntragic\ntrain\ntransfer\ntrap\ntrash\ntravel\ntray\ntreat\ntree\ntrend\ntrial\ntribe\ntrick\ntrigger\ntrim\ntrip\ntrophy\ntrouble\ntruck\ntrue\ntruly\ntrumpet\ntrust\ntruth\ntry\ntube\ntuition\ntumble\ntuna\ntunnel\nturkey\nturn\nturtle\ntwelve\ntwenty\ntwice\ntwin\ntwist\ntwo\ntype\ntypical\nugly\numbrella\nunable\nunaware\nuncle\nuncover\nunder\nundo\nunfair\nunfold\nunhappy\nuniform\nunique\nunit\nuniverse\nunknown\nunlock\nuntil\nunusual\nunveil\nupdate\nupgrade\nuphold\nupon\nupper\nupset\nurban\nurge\nusage\nuse\nused\nuseful\nuseless\nusual\nutility\nvacant\nvacuum\nvague\nvalid\nvalley\nvalve\nvan\nvanish\nvapor\nvarious\nvast\nvault\nvehicle\nvelvet\nvendor\nventure\nvenue\nverb\nverify\nversion\nvery\nvessel\nveteran\nviable\nvibrant\nvicious\nvictory\nvideo\nview\nvillage\nvintage\nviolin\nvirtual\nvirus\nvisa\nvisit\nvisual\nvital\nvivid\nvocal\nvoice\nvoid\nvolcano\nvolume\nvote\nvoyage\nwage\nwagon\nwait\nwalk\nwall\nwalnut\nwant\nwarfare\nwarm\nwarrior\nwash\nwasp\nwaste\nwater\nwave\nway\nwealth\nweapon\nwear\nweasel\nweather\nweb\nwedding\nweekend\nweird\nwelcome\nwest\nwet\nwhale\nwhat\nwheat\nwheel\nwhen\nwhere\nwhip\nwhisper\nwide\nwidth\nwife\nwild\nwill\nwin\nwindow\nwine\nwing\nwink\nwinner\nwinter\nwire\nwisdom\nwise\nwish\nwitness\nwolf\nwoman\nwonder\nwood\nwool\nword\nwork\nworld\nworry\nworth\nwrap\nwreck\nwrestle\nwrist\nwrite\nwrong\nyard\nyear\nyellow\nyou\nyoung\nyouth\nzebra\nzero\nzone\nzoo".split("\n");var _n={},In={};function Hn(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function Un(e){if("boolean"!=typeof e)throw new Error(`Expected boolean, not ${e}`)}function Nn(e,...t){if(!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new TypeError(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function Pn(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");Hn(e.outputLen),Hn(e.blockLen)}function Rn(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function On(e,t){Nn(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}Object.defineProperty(In,"__esModule",{value:!0}),In.output=In.exists=In.hash=In.bytes=In.bool=In.number=void 0,In.number=Hn,In.bool=Un,In.bytes=Nn,In.hash=Pn,In.exists=Rn,In.output=On;const Mn={number:Hn,bool:Un,bytes:Nn,hash:Pn,exists:Rn,output:On};In.default=Mn;var Dn={},zn={},Kn={},qn={};Object.defineProperty(qn,"__esModule",{value:!0}),qn.crypto=void 0,qn.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,function(e){
/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */
Object.defineProperty(e,"__esModule",{value:!0}),e.randomBytes=e.wrapConstructorWithOpts=e.wrapConstructor=e.checkOpts=e.Hash=e.concatBytes=e.toBytes=e.utf8ToBytes=e.asyncLoop=e.nextTick=e.hexToBytes=e.bytesToHex=e.isLE=e.rotr=e.createView=e.u32=e.u8=void 0;const t=qn;e.u8=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength);e.u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));e.createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);if(e.rotr=(e,t)=>e<<32-t|e>>>t,e.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!e.isLE)throw new Error("Non little-endian hardware is not supported");const n=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));e.bytesToHex=function(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=n[e[r]];return t},e.hexToBytes=function(e){if("string"!=typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++){const r=2*n,o=e.slice(r,r+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");t[n]=i}return t};function r(e){if("string"!=typeof e)throw new TypeError("utf8ToBytes expected string, got "+typeof e);return(new TextEncoder).encode(e)}function o(e){if("string"==typeof e&&(e=r(e)),!(e instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof e})`);return e}e.nextTick=async()=>{},e.asyncLoop=async function(t,n,r){let o=Date.now();for(let i=0;i<t;i++){r(i);const t=Date.now()-o;t>=0&&t<n||(await(0,e.nextTick)(),o+=t)}},e.utf8ToBytes=r,e.toBytes=o,e.concatBytes=function(...e){if(!e.every((e=>e instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===e.length)return e[0];const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){const o=e[t];n.set(o,r),r+=o.length}return n};e.Hash=class{clone(){return this._cloneInto()}};e.checkOpts=function(e,t){if(void 0!==t&&("object"!=typeof t||(n=t,"[object Object]"!==Object.prototype.toString.call(n)||n.constructor!==Object)))throw new TypeError("Options should be object or undefined");var n;return Object.assign(e,t)},e.wrapConstructor=function(e){const t=t=>e().update(o(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t},e.wrapConstructorWithOpts=function(e){const t=(t,n)=>e(n).update(o(t)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t},e.randomBytes=function(e=32){if(t.crypto&&"function"==typeof t.crypto.getRandomValues)return t.crypto.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}}(Kn),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.hmac=void 0;const t=In,n=Kn;class r extends n.Hash{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,t.default.hash(e);const o=(0,n.toBytes)(r);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(o.length>i?e.create().update(o).digest():o);for(let e=0;e<s.length;e++)s[e]^=54;this.iHash.update(s),this.oHash=e.create();for(let e=0;e<s.length;e++)s[e]^=106;this.oHash.update(s),s.fill(0)}update(e){return t.default.exists(this),this.iHash.update(e),this}digestInto(e){t.default.exists(this),t.default.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:o,blockLen:i,outputLen:s}=this;return e.finished=r,e.destroyed=o,e.blockLen=i,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}e.hmac=(e,t,n)=>new r(e,t).update(n).digest(),e.hmac.create=(e,t)=>new r(e,t)}(zn),Object.defineProperty(Dn,"__esModule",{value:!0}),Dn.pbkdf2Async=Dn.pbkdf2=void 0;const jn=In,Fn=zn,Vn=Kn;function Gn(e,t,n,r){jn.default.hash(e);const o=(0,Vn.checkOpts)({dkLen:32,asyncTick:10},r),{c:i,dkLen:s,asyncTick:a}=o;if(jn.default.number(i),jn.default.number(s),jn.default.number(a),i<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const c=(0,Vn.toBytes)(t),l=(0,Vn.toBytes)(n),u=new Uint8Array(s),d=Fn.hmac.create(e,c),f=d._cloneInto().update(l);return{c:i,dkLen:s,asyncTick:a,DK:u,PRF:d,PRFSalt:f}}function Wn(e,t,n,r,o){return e.destroy(),t.destroy(),r&&r.destroy(),o.fill(0),n}Dn.pbkdf2=function(e,t,n,r){const{c:o,dkLen:i,DK:s,PRF:a,PRFSalt:c}=Gn(e,t,n,r);let l;const u=new Uint8Array(4),d=(0,Vn.createView)(u),f=new Uint8Array(a.outputLen);for(let e=1,t=0;t<i;e++,t+=a.outputLen){const n=s.subarray(t,t+a.outputLen);d.setInt32(0,e,!1),(l=c._cloneInto(l)).update(u).digestInto(f),n.set(f.subarray(0,n.length));for(let e=1;e<o;e++){a._cloneInto(l).update(f).digestInto(f);for(let e=0;e<n.length;e++)n[e]^=f[e]}}return Wn(a,c,s,l,f)},Dn.pbkdf2Async=async function(e,t,n,r){const{c:o,dkLen:i,asyncTick:s,DK:a,PRF:c,PRFSalt:l}=Gn(e,t,n,r);let u;const d=new Uint8Array(4),f=(0,Vn.createView)(d),h=new Uint8Array(c.outputLen);for(let e=1,t=0;t<i;e++,t+=c.outputLen){const n=a.subarray(t,t+c.outputLen);f.setInt32(0,e,!1),(u=l._cloneInto(u)).update(d).digestInto(h),n.set(h.subarray(0,n.length)),await(0,Vn.asyncLoop)(o-1,s,(e=>{c._cloneInto(u).update(h).digestInto(h);for(let e=0;e<n.length;e++)n[e]^=h[e]}))}return Wn(c,l,a,u,h)};var Zn={},Yn={};Object.defineProperty(Yn,"__esModule",{value:!0}),Yn.SHA2=void 0;const Jn=In,Qn=Kn;Yn.SHA2=class extends Qn.Hash{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,Qn.createView)(this.buffer)}update(e){Jn.default.exists(this);const{view:t,buffer:n,blockLen:r}=this,o=(e=(0,Qn.toBytes)(e)).length;for(let i=0;i<o;){const s=Math.min(r-this.pos,o-i);if(s!==r)n.set(e.subarray(i,i+s),this.pos),this.pos+=s,i+=s,this.pos===r&&(this.process(t,0),this.pos=0);else{const t=(0,Qn.createView)(e);for(;r<=o-i;i+=r)this.process(t,i)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){Jn.default.exists(this),Jn.default.output(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:o}=this;let{pos:i}=this;t[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>r-i&&(this.process(n,0),i=0);for(let e=i;e<r;e++)t[e]=0;!function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const o=BigInt(32),i=BigInt(4294967295),s=Number(n>>o&i),a=Number(n&i),c=r?4:0,l=r?0:4;e.setUint32(t+c,s,r),e.setUint32(t+l,a,r)}(n,r-8,BigInt(8*this.length),o),this.process(n,0);const s=(0,Qn.createView)(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=a/4,l=this.get();if(c>l.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<c;e++)s.setUint32(4*e,l[e],o)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:o,destroyed:i,pos:s}=this;return e.length=r,e.pos=s,e.finished=o,e.destroyed=i,r%t&&e.buffer.set(n),e}},Object.defineProperty(Zn,"__esModule",{value:!0}),Zn.sha224=Zn.sha256=void 0;const Xn=Yn,er=Kn,tr=(e,t,n)=>e&t^e&n^t&n,nr=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),rr=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),or=new Uint32Array(64);class ir extends Xn.SHA2{constructor(){super(64,32,8,!1),this.A=0|rr[0],this.B=0|rr[1],this.C=0|rr[2],this.D=0|rr[3],this.E=0|rr[4],this.F=0|rr[5],this.G=0|rr[6],this.H=0|rr[7]}get(){const{A:e,B:t,C:n,D:r,E:o,F:i,G:s,H:a}=this;return[e,t,n,r,o,i,s,a]}set(e,t,n,r,o,i,s,a){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|o,this.F=0|i,this.G=0|s,this.H=0|a}process(e,t){for(let n=0;n<16;n++,t+=4)or[n]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=or[e-15],n=or[e-2],r=(0,er.rotr)(t,7)^(0,er.rotr)(t,18)^t>>>3,o=(0,er.rotr)(n,17)^(0,er.rotr)(n,19)^n>>>10;or[e]=o+or[e-7]+r+or[e-16]|0}let{A:n,B:r,C:o,D:i,E:s,F:a,G:c,H:l}=this;for(let e=0;e<64;e++){const t=l+((0,er.rotr)(s,6)^(0,er.rotr)(s,11)^(0,er.rotr)(s,25))+((u=s)&a^~u&c)+nr[e]+or[e]|0,d=((0,er.rotr)(n,2)^(0,er.rotr)(n,13)^(0,er.rotr)(n,22))+tr(n,r,o)|0;l=c,c=a,a=s,s=i+t|0,i=o,o=r,r=n,n=t+d|0}var u;n=n+this.A|0,r=r+this.B|0,o=o+this.C|0,i=i+this.D|0,s=s+this.E|0,a=a+this.F|0,c=c+this.G|0,l=l+this.H|0,this.set(n,r,o,i,s,a,c,l)}roundClean(){or.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class sr extends ir{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}Zn.sha256=(0,er.wrapConstructor)((()=>new ir)),Zn.sha224=(0,er.wrapConstructor)((()=>new sr));var ar={},cr={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.add=e.toBig=e.split=e.fromBig=void 0;const t=BigInt(2**32-1),n=BigInt(32);function r(e,r=!1){return r?{h:Number(e&t),l:Number(e>>n&t)}:{h:0|Number(e>>n&t),l:0|Number(e&t)}}function o(e,t=!1){let n=new Uint32Array(e.length),o=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:a}=r(e[i],t);[n[i],o[i]]=[s,a]}return[n,o]}e.fromBig=r,e.split=o;e.toBig=(e,t)=>BigInt(e>>>0)<<n|BigInt(t>>>0);function i(e,t,n,r){const o=(t>>>0)+(r>>>0);return{h:e+n+(o/2**32|0)|0,l:0|o}}e.add=i;const s={fromBig:r,split:o,toBig:e.toBig,shrSH:(e,t,n)=>e>>>n,shrSL:(e,t,n)=>e<<32-n|t>>>n,rotrSH:(e,t,n)=>e>>>n|t<<32-n,rotrSL:(e,t,n)=>e<<32-n|t>>>n,rotrBH:(e,t,n)=>e<<64-n|t>>>n-32,rotrBL:(e,t,n)=>e>>>n-32|t<<64-n,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:(e,t,n)=>e<<n|t>>>32-n,rotlSL:(e,t,n)=>t<<n|e>>>32-n,rotlBH:(e,t,n)=>t<<n-32|e>>>64-n,rotlBL:(e,t,n)=>e<<n-32|t>>>64-n,add:i,add3L:(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),add3H:(e,t,n,r)=>t+n+r+(e/2**32|0)|0,add4L:(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),add4H:(e,t,n,r,o)=>t+n+r+o+(e/2**32|0)|0,add5H:(e,t,n,r,o,i)=>t+n+r+o+i+(e/2**32|0)|0,add5L:(e,t,n,r,o)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(o>>>0)};e.default=s}(cr),Object.defineProperty(ar,"__esModule",{value:!0}),ar.sha384=ar.sha512_256=ar.sha512_224=ar.sha512=ar.SHA512=void 0;const lr=Yn,ur=cr,dr=Kn,[fr,hr]=ur.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))),pr=new Uint32Array(80),gr=new Uint32Array(80);let wr=class extends lr.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:r,Ch:o,Cl:i,Dh:s,Dl:a,Eh:c,El:l,Fh:u,Fl:d,Gh:f,Gl:h,Hh:p,Hl:g}=this;return[e,t,n,r,o,i,s,a,c,l,u,d,f,h,p,g]}set(e,t,n,r,o,i,s,a,c,l,u,d,f,h,p,g){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|o,this.Cl=0|i,this.Dh=0|s,this.Dl=0|a,this.Eh=0|c,this.El=0|l,this.Fh=0|u,this.Fl=0|d,this.Gh=0|f,this.Gl=0|h,this.Hh=0|p,this.Hl=0|g}process(e,t){for(let n=0;n<16;n++,t+=4)pr[n]=e.getUint32(t),gr[n]=e.getUint32(t+=4);for(let e=16;e<80;e++){const t=0|pr[e-15],n=0|gr[e-15],r=ur.default.rotrSH(t,n,1)^ur.default.rotrSH(t,n,8)^ur.default.shrSH(t,n,7),o=ur.default.rotrSL(t,n,1)^ur.default.rotrSL(t,n,8)^ur.default.shrSL(t,n,7),i=0|pr[e-2],s=0|gr[e-2],a=ur.default.rotrSH(i,s,19)^ur.default.rotrBH(i,s,61)^ur.default.shrSH(i,s,6),c=ur.default.rotrSL(i,s,19)^ur.default.rotrBL(i,s,61)^ur.default.shrSL(i,s,6),l=ur.default.add4L(o,c,gr[e-7],gr[e-16]),u=ur.default.add4H(l,r,a,pr[e-7],pr[e-16]);pr[e]=0|u,gr[e]=0|l}let{Ah:n,Al:r,Bh:o,Bl:i,Ch:s,Cl:a,Dh:c,Dl:l,Eh:u,El:d,Fh:f,Fl:h,Gh:p,Gl:g,Hh:w,Hl:b}=this;for(let e=0;e<80;e++){const t=ur.default.rotrSH(u,d,14)^ur.default.rotrSH(u,d,18)^ur.default.rotrBH(u,d,41),y=ur.default.rotrSL(u,d,14)^ur.default.rotrSL(u,d,18)^ur.default.rotrBL(u,d,41),m=u&f^~u&p,v=d&h^~d&g,x=ur.default.add5L(b,y,v,hr[e],gr[e]),E=ur.default.add5H(x,w,t,m,fr[e],pr[e]),k=0|x,A=ur.default.rotrSH(n,r,28)^ur.default.rotrBH(n,r,34)^ur.default.rotrBH(n,r,39),B=ur.default.rotrSL(n,r,28)^ur.default.rotrBL(n,r,34)^ur.default.rotrBL(n,r,39),C=n&o^n&s^o&s,S=r&i^r&a^i&a;w=0|p,b=0|g,p=0|f,g=0|h,f=0|u,h=0|d,({h:u,l:d}=ur.default.add(0|c,0|l,0|E,0|k)),c=0|s,l=0|a,s=0|o,a=0|i,o=0|n,i=0|r;const T=ur.default.add3L(k,B,S);n=ur.default.add3H(T,E,A,C),r=0|T}({h:n,l:r}=ur.default.add(0|this.Ah,0|this.Al,0|n,0|r)),({h:o,l:i}=ur.default.add(0|this.Bh,0|this.Bl,0|o,0|i)),({h:s,l:a}=ur.default.add(0|this.Ch,0|this.Cl,0|s,0|a)),({h:c,l:l}=ur.default.add(0|this.Dh,0|this.Dl,0|c,0|l)),({h:u,l:d}=ur.default.add(0|this.Eh,0|this.El,0|u,0|d)),({h:f,l:h}=ur.default.add(0|this.Fh,0|this.Fl,0|f,0|h)),({h:p,l:g}=ur.default.add(0|this.Gh,0|this.Gl,0|p,0|g)),({h:w,l:b}=ur.default.add(0|this.Hh,0|this.Hl,0|w,0|b)),this.set(n,r,o,i,s,a,c,l,u,d,f,h,p,g,w,b)}roundClean(){pr.fill(0),gr.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};ar.SHA512=wr;let br=class extends wr{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}},yr=class extends wr{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},mr=class extends wr{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}};ar.sha512=(0,dr.wrapConstructor)((()=>new wr)),ar.sha512_224=(0,dr.wrapConstructor)((()=>new br)),ar.sha512_256=(0,dr.wrapConstructor)((()=>new yr)),ar.sha384=(0,dr.wrapConstructor)((()=>new mr));var vr={};!function(e){function t(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function n(...e){const t=(e,t)=>n=>e(t(n));return{encode:Array.from(e).reverse().reduce(((e,n)=>e?t(e,n.encode):n.encode),void 0),decode:e.reduce(((e,n)=>e?t(e,n.decode):n.decode),void 0)}}function r(e){return{encode:n=>{if(!Array.isArray(n)||n.length&&"number"!=typeof n[0])throw new Error("alphabet.encode input should be an array of numbers");return n.map((n=>{if(t(n),n<0||n>=e.length)throw new Error(`Digit index outside alphabet: ${n} (alphabet: ${e.length})`);return e[n]}))},decode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("alphabet.decode input should be array of strings");return t.map((t=>{if("string"!=typeof t)throw new Error(`alphabet.decode: not string element=${t}`);const n=e.indexOf(t);if(-1===n)throw new Error(`Unknown letter: "${t}". Allowed: ${e}`);return n}))}}}function o(e=""){if("string"!=typeof e)throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("join.encode input should be array of strings");for(let e of t)if("string"!=typeof e)throw new Error(`join.encode: non-string input=${e}`);return t.join(e)},decode:t=>{if("string"!=typeof t)throw new Error("join.decode input should be string");return t.split(e)}}}function i(e,n="="){if(t(e),"string"!=typeof n)throw new Error("padding chr should be string");return{encode(t){if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("padding.encode input should be array of strings");for(let e of t)if("string"!=typeof e)throw new Error(`padding.encode: non-string input=${e}`);for(;t.length*e%8;)t.push(n);return t},decode(t){if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("padding.encode input should be array of strings");for(let e of t)if("string"!=typeof e)throw new Error(`padding.decode: non-string input=${e}`);let r=t.length;if(r*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;r>0&&t[r-1]===n;r--)if(!((r-1)*e%8))throw new Error("Invalid padding: string has too much padding");return t.slice(0,r)}}}function s(e){if("function"!=typeof e)throw new Error("normalize fn should be function");return{encode:e=>e,decode:t=>e(t)}}function a(e,n,r){if(n<2)throw new Error(`convertRadix: wrong from=${n}, base cannot be less than 2`);if(r<2)throw new Error(`convertRadix: wrong to=${r}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let o=0;const i=[],s=Array.from(e);for(s.forEach((e=>{if(t(e),e<0||e>=n)throw new Error(`Wrong integer: ${e}`)}));;){let e=0,t=!0;for(let i=o;i<s.length;i++){const a=s[i],c=n*e+a;if(!Number.isSafeInteger(c)||n*e/n!==e||c-a!=n*e)throw new Error("convertRadix: carry overflow");if(e=c%r,s[i]=Math.floor(c/r),!Number.isSafeInteger(s[i])||s[i]*r+e!==c)throw new Error("convertRadix: carry overflow");t&&(s[i]?t=!1:o=i)}if(i.push(e),t)break}for(let t=0;t<e.length-1&&0===e[t];t++)i.push(0);return i.reverse()}
/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */
Object.defineProperty(e,"__esModule",{value:!0}),e.bytes=e.stringToBytes=e.str=e.bytesToString=e.hex=e.utf8=e.bech32m=e.bech32=e.base58check=e.base58xmr=e.base58xrp=e.base58flickr=e.base58=e.base64url=e.base64=e.base32crockford=e.base32hex=e.base32=e.base16=e.utils=e.assertNumber=void 0,e.assertNumber=t;const c=(e,t)=>t?c(t,e%t):e,l=(e,t)=>e+(t-c(e,t));function u(e,n,r,o){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(n<=0||n>32)throw new Error(`convertRadix2: wrong from=${n}`);if(r<=0||r>32)throw new Error(`convertRadix2: wrong to=${r}`);if(l(n,r)>32)throw new Error(`convertRadix2: carry overflow from=${n} to=${r} carryBits=${l(n,r)}`);let i=0,s=0;const a=2**r-1,c=[];for(const o of e){if(t(o),o>=2**n)throw new Error(`convertRadix2: invalid data word=${o} from=${n}`);if(i=i<<n|o,s+n>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${n}`);for(s+=n;s>=r;s-=r)c.push((i>>s-r&a)>>>0);i&=2**s-1}if(i=i<<r-s&a,!o&&s>=n)throw new Error("Excess padding");if(!o&&i)throw new Error(`Non-zero padding: ${i}`);return o&&s>0&&c.push(i>>>0),c}function d(e){return t(e),{encode:t=>{if(!(t instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return a(Array.from(t),256,e)},decode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("radix.decode input should be array of strings");return Uint8Array.from(a(t,e,256))}}}function f(e,n=!1){if(t(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(l(8,e)>32||l(e,8)>32)throw new Error("radix2: carry overflow");return{encode:t=>{if(!(t instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return u(Array.from(t),8,e,!n)},decode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(u(t,e,8,n))}}}function h(e){if("function"!=typeof e)throw new Error("unsafeWrapper fn should be function");return function(...t){try{return e.apply(null,t)}catch(e){}}}function p(e,n){if(t(e),"function"!=typeof n)throw new Error("checksum fn should be function");return{encode(t){if(!(t instanceof Uint8Array))throw new Error("checksum.encode: input should be Uint8Array");const r=n(t).slice(0,e),o=new Uint8Array(t.length+e);return o.set(t),o.set(r,t.length),o},decode(t){if(!(t instanceof Uint8Array))throw new Error("checksum.decode: input should be Uint8Array");const r=t.slice(0,-e),o=n(r).slice(0,e),i=t.slice(-e);for(let t=0;t<e;t++)if(o[t]!==i[t])throw new Error("Invalid checksum");return r}}}e.utils={alphabet:r,chain:n,checksum:p,radix:d,radix2:f,join:o,padding:i},e.base16=n(f(4),r("0123456789ABCDEF"),o("")),e.base32=n(f(5),r("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),i(5),o("")),e.base32hex=n(f(5),r("0123456789ABCDEFGHIJKLMNOPQRSTUV"),i(5),o("")),e.base32crockford=n(f(5),r("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),o(""),s((e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")))),e.base64=n(f(6),r("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),i(6),o("")),e.base64url=n(f(6),r("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),i(6),o(""));const g=e=>n(d(58),r(e),o(""));e.base58=g("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),e.base58flickr=g("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),e.base58xrp=g("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const w=[0,2,3,5,6,7,9,10,11];e.base58xmr={encode(t){let n="";for(let r=0;r<t.length;r+=8){const o=t.subarray(r,r+8);n+=e.base58.encode(o).padStart(w[o.length],"1")}return n},decode(t){let n=[];for(let r=0;r<t.length;r+=11){const o=t.slice(r,r+11),i=w.indexOf(o.length),s=e.base58.decode(o);for(let e=0;e<s.length-i;e++)if(0!==s[e])throw new Error("base58xmr: wrong padding");n=n.concat(Array.from(s.slice(s.length-i)))}return Uint8Array.from(n)}};e.base58check=t=>n(p(4,(e=>t(t(e)))),e.base58);const b=n(r("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),o("")),y=[996825010,642813549,513874426,1027748829,705979059];function m(e){const t=e>>25;let n=(33554431&e)<<5;for(let e=0;e<y.length;e++)1==(t>>e&1)&&(n^=y[e]);return n}function v(e,t,n=1){const r=e.length;let o=1;for(let t=0;t<r;t++){const n=e.charCodeAt(t);if(n<33||n>126)throw new Error(`Invalid prefix (${e})`);o=m(o)^n>>5}o=m(o);for(let t=0;t<r;t++)o=m(o)^31&e.charCodeAt(t);for(let e of t)o=m(o)^e;for(let e=0;e<6;e++)o=m(o);return o^=n,b.encode(u([o%2**30],30,5,!1))}function x(e){const t="bech32"===e?1:734539939,n=f(5),r=n.decode,o=n.encode,i=h(r);function s(e,n=90){if("string"!=typeof e)throw new Error("bech32.decode input should be string, not "+typeof e);if(e.length<8||!1!==n&&e.length>n)throw new TypeError(`Wrong string length: ${e.length} (${e}). Expected (8..${n})`);const r=e.toLowerCase();if(e!==r&&e!==e.toUpperCase())throw new Error("String must be lowercase or uppercase");const o=(e=r).lastIndexOf("1");if(0===o||-1===o)throw new Error('Letter "1" must be present between prefix and data only');const i=e.slice(0,o),s=e.slice(o+1);if(s.length<6)throw new Error("Data must be at least 6 characters long");const a=b.decode(s).slice(0,-6),c=v(i,a,t);if(!s.endsWith(c))throw new Error(`Invalid checksum in ${e}: expected "${c}"`);return{prefix:i,words:a}}return{encode:function(e,n,r=90){if("string"!=typeof e)throw new Error("bech32.encode prefix should be string, not "+typeof e);if(!Array.isArray(n)||n.length&&"number"!=typeof n[0])throw new Error("bech32.encode words should be array of numbers, not "+typeof n);const o=e.length+7+n.length;if(!1!==r&&o>r)throw new TypeError(`Length ${o} exceeds limit ${r}`);return`${e=e.toLowerCase()}1${b.encode(n)}${v(e,n,t)}`},decode:s,decodeToBytes:function(e){const{prefix:t,words:n}=s(e,!1);return{prefix:t,words:n,bytes:r(n)}},decodeUnsafe:h(s),fromWords:r,fromWordsUnsafe:i,toWords:o}}e.bech32=x("bech32"),e.bech32m=x("bech32m"),e.utf8={encode:e=>(new TextDecoder).decode(e),decode:e=>(new TextEncoder).encode(e)},e.hex=n(f(4),r("0123456789abcdef"),o(""),s((e=>{if("string"!=typeof e||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()})));const E={utf8:e.utf8,hex:e.hex,base16:e.base16,base32:e.base32,base64:e.base64,base64url:e.base64url,base58:e.base58,base58xmr:e.base58xmr},k=`Invalid encoding type. Available types: ${Object.keys(E).join(", ")}`;e.bytesToString=(e,t)=>{if("string"!=typeof e||!E.hasOwnProperty(e))throw new TypeError(k);if(!(t instanceof Uint8Array))throw new TypeError("bytesToString() expects Uint8Array");return E[e].encode(t)},e.str=e.bytesToString;e.stringToBytes=(e,t)=>{if(!E.hasOwnProperty(e))throw new TypeError(k);if("string"!=typeof t)throw new TypeError("stringToBytes() expects string");return E[e].decode(t)},e.bytes=e.stringToBytes}(vr),Object.defineProperty(_n,"__esModule",{value:!0});var xr=_n.mnemonicToSeedSync=_n.mnemonicToSeed=Rr=_n.validateMnemonic=_n.entropyToMnemonic=_n.mnemonicToEntropy=Ir=_n.generateMnemonic=void 0;
/*! scure-bip39 - MIT License (c) 2022 Patricio Palladino, Paul Miller (paulmillr.com) */const Er=In,kr=Dn,Ar=Zn,Br=ar,Cr=Kn,Sr=vr,Tr=e=>""===e[0];function $r(e){if("string"!=typeof e)throw new TypeError("Invalid mnemonic type: "+typeof e);return e.normalize("NFKD")}function Lr(e){const t=$r(e),n=t.split(" ");if(![12,15,18,21,24].includes(n.length))throw new Error("Invalid mnemonic");return{nfkd:t,words:n}}function _r(e){Er.default.bytes(e,16,20,24,28,32)}var Ir=_n.generateMnemonic=function(e,t=128){if(Er.default.number(t),t%32!=0||t>256)throw new TypeError("Invalid entropy");return Pr((0,Cr.randomBytes)(t/8),e)};const Hr=e=>{const t=8-e.length/4;return new Uint8Array([(0,Ar.sha256)(e)[0]>>t<<t])};function Ur(e){if(!Array.isArray(e)||2048!==e.length||"string"!=typeof e[0])throw new Error("Worlist: expected array of 2048 strings");return e.forEach((e=>{if("string"!=typeof e)throw new Error(`Wordlist: non-string element: ${e}`)})),Sr.utils.chain(Sr.utils.checksum(1,Hr),Sr.utils.radix2(11,!0),Sr.utils.alphabet(e))}function Nr(e,t){const{words:n}=Lr(e),r=Ur(t).decode(n);return _r(r),r}function Pr(e,t){_r(e);return Ur(t).encode(e).join(Tr(t)?"":" ")}_n.mnemonicToEntropy=Nr,_n.entropyToMnemonic=Pr;var Rr=_n.validateMnemonic=function(e,t){try{Nr(e,t)}catch(e){return!1}return!0};const Or=e=>$r(`mnemonic${e}`);_n.mnemonicToSeed=function(e,t=""){return(0,kr.pbkdf2Async)(Br.sha512,Lr(e).nfkd,Or(t),{c:2048,dkLen:64})},xr=_n.mnemonicToSeedSync=function(e,t=""){return(0,kr.pbkdf2)(Br.sha512,Lr(e).nfkd,Or(t),{c:2048,dkLen:64})};const Mr=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),Dr=Uint8Array.from({length:16},((e,t)=>t)),zr=Dr.map((e=>(9*e+5)%16));let Kr=[Dr],qr=[zr];for(let e=0;e<4;e++)for(let t of[Kr,qr])t.push(t[e].map((e=>Mr[e])));const jr=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map((e=>new Uint8Array(e))),Fr=Kr.map(((e,t)=>e.map((e=>jr[t][e])))),Vr=qr.map(((e,t)=>e.map((e=>jr[t][e])))),Gr=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),Wr=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),Zr=(e,t)=>e<<t|e>>>32-t;function Yr(e,t,n,r){return 0===e?t^n^r:1===e?t&n|~t&r:2===e?(t|~n)^r:3===e?t&r|n&~r:t^(n|~r)}const Jr=new Uint32Array(16);class Qr extends xe{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:t,h2:n,h3:r,h4:o}=this;return[e,t,n,r,o]}set(e,t,n,r,o){this.h0=0|e,this.h1=0|t,this.h2=0|n,this.h3=0|r,this.h4=0|o}process(e,t){for(let n=0;n<16;n++,t+=4)Jr[n]=e.getUint32(t,!0);let n=0|this.h0,r=n,o=0|this.h1,i=o,s=0|this.h2,a=s,c=0|this.h3,l=c,u=0|this.h4,d=u;for(let e=0;e<5;e++){const t=4-e,f=Gr[e],h=Wr[e],p=Kr[e],g=qr[e],w=Fr[e],b=Vr[e];for(let t=0;t<16;t++){const r=Zr(n+Yr(e,o,s,c)+Jr[p[t]]+f,w[t])+u|0;n=u,u=c,c=0|Zr(s,10),s=o,o=r}for(let e=0;e<16;e++){const n=Zr(r+Yr(t,i,a,l)+Jr[g[e]]+h,b[e])+d|0;r=d,d=l,l=0|Zr(a,10),a=i,i=n}}this.set(this.h1+s+l|0,this.h2+c+d|0,this.h3+u+r|0,this.h4+n+i|0,this.h0+o+a|0)}roundClean(){Jr.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const Xr=me((()=>new Qr)),eo=BigInt(2**32-1),to=BigInt(32);function no(e,t=!1){return t?{h:Number(e&eo),l:Number(e>>to&eo)}:{h:0|Number(e>>to&eo),l:0|Number(e&eo)}}const ro={fromBig:no,split:function(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let o=0;o<e.length;o++){const{h:i,l:s}=no(e[o],t);[n[o],r[o]]=[i,s]}return[n,r]},toBig:(e,t)=>BigInt(e>>>0)<<to|BigInt(t>>>0),shrSH:(e,t,n)=>e>>>n,shrSL:(e,t,n)=>e<<32-n|t>>>n,rotrSH:(e,t,n)=>e>>>n|t<<32-n,rotrSL:(e,t,n)=>e<<32-n|t>>>n,rotrBH:(e,t,n)=>e<<64-n|t>>>n-32,rotrBL:(e,t,n)=>e>>>n-32|t<<64-n,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:(e,t,n)=>e<<n|t>>>32-n,rotlSL:(e,t,n)=>t<<n|e>>>32-n,rotlBH:(e,t,n)=>t<<n-32|e>>>64-n,rotlBL:(e,t,n)=>e<<n-32|t>>>64-n,add:function(e,t,n,r){const o=(t>>>0)+(r>>>0);return{h:e+n+(o/2**32|0)|0,l:0|o}},add3L:(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),add3H:(e,t,n,r)=>t+n+r+(e/2**32|0)|0,add4L:(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),add4H:(e,t,n,r,o)=>t+n+r+o+(e/2**32|0)|0,add5H:(e,t,n,r,o,i)=>t+n+r+o+i+(e/2**32|0)|0,add5L:(e,t,n,r,o)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(o>>>0)},[oo,io]=ro.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))),so=new Uint32Array(80),ao=new Uint32Array(80);class co extends xe{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:r,Ch:o,Cl:i,Dh:s,Dl:a,Eh:c,El:l,Fh:u,Fl:d,Gh:f,Gl:h,Hh:p,Hl:g}=this;return[e,t,n,r,o,i,s,a,c,l,u,d,f,h,p,g]}set(e,t,n,r,o,i,s,a,c,l,u,d,f,h,p,g){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|o,this.Cl=0|i,this.Dh=0|s,this.Dl=0|a,this.Eh=0|c,this.El=0|l,this.Fh=0|u,this.Fl=0|d,this.Gh=0|f,this.Gl=0|h,this.Hh=0|p,this.Hl=0|g}process(e,t){for(let n=0;n<16;n++,t+=4)so[n]=e.getUint32(t),ao[n]=e.getUint32(t+=4);for(let e=16;e<80;e++){const t=0|so[e-15],n=0|ao[e-15],r=ro.rotrSH(t,n,1)^ro.rotrSH(t,n,8)^ro.shrSH(t,n,7),o=ro.rotrSL(t,n,1)^ro.rotrSL(t,n,8)^ro.shrSL(t,n,7),i=0|so[e-2],s=0|ao[e-2],a=ro.rotrSH(i,s,19)^ro.rotrBH(i,s,61)^ro.shrSH(i,s,6),c=ro.rotrSL(i,s,19)^ro.rotrBL(i,s,61)^ro.shrSL(i,s,6),l=ro.add4L(o,c,ao[e-7],ao[e-16]),u=ro.add4H(l,r,a,so[e-7],so[e-16]);so[e]=0|u,ao[e]=0|l}let{Ah:n,Al:r,Bh:o,Bl:i,Ch:s,Cl:a,Dh:c,Dl:l,Eh:u,El:d,Fh:f,Fl:h,Gh:p,Gl:g,Hh:w,Hl:b}=this;for(let e=0;e<80;e++){const t=ro.rotrSH(u,d,14)^ro.rotrSH(u,d,18)^ro.rotrBH(u,d,41),y=ro.rotrSL(u,d,14)^ro.rotrSL(u,d,18)^ro.rotrBL(u,d,41),m=u&f^~u&p,v=d&h^~d&g,x=ro.add5L(b,y,v,io[e],ao[e]),E=ro.add5H(x,w,t,m,oo[e],so[e]),k=0|x,A=ro.rotrSH(n,r,28)^ro.rotrBH(n,r,34)^ro.rotrBH(n,r,39),B=ro.rotrSL(n,r,28)^ro.rotrBL(n,r,34)^ro.rotrBL(n,r,39),C=n&o^n&s^o&s,S=r&i^r&a^i&a;w=0|p,b=0|g,p=0|f,g=0|h,f=0|u,h=0|d,({h:u,l:d}=ro.add(0|c,0|l,0|E,0|k)),c=0|s,l=0|a,s=0|o,a=0|i,o=0|n,i=0|r;const T=ro.add3L(k,B,S);n=ro.add3H(T,E,A,C),r=0|T}({h:n,l:r}=ro.add(0|this.Ah,0|this.Al,0|n,0|r)),({h:o,l:i}=ro.add(0|this.Bh,0|this.Bl,0|o,0|i)),({h:s,l:a}=ro.add(0|this.Ch,0|this.Cl,0|s,0|a)),({h:c,l:l}=ro.add(0|this.Dh,0|this.Dl,0|c,0|l)),({h:u,l:d}=ro.add(0|this.Eh,0|this.El,0|u,0|d)),({h:f,l:h}=ro.add(0|this.Fh,0|this.Fl,0|f,0|h)),({h:p,l:g}=ro.add(0|this.Gh,0|this.Gl,0|p,0|g)),({h:w,l:b}=ro.add(0|this.Hh,0|this.Hl,0|w,0|b)),this.set(n,r,o,i,s,a,c,l,u,d,f,h,p,g,w,b)}roundClean(){so.fill(0),ao.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class lo extends co{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class uo extends co{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class fo extends co{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const ho=me((()=>new co));me((()=>new lo)),me((()=>new uo)),me((()=>new fo));const po=Pt.ProjectivePoint,go=(e=>nn(function(e,t){if(tn(e),"function"!=typeof t)throw new Error("checksum fn should be function");return{encode(n){if(!(n instanceof Uint8Array))throw new Error("checksum.encode: input should be Uint8Array");const r=t(n).slice(0,e),o=new Uint8Array(n.length+e);return o.set(n),o.set(r,n.length),o},decode(n){if(!(n instanceof Uint8Array))throw new Error("checksum.decode: input should be Uint8Array");const r=n.slice(0,-e),o=t(r).slice(0,e),i=n.slice(-e);for(let t=0;t<e;t++)if(o[t]!==i[t])throw new Error("Invalid checksum");return r}}}(4,(t=>e(e(t)))),mn))(Te);function wo(e){return BigInt(`0x${he(e)}`)}const bo=ge("Bitcoin seed"),yo={private:76066276,public:76067358},mo=2147483648,vo=e=>{if(!Number.isSafeInteger(e)||e<0||e>2**32-1)throw new Error(`Invalid number=${e}. Should be from 0 to 2 ** 32 - 1`);const t=new Uint8Array(4);return ue(t).setUint32(0,e,!1),t};class xo{get fingerprint(){if(!this.pubHash)throw new Error("No publicKey set!");return e=this.pubHash,ue(e).getUint32(0,!1);var e}get identifier(){return this.pubHash}get pubKeyHash(){return this.pubHash}get privateKey(){return this.privKeyBytes||null}get publicKey(){return this.pubKey||null}get privateExtendedKey(){const e=this.privateKey;if(!e)throw new Error("No private key");return go.encode(this.serialize(this.versions.private,be(new Uint8Array([0]),e)))}get publicExtendedKey(){if(!this.pubKey)throw new Error("No public key");return go.encode(this.serialize(this.versions.public,this.pubKey))}static fromMasterSeed(e,t=yo){if(ae(e),8*e.length<128||8*e.length>512)throw new Error(`HDKey: wrong seed length=${e.length}. Should be between 128 and 512 bits; 256 bits is advised)`);const n=St(ho,bo,e);return new xo({versions:t,chainCode:n.slice(32),privateKey:n.slice(0,32)})}static fromExtendedKey(e,t=yo){const n=go.decode(e),r=ue(n),o=r.getUint32(0,!1),i={versions:t,depth:n[4],parentFingerprint:r.getUint32(5,!1),index:r.getUint32(9,!1),chainCode:n.slice(13,45)},s=n.slice(45),a=0===s[0];if(o!==t[a?"private":"public"])throw new Error("Version mismatch");return new xo(a?{...i,privateKey:s.slice(1)}:{...i,publicKey:s})}static fromJSON(e){return xo.fromExtendedKey(e.xpriv)}constructor(e){if(this.depth=0,this.index=0,this.chainCode=null,this.parentFingerprint=0,!e||"object"!=typeof e)throw new Error("HDKey.constructor must not be called directly");if(this.versions=e.versions||yo,this.depth=e.depth||0,this.chainCode=e.chainCode,this.index=e.index||0,this.parentFingerprint=e.parentFingerprint||0,!this.depth&&(this.parentFingerprint||this.index))throw new Error("HDKey: zero depth with non-zero index/parent fingerprint");if(e.publicKey&&e.privateKey)throw new Error("HDKey: publicKey and privateKey at same time.");if(e.privateKey){if(!Pt.utils.isValidPrivateKey(e.privateKey))throw new Error("Invalid private key");this.privKey="bigint"==typeof e.privateKey?e.privateKey:wo(e.privateKey),this.privKeyBytes=pe(this.privKey.toString(16).padStart(64,"0")),this.pubKey=Pt.getPublicKey(e.privateKey,!0)}else{if(!e.publicKey)throw new Error("HDKey: no public or private key provided");this.pubKey=po.fromHex(e.publicKey).toRawBytes(!0)}var t;this.pubHash=(t=this.pubKey,Xr(Te(t)))}derive(e){if(!/^[mM]'?/.test(e))throw new Error('Path must start with "m" or "M"');if(/^[mM]'?$/.test(e))return this;const t=e.replace(/^[mM]'?\//,"").split("/");let n=this;for(const e of t){const t=/^(\d+)('?)$/.exec(e);if(!t||3!==t.length)throw new Error(`Invalid child index: ${e}`);let r=+t[1];if(!Number.isSafeInteger(r)||r>=mo)throw new Error("Invalid index");"'"===t[2]&&(r+=mo),n=n.deriveChild(r)}return n}deriveChild(e){if(!this.pubKey||!this.chainCode)throw new Error("No publicKey or chainCode set");let t=vo(e);if(e>=mo){const e=this.privateKey;if(!e)throw new Error("Could not derive hardened child key");t=be(new Uint8Array([0]),e,t)}else t=be(this.pubKey,t);const n=St(ho,this.chainCode,t),r=wo(n.slice(0,32)),o=n.slice(32);if(!Pt.utils.isValidPrivateKey(r))throw new Error("Tweak bigger than curve order");const i={versions:this.versions,chainCode:o,depth:this.depth+1,parentFingerprint:this.fingerprint,index:e};try{if(this.privateKey){const e=it(this.privKey+r,Pt.CURVE.n);if(!Pt.utils.isValidPrivateKey(e))throw new Error("The tweak was out of range or the resulted private key is invalid");i.privateKey=e}else{const e=po.fromHex(this.pubKey).add(po.fromPrivateKey(r));if(e.equals(po.ZERO))throw new Error("The tweak was equal to negative P, which made the result key invalid");i.publicKey=e.toRawBytes(!0)}return new xo(i)}catch(t){return this.deriveChild(e+1)}}sign(e){if(!this.privateKey)throw new Error("No privateKey set!");return ae(e,32),Pt.sign(e,this.privKey).toCompactRawBytes()}verify(e,t){if(ae(e,32),ae(t,64),!this.publicKey)throw new Error("No publicKey set!");let n;try{n=Pt.Signature.fromCompact(t)}catch(e){return!1}return Pt.verify(n,e,this.publicKey)}wipePrivateData(){return this.privKey=void 0,this.privKeyBytes&&(this.privKeyBytes.fill(0),this.privKeyBytes=void 0),this}toJSON(){return{xpriv:this.privateExtendedKey,xpub:this.publicExtendedKey}}serialize(e,t){if(!this.chainCode)throw new Error("No chainCode set");return ae(t,33),be(vo(e),new Uint8Array([this.depth]),vo(this.parentFingerprint),vo(this.index),this.chainCode,t)}}var Eo=Object.defineProperty,ko=(e,t)=>{for(var n in t)Eo(e,n,{get:t[n],enumerable:!0})};function Ao(e){return he(Qt.getPublicKey(e))}ko({},{MessageNode:()=>Lo,MessageQueue:()=>_o,insertEventIntoAscendingList:()=>$o,insertEventIntoDescendingList:()=>To,normalizeURL:()=>So,utf8Decoder:()=>Bo,utf8Encoder:()=>Co});var Bo=new TextDecoder("utf-8"),Co=new TextEncoder;function So(e){let t=new URL(e);return t.pathname=t.pathname.replace(/\/+/g,"/"),t.pathname.endsWith("/")&&(t.pathname=t.pathname.slice(0,-1)),("80"===t.port&&"ws:"===t.protocol||"443"===t.port&&"wss:"===t.protocol)&&(t.port=""),t.searchParams.sort(),t.hash="",t.toString()}function To(e,t){let n,r=0,o=e.length-1,i=r;if(o<0)i=0;else if(t.created_at<e[o].created_at)i=o+1;else if(t.created_at>=e[r].created_at)i=r;else for(;;){if(o<=r+1){i=o;break}if(n=Math.floor(r+(o-r)/2),e[n].created_at>t.created_at)r=n;else{if(!(e[n].created_at<t.created_at)){i=n;break}o=n}}return e[i]?.id!==t.id?[...e.slice(0,i),t,...e.slice(i)]:e}function $o(e,t){let n,r=0,o=e.length-1,i=r;if(o<0)i=0;else if(t.created_at>e[o].created_at)i=o+1;else if(t.created_at<=e[r].created_at)i=r;else for(;;){if(o<=r+1){i=o;break}if(n=Math.floor(r+(o-r)/2),e[n].created_at<t.created_at)r=n;else{if(!(e[n].created_at>t.created_at)){i=n;break}o=n}}return e[i]?.id!==t.id?[...e.slice(0,i),t,...e.slice(i)]:e}var Lo=class{_value;_next;get value(){return this._value}set value(e){this._value=e}get next(){return this._next}set next(e){this._next=e}constructor(e){this._value=e,this._next=null}},_o=class{_first;_last;get first(){return this._first}set first(e){this._first=e}get last(){return this._last}set last(e){this._last=e}_size;get size(){return this._size}set size(e){this._size=e}constructor(){this._first=null,this._last=null,this._size=0}enqueue(e){const t=new Lo(e);return 0!==this._size&&this._last?(this._last.next=t,this._last=t):(this._first=t,this._last=t),this._size++,!0}dequeue(){if(0===this._size||!this._first)return null;let e=this._first;return this._first=e.next,e.next=null,this._size--,e.value}};function Io(e,t){let n=e;return n.pubkey=Ao(t),n.id=Ho(n),n.sig=function(e,t){return he(Qt.sign(Ho(e),t))}(n,t),n}function Ho(e){return he(Te(Co.encode(function(e){if(!No(e))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content])}(e))))}var Uo=e=>e instanceof Object;function No(e){if(!Uo(e))return!1;if("number"!=typeof e.kind)return!1;if("string"!=typeof e.content)return!1;if("number"!=typeof e.created_at)return!1;if("string"!=typeof e.pubkey)return!1;if(!e.pubkey.match(/^[a-f0-9]{64}$/))return!1;if(!Array.isArray(e.tags))return!1;for(let t=0;t<e.tags.length;t++){let n=e.tags[t];if(!Array.isArray(n))return!1;for(let e=0;e<n.length;e++)if("object"==typeof n[e])return!1}return!0}function Po(e){try{return Qt.verify(e.sig,Ho(e),e.pubkey)}catch(e){return!1}}function Ro(e,t){if(e.ids&&-1===e.ids.indexOf(t.id)&&!e.ids.some((e=>t.id.startsWith(e))))return!1;if(e.kinds&&-1===e.kinds.indexOf(t.kind))return!1;if(e.authors&&-1===e.authors.indexOf(t.pubkey)&&!e.authors.some((e=>t.pubkey.startsWith(e))))return!1;for(let n in e)if("#"===n[0]){let r=e[`#${n.slice(1)}`];if(r&&!t.tags.find((([e,t])=>e===n.slice(1)&&-1!==r.indexOf(t))))return!1}return!(e.since&&t.created_at<e.since)&&!(e.until&&t.created_at>=e.until)}function Oo(e,t){let n=t.length+3,r=e.indexOf(`"${t}":`)+n,o=e.slice(r).indexOf('"')+r+1;return e.slice(o,o+64)}function Mo(e,t){let n=t.length,r=e.indexOf(`"${t}":`)+n+3,o=e.slice(r),i=Math.min(o.indexOf(","),o.indexOf("}"));return parseInt(o.slice(0,i),10)}function Do(e){let t=e.slice(0,22).indexOf('"EVENT"');if(-1===t)return null;let n=e.slice(t+7+1).indexOf('"');if(-1===n)return null;let r=t+7+1+n,o=e.slice(r+1,80).indexOf('"');if(-1===o)return null;let i=r+1+o;return e.slice(r+1,i)}function zo(e,t){return t===Oo(e,"id")}function Ko(e,t){return t===Oo(e,"pubkey")}function qo(e,t){return t===Mo(e,"kind")}ko({},{getHex64:()=>Oo,getInt:()=>Mo,getSubscriptionId:()=>Do,matchEventId:()=>zo,matchEventKind:()=>qo,matchEventPubkey:()=>Ko});function jo(e,t={}){let{listTimeout:n=3e3,getTimeout:r=3e3,countTimeout:o=3e3}=t;var i,s,a={},c={connect:[],disconnect:[],error:[],notice:[],auth:[]},l={},u={};async function d(){return s||(s=new Promise(((t,n)=>{try{i=new WebSocket(e)}catch(e){n(e)}i.onopen=()=>{c.connect.forEach((e=>e())),t()},i.onerror=()=>{s=void 0,c.error.forEach((e=>e())),n()},i.onclose=async()=>{s=void 0,c.disconnect.forEach((e=>e()))};let r,o=new _o;function d(){if(0===o.size)return clearInterval(r),void(r=null);var t=o.dequeue();if(!t)return;let n=Do(t);if(n){let r=a[n];if(r&&r.alreadyHaveEvent&&r.alreadyHaveEvent(Oo(t,"id"),e))return}try{let e=JSON.parse(t);switch(e[0]){case"EVENT":{let t=e[1],n=e[2];return void(No(n)&&a[t]&&(a[t].skipVerification||Po(n))&&function(e,t){for(let n=0;n<e.length;n++)if(Ro(e[n],t))return!0;return!1}(a[t].filters,n)&&(a[t],(l[t]?.event||[]).forEach((e=>e(n)))))}case"COUNT":let t=e[1],n=e[2];return void(a[t]&&(l[t]?.count||[]).forEach((e=>e(n))));case"EOSE":{let t=e[1];return void(t in l&&(l[t].eose.forEach((e=>e())),l[t].eose=[]))}case"OK":{let t=e[1],n=e[2],r=e[3]||"";return void(t in u&&(n?u[t].ok.forEach((e=>e())):u[t].failed.forEach((e=>e(r))),u[t].ok=[],u[t].failed=[]))}case"NOTICE":let r=e[1];return void c.notice.forEach((e=>e(r)));case"AUTH":{let t=e[1];return void c.auth?.forEach((e=>e(t)))}}}catch(e){return}}i.onmessage=e=>{o.enqueue(e.data),r||(r=setInterval(d,0))}})),s)}function f(){return 1===i?.readyState}async function h(e){let t=JSON.stringify(e);if(f()||(await new Promise((e=>setTimeout(e,1e3))),f()))try{i.send(t)}catch(e){console.log(e)}}const p=(e,{verb:t="REQ",skipVerification:n=!1,alreadyHaveEvent:r=null,id:o=Math.random().toString().slice(2)}={})=>{let i=o;return a[i]={id:i,filters:e,skipVerification:n,alreadyHaveEvent:r},h([t,i,...e]),{sub:(t,o={})=>p(t||e,{skipVerification:o.skipVerification||n,alreadyHaveEvent:o.alreadyHaveEvent||r,id:i}),unsub:()=>{delete a[i],delete l[i],h(["CLOSE",i])},on:(e,t)=>{l[i]=l[i]||{event:[],count:[],eose:[]},l[i][e].push(t)},off:(e,t)=>{let n=l[i],r=n[e].indexOf(t);r>=0&&n[e].splice(r,1)}}};function g(e,t){if(!e.id)throw new Error(`event ${e} has no id`);let n=e.id;return h([t,e]),{on:(e,t)=>{u[n]=u[n]||{ok:[],failed:[]},u[n][e].push(t)},off:(e,t)=>{let r=u[n];if(!r)return;let o=r[e].indexOf(t);o>=0&&r[e].splice(o,1)}}}return{url:e,sub:p,on:(e,t)=>{c[e].push(t),"connect"===e&&1===i?.readyState&&t()},off:(e,t)=>{let n=c[e].indexOf(t);-1!==n&&c[e].splice(n,1)},list:(e,t)=>new Promise((r=>{let o=p(e,t),i=[],s=setTimeout((()=>{o.unsub(),r(i)}),n);o.on("eose",(()=>{o.unsub(),clearTimeout(s),r(i)})),o.on("event",(e=>{i.push(e)}))})),get:(e,t)=>new Promise((n=>{let o=p([e],t),i=setTimeout((()=>{o.unsub(),n(null)}),r);o.on("event",(e=>{o.unsub(),clearTimeout(i),n(e)}))})),count:e=>new Promise((t=>{let n=p(e,{...p,verb:"COUNT"}),r=setTimeout((()=>{n.unsub(),t(null)}),o);n.on("count",(e=>{n.unsub(),clearTimeout(r),t(e)}))})),publish:e=>g(e,"EVENT"),auth:e=>g(e,"AUTH"),connect:async function(){f()||await d()},close(){c={connect:[],disconnect:[],error:[],notice:[],auth:[]},l={},u={},i.readyState===WebSocket.OPEN&&i?.close()},get status(){return i?.readyState??3}}}var Fo={};ko(Fo,{BECH32_REGEX:()=>Go,decode:()=>Wo,naddrEncode:()=>ni,neventEncode:()=>ti,noteEncode:()=>Qo,nprofileEncode:()=>ei,npubEncode:()=>Jo,nrelayEncode:()=>ri,nsecEncode:()=>Yo});var Vo=5e3,Go=/[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}/;function Wo(e){let{prefix:t,words:n}=Sn.decode(e,Vo),r=new Uint8Array(Sn.fromWords(n));switch(t){case"nprofile":{let e=Zo(r);if(!e[0]?.[0])throw new Error("missing TLV 0 for nprofile");if(32!==e[0][0].length)throw new Error("TLV 0 should be 32 bytes");return{type:"nprofile",data:{pubkey:he(e[0][0]),relays:e[1]?e[1].map((e=>Bo.decode(e))):[]}}}case"nevent":{let e=Zo(r);if(!e[0]?.[0])throw new Error("missing TLV 0 for nevent");if(32!==e[0][0].length)throw new Error("TLV 0 should be 32 bytes");if(e[2]&&32!==e[2][0].length)throw new Error("TLV 2 should be 32 bytes");return{type:"nevent",data:{id:he(e[0][0]),relays:e[1]?e[1].map((e=>Bo.decode(e))):[],author:e[2]?.[0]?he(e[2][0]):void 0}}}case"naddr":{let e=Zo(r);if(!e[0]?.[0])throw new Error("missing TLV 0 for naddr");if(!e[2]?.[0])throw new Error("missing TLV 2 for naddr");if(32!==e[2][0].length)throw new Error("TLV 2 should be 32 bytes");if(!e[3]?.[0])throw new Error("missing TLV 3 for naddr");if(4!==e[3][0].length)throw new Error("TLV 3 should be 4 bytes");return{type:"naddr",data:{identifier:Bo.decode(e[0][0]),pubkey:he(e[2][0]),kind:parseInt(he(e[3][0]),16),relays:e[1]?e[1].map((e=>Bo.decode(e))):[]}}}case"nrelay":{let e=Zo(r);if(!e[0]?.[0])throw new Error("missing TLV 0 for nrelay");return{type:"nrelay",data:Bo.decode(e[0][0])}}case"nsec":case"npub":case"note":return{type:t,data:he(r)};default:throw new Error(`unknown prefix ${t}`)}}function Zo(e){let t={},n=e;for(;n.length>0;){let e=n[0],r=n[1];if(!r)throw new Error(`malformed TLV ${e}`);let o=n.slice(2,2+r);if(n=n.slice(2+r),o.length<r)throw new Error(`not enough data to read on TLV ${e}`);t[e]=t[e]||[],t[e].push(o)}return t}function Yo(e){return Xo("nsec",e)}function Jo(e){return Xo("npub",e)}function Qo(e){return Xo("note",e)}function Xo(e,t){let n=pe(t),r=Sn.toWords(n);return Sn.encode(e,r,Vo)}function ei(e){let t=oi({0:[pe(e.pubkey)],1:(e.relays||[]).map((e=>Co.encode(e)))}),n=Sn.toWords(t);return Sn.encode("nprofile",n,Vo)}function ti(e){let t=oi({0:[pe(e.id)],1:(e.relays||[]).map((e=>Co.encode(e))),2:e.author?[pe(e.author)]:[]}),n=Sn.toWords(t);return Sn.encode("nevent",n,Vo)}function ni(e){let t=new ArrayBuffer(4);new DataView(t).setUint32(0,e.kind,!1);let n=oi({0:[Co.encode(e.identifier)],1:(e.relays||[]).map((e=>Co.encode(e))),2:[pe(e.pubkey)],3:[new Uint8Array(t)]}),r=Sn.toWords(n);return Sn.encode("naddr",r,Vo)}function ri(e){let t=oi({0:[Co.encode(e)]}),n=Sn.toWords(t);return Sn.encode("nrelay",n,Vo)}function oi(e){let t=[];return Object.entries(e).forEach((([e,n])=>{n.forEach((n=>{let r=new Uint8Array(n.length+2);r.set([parseInt(e)],0),r.set([n.length],1),r.set(n,2),t.push(r)}))})),be(...t)}async function ii(e,t,n){const r=ai(Pt.getSharedSecret(e,"02"+t));let o=Uint8Array.from(ve(16)),i=Co.encode(n),s=await crypto.subtle.importKey("raw",r,{name:"AES-CBC"},!1,["encrypt"]),a=await crypto.subtle.encrypt({name:"AES-CBC",iv:o},s,i);return`${wn.encode(new Uint8Array(a))}?iv=${wn.encode(new Uint8Array(o.buffer))}`}async function si(e,t,n){let[r,o]=n.split("?iv="),i=ai(Pt.getSharedSecret(e,"02"+t)),s=await crypto.subtle.importKey("raw",i,{name:"AES-CBC"},!1,["decrypt"]),a=wn.decode(r),c=wn.decode(o),l=await crypto.subtle.decrypt({name:"AES-CBC",iv:c},s,a);return Bo.decode(l)}function ai(e){return e.slice(1,33)}ko({},{decrypt:()=>si,encrypt:()=>ii}),"undefined"!=typeof crypto&&!crypto.subtle&&crypto.webcrypto&&(crypto.subtle=crypto.webcrypto.subtle);ko({},{NIP05_REGEX:()=>li,queryProfile:()=>fi,searchDomain:()=>di,useFetchImplementation:()=>ui});var ci,li=/^(?:([\w.+-]+)@)?([\w.-]+)$/;try{ci=fetch}catch{}function ui(e){ci=e}async function di(e,t=""){try{return(await(await ci(`https://${e}/.well-known/nostr.json?name=${t}`)).json()).names}catch(e){return{}}}async function fi(e){const t=e.match(li);if(!t)return null;const[n,r="_",o]=t;try{const e=await ci(`https://${o}/.well-known/nostr.json?name=${r}`),{names:t,relays:n}=function(e){const t={names:{}};for(const[n,r]of Object.entries(e.names))"string"==typeof n&&"string"==typeof r&&(t.names[n]=r);if(e.relays){t.relays={};for(const[n,r]of Object.entries(e.relays))"string"==typeof n&&Array.isArray(r)&&(t.relays[n]=r.filter((e=>"string"==typeof e)))}return t}(await e.json()),i=t[r];return i?{pubkey:i,relays:n?.[i]}:null}catch(e){return null}}function hi(e,t){let n=xo.fromMasterSeed(xr(e,t)).derive("m/44'/1237'/0'/0/0").privateKey;if(!n)throw new Error("could not derive private key");return he(n)}function pi(){return Ir(Ln)}function gi(e){return Rr(e,Ln)}ko({},{generateSeedWords:()=>pi,privateKeyFromSeedWords:()=>hi,validateWords:()=>gi});function wi(e){const t={reply:void 0,root:void 0,mentions:[],profiles:[]},n=[];for(const r of e.tags)"e"===r[0]&&r[1]&&n.push(r),"p"===r[0]&&r[1]&&t.profiles.push({pubkey:r[1],relays:r[2]?[r[2]]:[]});for(let e=0;e<n.length;e++){const r=n[e],[o,i,s,a]=r,c={id:i,relays:s?[s]:[]},l=0===e,u=e===n.length-1;"root"!==a?"reply"!==a?"mention"!==a?l?t.root=c:u?t.reply=c:t.mentions.push(c):t.mentions.push(c):t.reply=c:t.root=c}return t}ko({},{parse:()=>wi});function bi(e){return function(e){let t,n,r;for(n=0,t=0;n<e.length&&(r=yi(e[n]),t+=r,8===r);n++);return t}(pe(e))}function yi(e){let t=0;if(0===e)return 8;for(;e>>=1;)t++;return 7-t}ko({},{getPow:()=>bi});function mi(e,t,n,r){return Io({kind:6,tags:[...e.tags??[],["e",t.id,n],["p",t.pubkey]],content:""===e.content?"":JSON.stringify(t),created_at:e.created_at},r)}function vi(e){if(6!==e.kind)return;let t,n;for(let r=e.tags.length-1;r>=0&&(void 0===t||void 0===n);r--){const o=e.tags[r];o.length>=2&&("e"===o[0]&&void 0===t?t=o:"p"===o[0]&&void 0===n&&(n=o))}return void 0!==t?{id:t[1],relays:[t[2],n?.[2]].filter((e=>"string"==typeof e)),author:n?.[1]}:void 0}function xi(e,{skipVerification:t}={}){const n=vi(e);if(void 0===n||""===e.content)return;let r;try{r=JSON.parse(e.content)}catch(e){return}return r.id===n.id&&(t||Po(r))?r:void 0}ko({},{finishRepostEvent:()=>mi,getRepostedEvent:()=>xi,getRepostedEventPointer:()=>vi});ko({},{NOSTR_URI_REGEX:()=>Ei,parse:()=>Ai,test:()=>ki});var Ei=new RegExp(`nostr:(${Go.source})`);function ki(e){return"string"==typeof e&&new RegExp(`^${Ei.source}$`).test(e)}function Ai(e){const t=e.match(new RegExp(`^${Ei.source}$`));if(!t)throw new Error(`Invalid Nostr URI: ${e}`);return{uri:t[0],value:t[1],decoded:Wo(t[1])}}function Bi(e,t,n){const r=t.tags.filter((e=>e.length>=2&&("e"===e[0]||"p"===e[0])));return Io({...e,kind:7,tags:[...e.tags??[],...r,["e",t.id],["p",t.pubkey]],content:e.content??"+"},n)}function Ci(e){if(7!==e.kind)return;let t,n;for(let r=e.tags.length-1;r>=0&&(void 0===t||void 0===n);r--){const o=e.tags[r];o.length>=2&&("e"===o[0]&&void 0===t?t=o:"p"===o[0]&&void 0===n&&(n=o))}return void 0!==t&&void 0!==n?{id:t[1],relays:[t[2],n[2]].filter((e=>void 0!==e)),author:n[1]}:void 0}ko({},{finishReactionEvent:()=>Bi,getReactedEventPointer:()=>Ci});function Si(e,t){let n=[];(t.kind||-1)>=0&&n.push(`kind=${t.kind}`),t.until&&n.push(`created_at<${t.until}`),t.since&&n.push(`created_at>${t.since}`);let r=n.join("&");if(""===r)throw new Error("refusing to create a delegation without any conditions");let o=Te(Co.encode(`nostr:delegation:${t.pubkey}:${r}`)),i=he(Qt.sign(o,e));return{from:Ao(e),to:t.pubkey,cond:r,sig:i}}function Ti(e){let t=e.tags.find((e=>"delegation"===e[0]&&e.length>=4));if(!t)return null;let n=t[1],r=t[2],o=t[3],i=r.split("&");for(let t=0;t<i.length;t++){let[n,r,o]=i[t].split(/\b/);if(("kind"!==n||"="!==r||e.kind!==parseInt(o))&&!("created_at"===n&&"<"===r&&e.created_at<parseInt(o)||"created_at"===n&&">"===r&&e.created_at>parseInt(o)))return null}let s=Te(Co.encode(`nostr:delegation:${e.pubkey}:${r}`));return Qt.verify(o,s,n)?n:null}ko({},{createDelegation:()=>Si,getDelegator:()=>Ti});ko({},{matchAll:()=>Li,regex:()=>$i,replaceAll:()=>_i});var $i=()=>new RegExp(`\\b${Ei.source}\\b`,"g");function*Li(e){const t=e.matchAll($i());for(const e of t){const[t,n]=e;yield{uri:t,value:n,decoded:Wo(n),start:e.index,end:e.index+t.length}}}function _i(e,t){return e.replaceAll($i(),((e,n)=>t({uri:e,value:n,decoded:Wo(n)})))}var Ii;ko({},{useFetchImplementation:()=>Hi,validateGithub:()=>Ui});try{Ii=fetch}catch{}function Hi(e){Ii=e}async function Ui(e,t,n){try{return await(await Ii(`https://gist.github.com/${t}/${n}/raw`)).text()===`Verifying that I control the following Nostr public key: ${e}`}catch(e){return!1}}ko({},{authenticate:()=>Pi});var Ni,Pi=async({challenge:e,relay:t,sign:n})=>{const r={kind:22242,created_at:Math.floor(Date.now()/1e3),tags:[["relay",t.url],["challenge",e]],content:""},o=t.auth(await n(r));return new Promise(((e,t)=>{o.on("ok",(function t(){o.off("ok",t),e()})),o.on("failed",(function e(n){o.off("failed",e),t(n)}))}))};ko({},{getZapEndpoint:()=>Oi,makeZapReceipt:()=>zi,makeZapRequest:()=>Mi,useFetchImplementation:()=>Ri,validateZapRequest:()=>Di});try{Ni=fetch}catch{}function Ri(e){Ni=e}async function Oi(e){try{let t="",{lud06:n,lud16:r}=JSON.parse(e.content);if(n){let{words:e}=Sn.decode(n,1e3),r=Sn.fromWords(e);t=Bo.decode(r)}else{if(!r)return null;{let[e,n]=r.split("@");t=`https://${n}/.well-known/lnurlp/${e}`}}let o=await Ni(t),i=await o.json();if(i.allowsNostr&&i.nostrPubkey)return i.callback}catch(e){}return null}function Mi({profile:e,event:t,amount:n,relays:r,comment:o=""}){if(!n)throw new Error("amount not given");if(!e)throw new Error("profile not given");let i={kind:9734,created_at:Math.round(Date.now()/1e3),content:o,tags:[["p",e],["amount",n.toString()],["relays",...r]]};return t&&i.tags.push(["e",t]),i}function Di(e){let t;try{t=JSON.parse(e)}catch(e){return"Invalid zap request JSON."}if(!No(t))return"Zap request is not a valid Nostr event.";if(!Po(t))return"Invalid signature on zap request.";let n=t.tags.find((([e,t])=>"p"===e&&t));if(!n)return"Zap request doesn't have a 'p' tag.";if(!n[1].match(/^[a-f0-9]{64}$/))return"Zap request 'p' tag is not valid hex.";let r=t.tags.find((([e,t])=>"e"===e&&t));return r&&!r[1].match(/^[a-f0-9]{64}$/)?"Zap request 'e' tag is not valid hex.":t.tags.find((([e,t])=>"relays"===e&&t))?null:"Zap request doesn't have a 'relays' tag."}function zi({zapRequest:e,preimage:t,bolt11:n,paidAt:r}){let o=JSON.parse(e).tags.filter((([e])=>"e"===e||"p"===e||"a"===e)),i={kind:9735,created_at:Math.round(r.getTime()/1e3),content:"",tags:[...o,["bolt11",n],["description",e]]};return t&&i.tags.push(["preimage",t]),i}const Ki=[];function qi(t,n=e){let r;const o=new Set;function s(e){if(i(t,e)&&(t=e,r)){const e=!Ki.length;for(const e of o)e[1](),Ki.push(e,t);if(e){for(let e=0;e<Ki.length;e+=2)Ki[e][0](Ki[e+1]);Ki.length=0}}}return{set:s,update:function(e){s(e(t))},subscribe:function(i,a=e){const c=[i,a];return o.add(c),1===o.size&&(r=n(s)||e),i(t),()=>{o.delete(c),0===o.size&&r&&(r(),r=null)}}}}const ji=["wss://relay.damus.io"],Fi=new class{_conn;_seenOn={};eoseSubTimeout;getTimeout;constructor(e={}){this._conn={},this.eoseSubTimeout=e.eoseSubTimeout||3400,this.getTimeout=e.getTimeout||3400}close(e){e.forEach((e=>{let t=this._conn[So(e)];t&&t.close()}))}async ensureRelay(e){const t=So(e);this._conn[t]||(this._conn[t]=jo(t,{getTimeout:.9*this.getTimeout,listTimeout:.9*this.getTimeout}));const n=this._conn[t];return await n.connect(),n}sub(e,t,n){let r=new Set,o={...n||{}};o.alreadyHaveEvent=(e,t)=>{if(n?.alreadyHaveEvent?.(e,t))return!0;let o=this._seenOn[e]||new Set;return o.add(t),this._seenOn[e]=o,r.has(e)};let i=[],s=new Set,a=new Set,c=e.length,l=!1,u=setTimeout((()=>{l=!0;for(let e of a.values())e()}),this.eoseSubTimeout);e.forEach((async e=>{let n;try{n=await this.ensureRelay(e)}catch(e){return void f()}if(!n)return;let d=n.sub(t,o);function f(){if(c--,0===c){clearTimeout(u);for(let e of a.values())e()}}d.on("event",(e=>{r.add(e.id);for(let t of s.values())t(e)})),d.on("eose",(()=>{l||f()})),i.push(d)}));let d={sub:(e,t)=>(i.forEach((n=>n.sub(e,t))),d),unsub(){i.forEach((e=>e.unsub()))},on(e,t){"event"===e?s.add(t):"eose"===e&&a.add(t)},off(e,t){"event"===e?s.delete(t):"eose"===e&&a.delete(t)}};return d}get(e,t,n){return new Promise((r=>{let o=this.sub(e,[t],n),i=setTimeout((()=>{o.unsub(),r(null)}),this.getTimeout);o.on("event",(e=>{r(e),clearTimeout(i),o.unsub()}))}))}list(e,t,n){return new Promise((r=>{let o=[],i=this.sub(e,t,n);i.on("event",(e=>{o.push(e)})),i.on("eose",(()=>{i.unsub(),r(o)}))}))}publish(e,t){const n=e.map((async e=>{let n;try{return n=await this.ensureRelay(e),n.publish(t)}catch(e){return{on(){},off(){}}}})),r=new Map;return{on(t,o){e.forEach((async(e,i)=>{let s=await n[i],a=()=>o(e);r.set(o,a),s.on(t,a)}))},off(t,o){e.forEach((async(e,i)=>{let s=r.get(o);if(s){(await n[i]).off(t,s)}}))}}}seenOn(e){return Array.from(this._seenOn[e]?.values?.()||[])}},Vi=qi(""),Gi=qi({});let Wi=qi([]),Zi=qi(),Yi=qi([]),Ji=qi("light"),Qi=qi([]);async function Xi(){return new Promise((e=>{Q.storage.local.set({profiles:u(Wi)}),e()}))}async function es(e){return new Promise((t=>{Q.storage.local.set({theme:e}),Ji.set(e),document.documentElement.setAttribute("data-theme",e),t()}))}function ts(){return new Promise((async e=>{await Promise.all([is(),os(),ns()]),e()}))}async function ns(){return new Promise((e=>{Q.storage.local.get("relays",(t=>{Yi.set(t.relays||[]),e(t.relays)}))}))}async function rs(){return new Promise((e=>{Q.storage.local.get("privateKey",(t=>{Vi.set(t.privateKey),e(t.privateKey),ts()}))}))}async function os(){return new Promise((e=>{Q.storage.local.get("webSites",(t=>{Zi.set(t.webSites),e(t.webSites)}))}))}async function is(){if(u(Vi)){try{Fi.get(ji,{authors:[Ao(u(Vi))],kinds:[0]}).then((e=>{const t=JSON.parse(e.content);Gi.set(t),Q.storage.local.set({profile:t})}))}catch(e){alert(e.message)}return new Promise((e=>{Q.storage.local.get("profile",(t=>{Gi.set(t.profile),e(t.profile)}))}))}}function ss(e,t,n){const r=e.slice();return r[29]=t[n],r}function as(e,t,n){const r=e.slice();return r[38]=t[n],r}function cs(e,t,n){const r=e.slice();return r[35]=t[n],r[37]=n,r}function ls(e,t,n){const r=e.slice();return r[32]=t[n],r}function us(e){let t,n,o,i,s,a,c,l,u,d,b,y,v,k,B,C,S,T,$,L,_,I,H,U,N,P,R,O,M,D,z,K,q,j,F,V,G,W,Z,Y,J,Q,X,ee,te,ne=e[8],re=[];for(let t=0;t<ne.length;t+=1)re[t]=hs(as(e,ne,t));return{c(){t=w("div"),n=w("button"),n.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10s10-4.48 10-10S17.52 2 12 2zM7.35 18.5C8.66 17.56 10.26 17 12 17s3.34.56 4.65 1.5c-1.31.94-2.91 1.5-4.65 1.5s-3.34-.56-4.65-1.5zm10.79-1.38a9.947 9.947 0 0 0-12.28 0A7.957 7.957 0 0 1 4 12c0-4.42 3.58-8 8-8s8 3.58 8 8c0 1.95-.7 3.73-1.86 5.12z"></path><path fill="currentColor" d="M12 6c-1.93 0-3.5 1.57-3.5 3.5S10.07 13 12 13s3.5-1.57 3.5-3.5S13.93 6 12 6zm0 5c-.83 0-1.5-.67-1.5-1.5S11.17 8 12 8s1.5.67 1.5 1.5S12.83 11 12 11z"></path></svg>\n        show profile',o=m(),i=w("hr"),s=m(),a=w("div"),c=w("span"),c.textContent="Private Key",l=m(),u=w("input"),y=m(),v=w("button"),v.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-width="1.5"><path d="M20.998 10c-.012-2.175-.108-3.353-.877-4.121C19.243 5 17.828 5 15 5h-3c-2.828 0-4.243 0-5.121.879C6 6.757 6 8.172 6 11v5c0 2.828 0 4.243.879 5.121C7.757 22 9.172 22 12 22h3c2.828 0 4.243 0 5.121-.879C21 20.243 21 18.828 21 16v-1"></path><path d="M3 10v6a3 3 0 0 0 3 3M18 5a3 3 0 0 0-3-3h-4C7.229 2 5.343 2 4.172 3.172C3.518 3.825 3.229 4.7 3.102 6"></path></g></svg>',k=m(),B=w("div"),C=w("span"),C.textContent="Public Key (Hex)",S=m(),T=w("input"),$=m(),L=w("button"),L.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-width="1.5"><path d="M20.998 10c-.012-2.175-.108-3.353-.877-4.121C19.243 5 17.828 5 15 5h-3c-2.828 0-4.243 0-5.121.879C6 6.757 6 8.172 6 11v5c0 2.828 0 4.243.879 5.121C7.757 22 9.172 22 12 22h3c2.828 0 4.243 0 5.121-.879C21 20.243 21 18.828 21 16v-1"></path><path d="M3 10v6a3 3 0 0 0 3 3M18 5a3 3 0 0 0-3-3h-4C7.229 2 5.343 2 4.172 3.172C3.518 3.825 3.229 4.7 3.102 6"></path></g></svg>',_=m(),I=w("div"),H=w("span"),H.textContent="Public Key (npub)",U=m(),N=w("input"),P=m(),R=w("button"),R.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-width="1.5"><path d="M20.998 10c-.012-2.175-.108-3.353-.877-4.121C19.243 5 17.828 5 15 5h-3c-2.828 0-4.243 0-5.121.879C6 6.757 6 8.172 6 11v5c0 2.828 0 4.243.879 5.121C7.757 22 9.172 22 12 22h3c2.828 0 4.243 0 5.121-.879C21 20.243 21 18.828 21 16v-1"></path><path d="M3 10v6a3 3 0 0 0 3 3M18 5a3 3 0 0 0-3-3h-4C7.229 2 5.343 2 4.172 3.172C3.518 3.825 3.229 4.7 3.102 6"></path></g></svg>',O=m(),M=w("hr"),D=m(),z=w("div"),K=w("span"),K.textContent="Relays",q=m(),j=w("div"),F=w("table"),V=w("thead"),V.innerHTML='<tr><th>Relay</th> \n                <th class="text-center w-16">Actions</th></tr>',G=m(),W=w("tbody");for(let e=0;e<re.length;e+=1)re[e].c();Z=m(),Y=w("div"),J=w("input"),Q=m(),X=w("button"),X.textContent="Add",E(n,"class","btn btn-base-100 bg-base-100 bordered border-2 border-base-200 my-8 ml-28"),E(c,"class","w-full pb-1 pl-2 font-sans font-bold"),E(u,"type",d=e[3]===e[1].Password?"password":"text"),u.value=b=Fo.nsecEncode(e[6]),E(u,"placeholder","nsec"),E(u,"class","input input-bordered w-9/12"),E(v,"class","btn w-2/12 p-2"),E(a,"class","p-4 w-full flex flex-row flex-wrap space-x-2"),E(C,"class","w-full pb-1 pl-2 font-sans font-bold"),E(T,"type","text"),T.value=e[9],E(T,"class","input input-bordered w-9/12"),E(L,"class","btn w-2/12 p-2"),E(B,"class","p-4 w-full flex flex-row flex-wrap space-x-2"),E(H,"class","w-full pb-1 pl-2 font-sans font-bold"),E(N,"type","text"),N.value=e[10],E(N,"class","input input-bordered w-9/12"),E(R,"class","btn w-2/12 p-2"),E(I,"class","p-4 w-full flex flex-row flex-wrap space-x-2"),E(K,"class","w-full pb-1 pl-2 font-sans font-bold"),E(F,"class","table table-zebra"),E(j,"class","overflow-x-auto w-full"),E(J,"type","text"),E(J,"class","input input-bordered w-9/12 h-10"),E(J,"id","value"),E(J,"placeholder","Enter relay url"),E(X,"class","btn btn-sm w-2/12 h-10"),E(Y,"class","w-full flex flex-row flex-wrap space-x-2 mt-4"),E(z,"class","p-4 w-full flex flex-row flex-wrap space-x-2"),E(t,"class","w-full")},m(r,d){h(r,t,d),f(t,n),f(t,o),f(t,i),f(t,s),f(t,a),f(a,c),f(a,l),f(a,u),f(a,y),f(a,v),f(t,k),f(t,B),f(B,C),f(B,S),f(B,T),f(B,$),f(B,L),f(t,_),f(t,I),f(I,H),f(I,U),f(I,N),f(I,P),f(I,R),f(t,O),f(t,M),f(t,D),f(t,z),f(z,K),f(z,q),f(z,j),f(j,F),f(F,V),f(F,G),f(F,W);for(let e=0;e<re.length;e+=1)re[e]&&re[e].m(W,null);f(z,Z),f(z,Y),f(Y,J),A(J,e[2]),f(Y,Q),f(Y,X),ee||(te=[x(n,"click",e[16]),x(u,"focus",e[17]),x(u,"blur",e[18]),x(v,"click",e[19]),x(L,"click",e[20]),x(R,"click",e[21]),x(J,"input",e[24]),x(X,"click",e[25])],ee=!0)},p(e,t){if(10&t[0]&&d!==(d=e[3]===e[1].Password?"password":"text")&&E(u,"type",d),64&t[0]&&b!==(b=Fo.nsecEncode(e[6]))&&u.value!==b&&(u.value=b),2304&t[0]){let n;for(ne=e[8],n=0;n<ne.length;n+=1){const r=as(e,ne,n);re[n]?re[n].p(r,t):(re[n]=hs(r),re[n].c(),re[n].m(W,null))}for(;n<re.length;n+=1)re[n].d(1);re.length=ne.length}4&t[0]&&J.value!==e[2]&&A(J,e[2])},d(e){e&&p(t),g(re,e),ee=!1,r(te)}}}function ds(e){let t,n,r,o,i,s=ne(e[5].history),a=[];for(let t=0;t<s.length;t+=1)a[t]=ps(cs(e,s,t));return{c(){t=w("div"),n=w("table"),r=w("thead"),r.innerHTML='<tr><th class="fond-bold">Status</th> \n            <th>Type</th> \n            <th>Time</th></tr>',o=m(),i=w("tbody");for(let e=0;e<a.length;e+=1)a[e].c();E(n,"class","table table-zebra w-full"),E(t,"class","w-full")},m(e,s){h(e,t,s),f(t,n),f(n,r),f(n,o),f(n,i);for(let e=0;e<a.length;e+=1)a[e]&&a[e].m(i,null)},p(e,t){if(32&t[0]){let n;for(s=ne(e[5].history),n=0;n<s.length;n+=1){const r=cs(e,s,n);a[n]?a[n].p(r,t):(a[n]=ps(r),a[n].c(),a[n].m(i,null))}for(;n<a.length;n+=1)a[n].d(1);a.length=s.length}},d(e){e&&p(t),g(a,e)}}}function fs(e){let t,n,r,o,i,s,a,c,l,u,d,b,y,v=e[7],x=[];for(let t=0;t<v.length;t+=1)x[t]=gs(ls(e,v,t));return{c(){t=w("div"),n=w("div"),r=w("span"),r.textContent="Notifications",o=m(),i=w("div"),s=w("table"),a=w("thead"),a.innerHTML='<tr><th>Name</th> \n                <th>State</th> \n                <th class="text-center w-16">Actions</th></tr>',c=m(),l=w("tbody");for(let e=0;e<x.length;e+=1)x[e].c();u=m(),d=w("hr"),b=m(),y=w("center"),y.innerHTML='<p class="pt-4 font-sans">keys.band <span class="text-primary">Vundefined</span></p>',E(r,"class","w-full pb-1 pl-2 font-sans font-bold"),E(s,"class","table table-zebra"),E(i,"class","overflow-x-auto w-full"),E(n,"class","p-4 w-full flex flex-row flex-wrap space-x-2"),E(t,"class","w-full")},m(e,p){h(e,t,p),f(t,n),f(n,r),f(n,o),f(n,i),f(i,s),f(s,a),f(s,c),f(s,l);for(let e=0;e<x.length;e+=1)x[e]&&x[e].m(l,null);f(t,u),f(t,d),f(t,b),f(t,y)},p(e,t){if(128&t[0]){let n;for(v=e[7],n=0;n<v.length;n+=1){const r=ls(e,v,n);x[n]?x[n].p(r,t):(x[n]=gs(r),x[n].c(),x[n].m(l,null))}for(;n<x.length;n+=1)x[n].d(1);x.length=v.length}},d(e){e&&p(t),g(x,e)}}}function hs(e){let t,n,o,i,s,a,c,l,u,d,g,b=e[38].url+"";function v(){return e[22](e[38])}function A(){return e[23](e[38])}return{c(){t=w("tr"),n=w("td"),o=y(b),i=m(),s=w("td"),a=w("button"),a.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-width="1.5"><path d="M20.998 10c-.012-2.175-.108-3.353-.877-4.121C19.243 5 17.828 5 15 5h-3c-2.828 0-4.243 0-5.121.879C6 6.757 6 8.172 6 11v5c0 2.828 0 4.243.879 5.121C7.757 22 9.172 22 12 22h3c2.828 0 4.243 0 5.121-.879C21 20.243 21 18.828 21 16v-1"></path><path d="M3 10v6a3 3 0 0 0 3 3M18 5a3 3 0 0 0-3-3h-4C7.229 2 5.343 2 4.172 3.172C3.518 3.825 3.229 4.7 3.102 6"></path></g></svg>',c=m(),l=w("button"),l.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"></path></svg>',u=m(),E(a,"class","btn btn-xs h-8"),E(l,"class","btn btn-xs h-8"),E(s,"class","flex space-x-2")},m(e,r){h(e,t,r),f(t,n),f(n,o),f(t,i),f(t,s),f(s,a),f(s,c),f(s,l),f(t,u),d||(g=[x(a,"click",v),x(l,"click",A)],d=!0)},p(t,n){e=t,256&n[0]&&b!==(b=e[38].url+"")&&k(o,b)},d(e){e&&p(t),d=!1,r(g)}}}function ps(e){let t,n,r,o,i,s,a,c,l,u,d=e[35].accepted?"Yes":"No",g=e[35].type+"",b=re(new Date(e[35].created_at))+"";return{c(){t=w("tr"),n=w("td"),r=y(d),o=m(),i=w("td"),s=y(g),a=m(),c=w("td"),l=y(b),u=m(),E(n,"class","text fond-bold"),C(n,"text-accent",e[35].accepted||!1),C(n,"text-secondary",!e[35].accepted||!1),E(i,"class","text fond-bold")},m(e,d){h(e,t,d),f(t,n),f(n,r),f(t,o),f(t,i),f(i,s),f(t,a),f(t,c),f(c,l),f(t,u)},p(e,t){32&t[0]&&d!==(d=e[35].accepted?"Yes":"No")&&k(r,d),32&t[0]&&C(n,"text-accent",e[35].accepted||!1),32&t[0]&&C(n,"text-secondary",!e[35].accepted||!1),32&t[0]&&g!==(g=e[35].type+"")&&k(s,g),32&t[0]&&b!==(b=re(new Date(e[35].created_at))+"")&&k(l,b)},d(e){e&&p(t)}}}function gs(e){let t,n,r,o,i,s,a,c,l,u,d,g,b,v,A=ie(e[32].name||"")+"",B=e[32]?"enabled":"disabled",S=e[32].state?"Disable":"Enable";function T(){return e[15](e[32])}return{c(){t=w("tr"),n=w("td"),r=y(A),o=m(),i=w("td"),s=w("span"),a=y(B),c=m(),l=w("td"),u=w("button"),d=y(S),g=m(),E(s,"class","badge badge-sm"),C(s,"badge-secondary",0==e[32].state),C(s,"badge-accent",1==e[32].state),E(u,"class","btn btn-xs h-8 rounded-2"),C(u,"btn-accent",0==e[32].state),C(u,"btn-secondary",1==e[32].state),E(l,"class","flex space-x-2")},m(e,p){h(e,t,p),f(t,n),f(n,r),f(t,o),f(t,i),f(i,s),f(s,a),f(t,c),f(t,l),f(l,u),f(u,d),f(t,g),b||(v=x(u,"click",T),b=!0)},p(t,n){e=t,128&n[0]&&A!==(A=ie(e[32].name||"")+"")&&k(r,A),128&n[0]&&B!==(B=e[32]?"enabled":"disabled")&&k(a,B),128&n[0]&&C(s,"badge-secondary",0==e[32].state),128&n[0]&&C(s,"badge-accent",1==e[32].state),128&n[0]&&S!==(S=e[32].state?"Disable":"Enable")&&k(d,S),128&n[0]&&C(u,"btn-accent",0==e[32].state),128&n[0]&&C(u,"btn-secondary",1==e[32].state)},d(e){e&&p(t),b=!1,v()}}}function ws(e){let t,n,r,o,i=e[29].message+"";return{c(){t=w("div"),n=w("span"),r=y(i),o=m(),E(n,"class","flex flex-row space-x-4"),E(t,"class","alert alert-white bordered border-1 border-gray-300")},m(e,i){h(e,t,i),f(t,n),f(n,r),f(t,o)},p(e,t){1&t[0]&&i!==(i=e[29].message+"")&&k(r,i)},d(e){e&&p(t)}}}function bs(t){let n,o,i,s,a,c,l,u,d,b,y,v;function k(e,t){return 0===e[4]?fs:1===e[4]?ds:2===e[4]?us:void 0}let A=k(t),B=A&&A(t),S=t[0],T=[];for(let e=0;e<S.length;e+=1)T[e]=ws(ss(t,S,e));return{c(){n=w("div"),o=w("button"),o.textContent="General",i=m(),s=w("button"),s.textContent="History",a=m(),c=w("button"),c.textContent="Account",l=m(),u=w("div"),B&&B.c(),d=m(),b=w("div");for(let e=0;e<T.length;e+=1)T[e].c();E(o,"class","tab tab-bordered w-1/3"),C(o,"tab-active",0===t[4]),E(s,"class","tab tab-bordered w-1/3"),C(s,"tab-active",1===t[4]),E(c,"class","tab tab-bordered w-1/3"),C(c,"tab-active",2===t[4]),E(n,"class","tabs w-full"),E(u,"class","w-full"),E(b,"class","toast toast-center opacity-50")},m(e,r){h(e,n,r),f(n,o),f(n,i),f(n,s),f(n,a),f(n,c),h(e,l,r),h(e,u,r),B&&B.m(u,null),h(e,d,r),h(e,b,r);for(let e=0;e<T.length;e+=1)T[e]&&T[e].m(b,null);y||(v=[x(o,"click",t[12]),x(s,"click",t[13]),x(c,"click",t[14])],y=!0)},p(e,t){if(16&t[0]&&C(o,"tab-active",0===e[4]),16&t[0]&&C(s,"tab-active",1===e[4]),16&t[0]&&C(c,"tab-active",2===e[4]),A===(A=k(e))&&B?B.p(e,t):(B&&B.d(1),B=A&&A(e),B&&(B.c(),B.m(u,null))),1&t[0]){let n;for(S=e[0],n=0;n<S.length;n+=1){const r=ss(e,S,n);T[n]?T[n].p(r,t):(T[n]=ws(r),T[n].c(),T[n].m(b,null))}for(;n<T.length;n+=1)T[n].d(1);T.length=S.length}},i:e,o:e,d(e){e&&p(n),e&&p(l),e&&p(u),B&&B.d(),e&&p(d),e&&p(b),g(T,e),y=!1,r(v)}}}function ys(e,t,n){let r,o,i,s;d(e,Zi,(e=>n(27,r=e))),d(e,Vi,(e=>n(6,o=e))),d(e,Qi,(e=>n(7,i=e))),d(e,Yi,(e=>n(8,s=e)));const a=Ao(o),c=Fo.npubEncode(a);let l=[];var u;!function(e){e[e.Password=0]="Password",e[e.Normal=1]="Normal"}(u||(u={}));let f={url:""};Q.tabs.query({active:!0,currentWindow:!0},(function(e){var t=e[0];f=t}));let h="",p=u.Password;u.Password;let g=0;function w(e){n(0,l=[...l,{message:e}]),setTimeout((()=>{n(0,l=l.slice(1))}),3e3)}let b={history:[]};os().then((()=>{n(5,b=r[X(f.url)]),void 0===b&&n(5,b={history:[]})})),async function(){new Promise((e=>{Q.storage.local.get("notificationsSettings",(t=>{t.notificationsSettings?Qi.set(t.notificationsSettings):(Q.storage.local.set({notificationsSettings:oe}),Qi.set(oe)),e()}))}))}();return[l,u,h,p,g,b,o,i,s,a,c,w,()=>n(4,g=0),()=>n(4,g=1),()=>n(4,g=2),e=>async function(e){return new Promise((t=>{Q.storage.local.get("notificationsSettings",(n=>{let r=n.notificationsSettings;r.forEach((t=>{t.name===e&&(t.state=!t.state)})),Q.storage.local.set({notificationsSettings:r}),Qi.set(r),t()}))}))}(e.name),()=>{Q.tabs.create({url:"https://toastr.space/p/"+Ao(o||"")})},()=>n(3,p=u.Normal),()=>n(3,p=u.Password),()=>{navigator.clipboard.writeText(Fo.nsecEncode(o)),w("nsec copied to clipboard")},()=>{navigator.clipboard.writeText(a),w("hex public key copied to clipboard")},()=>{navigator.clipboard.writeText(c),w("npub copied to clipboard")},e=>{navigator.clipboard.writeText(e.url),w("copied to clipboard")},e=>{Yi.set(s.filter((t=>t.url!==e.url))),Q.storage.local.set({relays:s}),w("relay removed")},function(){h=this.value,n(2,h)},()=>{Yi.set([...s,{url:h,enabled:!0,created_at:new Date}]),Q.storage.local.set({relays:s}),n(2,h=""),w("relay added")}]}Zi.subscribe((e=>{Q.storage.local.set({webSites:e})}));class ms extends J{constructor(e){super(),Y(this,e,ys,bs,i,{},null,[-1,-1])}}function vs(e){let t,n,o,i,s,a,c,l,u,d,g,b,v,A,B,C,S,T,$,L,_,I,H,U,N,P,R,O,M,D,z,K,q,j,F,V,G,W,Z,Y,J,Q,X,ee,te,ne,re,oe,ie,se,ae,ce,le,ue,de;function fe(e,t){return e[2]?Es:xs}let he=fe(e),pe=he(e),ge=!e[2]&&ks(e),we=e[2]&&As(e);return le=function(e){let t;return{p(...n){t=n,t.forEach((t=>e.push(t)))},r(){t.forEach((t=>e.splice(e.indexOf(t),1)))}}}(e[8][0]),{c(){t=w("p"),n=w("span"),o=w("span"),i=y(e[0]),s=m(),a=w("br"),c=m(),l=w("span"),pe.c(),u=m(),d=w("div"),g=w("div"),b=w("label"),v=w("span"),v.textContent="One Time",A=m(),B=w("input"),C=m(),S=w("div"),T=w("label"),$=w("span"),$.textContent="Always",L=m(),_=w("input"),I=m(),H=w("div"),U=w("label"),N=w("span"),N.textContent="Next 5 minutes",P=m(),R=w("input"),O=m(),M=w("div"),D=w("label"),z=w("span"),z.textContent="Next hour",K=m(),q=w("input"),j=m(),F=w("div"),V=w("label"),G=w("span"),G.textContent="Next 5 hours",W=m(),Z=w("input"),Y=m(),J=w("div"),Q=w("label"),X=w("span"),X.textContent="Next 5 days",ee=m(),te=w("input"),ne=m(),re=w("div"),oe=w("button"),oe.textContent="Accept",ie=m(),se=w("button"),se.textContent="Reject",ae=m(),ge&&ge.c(),ce=m(),we&&we.c(),E(o,"class","text-primary-content font-sans font-italic italic"),E(l,"class","badge p-4 mt-2 badge-secondary"),E(n,"class","text-center text-xl prose prose-lg"),E(t,"class","w-full text-center p-10 pt-4 pb-6"),E(v,"class","label-text mr-2"),E(B,"type","radio"),E(B,"class","radio"),B.__value=0,B.value=B.__value,E(b,"class","cursor-pointer label"),E(g,"class","form-control"),E($,"class","label-text mr-2"),E(_,"type","radio"),E(_,"class","radio"),_.__value=1,_.value=_.__value,E(T,"class","cursor-pointer label"),E(S,"class","form-control"),E(N,"class","label-text mr-2"),E(R,"type","radio"),E(R,"class","radio"),R.__value=2,R.value=R.__value,E(U,"class","cursor-pointer label"),E(H,"class","form-control"),E(z,"class","label-text mr-2"),E(q,"type","radio"),E(q,"class","radio"),q.__value=3,q.value=q.__value,E(D,"class","cursor-pointer label"),E(M,"class","form-control"),E(G,"class","label-text mr-2"),E(Z,"type","radio"),E(Z,"class","radio"),Z.__value=4,Z.value=Z.__value,E(V,"class","cursor-pointer label"),E(F,"class","form-control"),E(X,"class","label-text mr-2"),E(te,"type","radio"),E(te,"class","radio"),te.__value=5,te.value=te.__value,E(Q,"class","cursor-pointer label"),E(J,"class","form-control"),E(d,"class","w-full p-4 pt-2 flex flex-row flex-wrap justify-center space-x-2"),E(oe,"class","w-full btn btn-accent mb-2"),E(se,"class","w-full btn btn-secondary mb-2"),E(re,"class","w-full flex flex-col justify-center items-center p-10 pt-0"),le.p(B,_,R,q,Z,te)},m(r,p){h(r,t,p),f(t,n),f(n,o),f(o,i),f(n,s),f(n,a),f(n,c),f(n,l),pe.m(l,null),h(r,u,p),h(r,d,p),f(d,g),f(g,b),f(b,v),f(b,A),f(b,B),B.checked=B.__value===e[4],f(d,C),f(d,S),f(S,T),f(T,$),f(T,L),f(T,_),_.checked=_.__value===e[4],f(d,I),f(d,H),f(H,U),f(U,N),f(U,P),f(U,R),R.checked=R.__value===e[4],f(d,O),f(d,M),f(M,D),f(D,z),f(D,K),f(D,q),q.checked=q.__value===e[4],f(d,j),f(d,F),f(F,V),f(V,G),f(V,W),f(V,Z),Z.checked=Z.__value===e[4],f(d,Y),f(d,J),f(J,Q),f(Q,X),f(Q,ee),f(Q,te),te.checked=te.__value===e[4],h(r,ne,p),h(r,re,p),f(re,oe),f(re,ie),f(re,se),f(re,ae),ge&&ge.m(re,null),f(re,ce),we&&we.m(re,null),ue||(de=[x(B,"change",e[7]),x(_,"change",e[9]),x(R,"change",e[10]),x(q,"change",e[11]),x(Z,"change",e[12]),x(te,"change",e[13]),x(oe,"click",e[14]),x(se,"click",e[15])],ue=!0)},p(e,t){1&t&&k(i,e[0]),he===(he=fe(e))&&pe?pe.p(e,t):(pe.d(1),pe=he(e),pe&&(pe.c(),pe.m(l,null))),16&t&&(B.checked=B.__value===e[4]),16&t&&(_.checked=_.__value===e[4]),16&t&&(R.checked=R.__value===e[4]),16&t&&(q.checked=q.__value===e[4]),16&t&&(Z.checked=Z.__value===e[4]),16&t&&(te.checked=te.__value===e[4]),e[2]?ge&&(ge.d(1),ge=null):ge?ge.p(e,t):(ge=ks(e),ge.c(),ge.m(re,ce)),e[2]?we?we.p(e,t):(we=As(e),we.c(),we.m(re,null)):we&&(we.d(1),we=null)},d(e){e&&p(t),pe.d(),e&&p(u),e&&p(d),e&&p(ne),e&&p(re),ge&&ge.d(),we&&we.d(),le.r(),ue=!1,r(de)}}}function xs(t){let n,r=ie("permission")+"";return{c(){n=y(r)},m(e,t){h(e,n,t)},p:e,d(e){e&&p(n)}}}function Es(e){let t,n=ie(e[1].get("type"))+"";return{c(){t=y(n)},m(e,n){h(e,t,n)},p(e,r){2&r&&n!==(n=ie(e[1].get("type"))+"")&&k(t,n)},d(e){e&&p(t)}}}function ks(t){let n,r,o;return{c(){n=w("button"),n.textContent="Cancel",E(n,"class","w-full btn btn-neutral")},m(e,i){h(e,n,i),r||(o=x(n,"click",t[16]),r=!0)},p:e,d(e){e&&p(n),r=!1,o()}}}function As(e){let t,n,r,o=unescape(e[1].get("data"))+"";return{c(){t=w("div"),n=w("code"),r=y(o),E(n,"class","prose break-words p-4"),E(t,"class","mockup-code justify-center mt-4 w-11/12 mx-2")},m(e,o){h(e,t,o),f(t,n),f(n,r)},p(e,t){2&t&&o!==(o=unescape(e[1].get("data"))+"")&&k(r,o)},d(e){e&&p(t)}}}function Bs(t){let n,r=t[3]&&vs(t);return{c(){n=w("div"),r&&r.c(),E(n,"class","w-full h-full flex flex-wrap fixed-width")},m(e,t){h(e,n,t),r&&r.m(n,null)},p(e,[t]){e[3]?r?r.p(e,t):(r=vs(e),r.c(),r.m(n,null)):r&&(r.d(1),r=null)},i:e,o:e,d(e){e&&p(n),r&&r.d()}}}function Cs(e,t,n){let r;d(e,Zi,(e=>n(17,r=e)));let o=!1,{parameter:i}=t,{isPopup:s=!1}=t,{domain:a}=t;s?(a=X(i.get("url")),"login"===i.get("action")?o=!0:i.set("action","register")):o=!0;const c=T();function l(){c("cancel",{})}let u=0;function f(e,t=new Date){s?rs().then((()=>{Q.runtime.sendMessage({prompt:!0,response:{status:"success",error:!e,permission:{always:1===u,duration:te(u),accept:e,reject:!e}},ext:"nos2x",url:i.get("url"),requestId:i.get("requestId")})})):rs().then((async()=>{let t=await os();if(null==t&&(t={}),-1!==Object.keys(t).indexOf(a)){let n=r;null==n&&(n={});let o=n[a];o.permission={always:1===u,authorizationStop:te(u).toString(),accept:e,reject:!e};let i=o.history||[];i.push({accepted:e,type:"permission",created_at:(new Date).toString(),data:void 0}),o.history=i,n[a]=o,t[a]=o,await Q.storage.local.set({webSites:t}),await os()}else{let t=r;null==t&&(t={});let n={auth:!0,history:[{accepted:e,type:"permission",created_at:(new Date).toString(),data:void 0}],permission:{always:1===u,authorizationStop:te(u).toString(),accept:e,reject:!e}};t[a]=n,await Q.storage.local.set({webSites:t}),await os()}l()}))}return e.$$set=e=>{"parameter"in e&&n(1,i=e.parameter),"isPopup"in e&&n(2,s=e.isPopup),"domain"in e&&n(0,a=e.domain)},[a,i,s,o,u,l,f,function(){u=this.__value,n(4,u)},[[]],function(){u=this.__value,n(4,u)},function(){u=this.__value,n(4,u)},function(){u=this.__value,n(4,u)},function(){u=this.__value,n(4,u)},function(){u=this.__value,n(4,u)},()=>f(!0,new Date),()=>f(!1,new Date),()=>l()]}class Ss extends J{constructor(e){super(),Y(this,e,Cs,Bs,i,{parameter:1,isPopup:2,domain:0})}}function Ts(e){let t,n,r,o,i,s;return{c(){t=w("span"),n=w("span"),r=y(":\n      "),o=w("span"),i=y(":\n      "),s=w("span"),B(n,"--value",e[0]),B(o,"--value",e[1]),B(s,"--value",e[2]),E(t,"class","countdown font-mono text-2xl")},m(e,a){h(e,t,a),f(t,n),f(t,r),f(t,o),f(t,i),f(t,s)},p(e,t){1&t&&B(n,"--value",e[0]),2&t&&B(o,"--value",e[1]),4&t&&B(s,"--value",e[2])},d(e){e&&p(t)}}}function $s(t){let n,r,i,s,a,c,l,u,d,g,v,A,B,C=t[5]&&Ts(t);return{c(){n=w("div"),r=b("svg"),i=b("path"),a=m(),c=w("span"),l=y(t[4]),u=m(),C&&C.c(),d=m(),g=w("div"),v=w("button"),v.textContent="Update",E(i,"stroke-linecap","round"),E(i,"stroke-linejoin","round"),E(i,"stroke-width","2"),E(i,"d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"),E(r,"xmlns","http://www.w3.org/2000/svg"),E(r,"fill","none"),E(r,"viewBox","0 0 24 24"),E(r,"class",s=`stroke-${t[3]} shrink-0 w-6 h-6`),E(c,"class","text-lg font-sans"),E(v,"class","btn btn-outline btn-sm px-4"),E(n,"class","alert")},m(e,s){h(e,n,s),f(n,r),f(r,i),f(n,a),f(n,c),f(c,l),f(n,u),C&&C.m(n,null),f(n,d),f(n,g),f(g,v),A||(B=x(v,"click",(function(){o(t[6])&&t[6].apply(this,arguments)})),A=!0)},p(e,[o]){t=e,8&o&&s!==(s=`stroke-${t[3]} shrink-0 w-6 h-6`)&&E(r,"class",s),16&o&&k(l,t[4]),t[5]?C?C.p(t,o):(C=Ts(t),C.c(),C.m(n,d)):C&&(C.d(1),C=null)},i:e,o:e,d(e){e&&p(n),C&&C.d(),A=!1,B()}}}function Ls(e,t,n){Q.tabs.query({active:!0,currentWindow:!0},(function(e){e[0]}));let{alertColor:r=""}=t,{message:o=""}=t,{countdown:i=!1}=t,{hour:s=0}=t,{minute:a=0}=t,{second:c=0}=t;setInterval((()=>{c>0?n(2,c--,c):a>0?(n(1,a--,a),n(2,c=59)):s>0&&(n(0,s--,s),n(1,a=59),n(2,c=59))}),1e3);let{onButtonClick:l=(()=>{})}=t;return e.$$set=e=>{"alertColor"in e&&n(3,r=e.alertColor),"message"in e&&n(4,o=e.message),"countdown"in e&&n(5,i=e.countdown),"hour"in e&&n(0,s=e.hour),"minute"in e&&n(1,a=e.minute),"second"in e&&n(2,c=e.second),"onButtonClick"in e&&n(6,l=e.onButtonClick)},[s,a,c,r,o,i,l]}class _s extends J{constructor(e){super(),Y(this,e,Ls,$s,i,{alertColor:3,message:4,countdown:5,hour:0,minute:1,second:2,onButtonClick:6})}}function Is(t){let n;return{c(){n=w("div"),n.innerHTML='Built with  by the <a href="https://toastr.space" target="_blank" class="link link-hover text-secondary">toastr.space</a> team',E(n,"class","absolute bottom-0 left-0 w-full text-center text-gray-500 font-sans pb-1")},m(e,t){h(e,n,t)},p:e,i:e,o:e,d(e){e&&p(n)}}}class Hs extends J{constructor(e){super(),Y(this,e,null,Is,i,{})}}function Us(e){let t,n,r,o,i,s,a,c=X(e[0].url)+"";const l=[Rs,Ps],u=[];function d(e,t){return!0===e[1].auth?0:1}return i=d(e),s=u[i]=l[i](e),{c(){t=w("div"),n=w("h1"),r=y(c),o=m(),s.c(),E(n,"class","text-center text-2xl font-bold font-sans"),E(t,"class","w-full h-full flex flex-row flex-col p-10 pt-5 space-y-6")},m(e,s){h(e,t,s),f(t,n),f(n,r),f(t,o),u[i].m(t,null),a=!0},p(e,n){(!a||1&n)&&c!==(c=X(e[0].url)+"")&&k(r,c);let o=i;i=d(e),i===o?u[i].p(e,n):(K(),F(u[o],1,1,(()=>{u[o]=null})),q(),s=u[i],s?s.p(e,n):(s=u[i]=l[i](e),s.c()),j(s,1),s.m(t,null))},i(e){a||(j(s),a=!0)},o(e){F(s),a=!1},d(e){e&&p(t),u[i].d()}}}function Ns(e){let t,n;return t=new Ss({props:{domain:X(e[0].url),isPopup:!1,parameter:null}}),t.$on("cancel",e[8]),{c(){V(t.$$.fragment)},m(e,r){G(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.domain=X(e[0].url)),t.$set(r)},i(e){n||(j(t.$$.fragment,e),n=!0)},o(e){F(t.$$.fragment,e),n=!1},d(e){W(t,e)}}}function Ps(t){let n,r,o;return{c(){n=w("button"),n.textContent="Authorize now",E(n,"class","btn rounded-full ml-20 text-center align-center justify-center item-center badge border-1 border-gray-300 px-5 py-3")},m(e,i){h(e,n,i),r||(o=x(n,"click",t[16]),r=!0)},p:e,i:e,o:e,d(e){e&&p(n),r=!1,o()}}}function Rs(e){let t,n,r,o,i,s,a,c,l,u,d,g,b,y,x,k,A;const C=[js,qs,Ks,zs,Ds,Ms,Os],S=[];function T(e,t){return 2&t&&(u=null),2&t&&(d=null),2&t&&(g=null),2&t&&(b=null),!0===e[1].permission.always&&!0===e[1].permission.accept?0:!0===e[1].permission.always&&!0===e[1].permission.reject?1:(null==u&&(u=!!(new Date(e[1].permission.authorizationStop)<new Date)),u?2:(null==d&&(d=!!(new Date(e[1].permission.authorizationStop)>new Date&&!0===e[1].permission.accept)),d?3:(null==g&&(g=!!(new Date(e[1].permission.authorizationStop)>new Date&&!0===e[1].permission.reject)),g?4:(null==b&&(b=!!(new Date(e[1].permission.authorizationStop)<new Date&&!0===e[1].permission.accept)),b?5:6))))}return y=T(e,-1),x=S[y]=C[y](e),{c(){t=w("div"),n=w("div"),r=w("div"),r.textContent="Total Requests",o=m(),i=w("div"),s=w("center"),a=w("span"),c=w("span"),l=m(),x.c(),k=v(),E(r,"class","stat-title text-center"),B(c,"--value",e[1].history.length.toLocaleString()),E(a,"class","countdown font-mono text-6xl"),E(i,"class","stat-value"),E(n,"class","stat"),E(t,"class","stats shadow-sm bg-base-200")},m(e,u){h(e,t,u),f(t,n),f(n,r),f(n,o),f(n,i),f(i,s),f(s,a),f(a,c),h(e,l,u),S[y].m(e,u),h(e,k,u),A=!0},p(e,t){(!A||2&t)&&B(c,"--value",e[1].history.length.toLocaleString());let n=y;y=T(e,t),y===n?S[y].p(e,t):(K(),F(S[n],1,1,(()=>{S[n]=null})),q(),x=S[y],x?x.p(e,t):(x=S[y]=C[y](e),x.c()),j(x,1),x.m(k.parentNode,k))},i(e){A||(j(x),A=!0)},o(e){F(x),A=!1},d(e){e&&p(t),e&&p(l),S[y].d(e),e&&p(k)}}}function Os(e){let t,n;return t=new _s({props:{alertColor:"secondary",message:"Not authorized",onButtonClick:e[15]}}),{c(){V(t.$$.fragment)},m(e,r){G(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.onButtonClick=e[15]),t.$set(r)},i(e){n||(j(t.$$.fragment,e),n=!0)},o(e){F(t.$$.fragment,e),n=!1},d(e){W(t,e)}}}function Ms(e){let t,n;return t=new _s({props:{alertColor:"secondary",message:"Authorization expired",onButtonClick:e[14]}}),{c(){V(t.$$.fragment)},m(e,r){G(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.onButtonClick=e[14]),t.$set(r)},i(e){n||(j(t.$$.fragment,e),n=!0)},o(e){F(t.$$.fragment,e),n=!1},d(e){W(t,e)}}}function Ds(e){let t,n;return t=new _s({props:{alertColor:"secondary",countdown:!0,hour:e[2],minute:e[3],second:e[4],message:e[6],onButtonClick:e[13]}}),{c(){V(t.$$.fragment)},m(e,r){G(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.hour=e[2]),8&n&&(r.minute=e[3]),16&n&&(r.second=e[4]),64&n&&(r.message=e[6]),32&n&&(r.onButtonClick=e[13]),t.$set(r)},i(e){n||(j(t.$$.fragment,e),n=!0)},o(e){F(t.$$.fragment,e),n=!1},d(e){W(t,e)}}}function zs(e){let t,n;return t=new _s({props:{alertColor:"accent",countdown:!0,hour:e[2],minute:e[3],second:e[4],message:e[6],onButtonClick:e[12]}}),{c(){V(t.$$.fragment)},m(e,r){G(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.hour=e[2]),8&n&&(r.minute=e[3]),16&n&&(r.second=e[4]),64&n&&(r.message=e[6]),32&n&&(r.onButtonClick=e[12]),t.$set(r)},i(e){n||(j(t.$$.fragment,e),n=!0)},o(e){F(t.$$.fragment,e),n=!1},d(e){W(t,e)}}}function Ks(e){let t,n;return t=new _s({props:{alertColor:"secondary",message:"Authorization expired",onButtonClick:e[11]}}),{c(){V(t.$$.fragment)},m(e,r){G(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.onButtonClick=e[11]),t.$set(r)},i(e){n||(j(t.$$.fragment,e),n=!0)},o(e){F(t.$$.fragment,e),n=!1},d(e){W(t,e)}}}function qs(e){let t,n;return t=new _s({props:{alertColor:"secondary",message:"Always rejected",onButtonClick:e[10]}}),{c(){V(t.$$.fragment)},m(e,r){G(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.onButtonClick=e[10]),t.$set(r)},i(e){n||(j(t.$$.fragment,e),n=!0)},o(e){F(t.$$.fragment,e),n=!1},d(e){W(t,e)}}}function js(e){let t,n;return t=new _s({props:{alertColor:"accent",message:"Always authorized",onButtonClick:e[9]}}),{c(){V(t.$$.fragment)},m(e,r){G(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.onButtonClick=e[9]),t.$set(r)},i(e){n||(j(t.$$.fragment,e),n=!0)},o(e){F(t.$$.fragment,e),n=!1},d(e){W(t,e)}}}function Fs(e){let t,n,r,o,i;const s=[Ns,Us],a=[];function c(e,t){return e[5]?0:1}return t=c(e),n=a[t]=s[t](e),o=new Hs({}),{c(){n.c(),r=m(),V(o.$$.fragment)},m(e,n){a[t].m(e,n),h(e,r,n),G(o,e,n),i=!0},p(e,[o]){let i=t;t=c(e),t===i?a[t].p(e,o):(K(),F(a[i],1,1,(()=>{a[i]=null})),q(),n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),j(n,1),n.m(r.parentNode,r))},i(e){i||(j(n),j(o.$$.fragment,e),i=!0)},o(e){F(n),F(o.$$.fragment,e),i=!1},d(e){a[t].d(e),e&&p(r),W(o,e)}}}function Vs(e,t,n){let r,o;d(e,Zi,(e=>n(7,o=e)));let i={url:""};Q.tabs.query({active:!0,currentWindow:!0},(function(e){var t=e[0];n(0,i=t)}));let s={auth:!1,history:[],permission:{always:!1,accept:!0,reject:!1,authorizationStop:new Date}},a=ee(new Date(s.permission.authorizationStop));a.split(":");let c=0,l=0,u=0;if(Zi.subscribe((e=>{if(null==e)return;let t;if(-1===Object.keys(e).indexOf(X(i.url)))return;t=e[X(i.url)],a=ee(new Date(null==t?void 0:t.permission.authorizationStop));const r=a.split(":");n(2,c=parseInt(r[0])),n(3,l=parseInt(r[1])),n(4,u=parseInt(r[2]))})),new Date(s.permission.authorizationStop)>new Date){const e=setInterval((()=>{new Date(s.permission.authorizationStop)<new Date?clearInterval(e):a=ee(new Date(s.permission.authorizationStop))}),1e3)}let f=!1;os().then((e=>{null==e&&(e={}),-1!==Object.keys(e).indexOf(X(i.url))&&n(1,s=e[X(i.url)]),a=ee(new Date(s.permission.authorizationStop));const t=a.split(":");n(2,c=parseInt(t[0])),n(3,l=parseInt(t[1])),n(4,u=parseInt(t[2]))}));return n(6,r="Authorization expires in"),[i,s,c,l,u,f,"Authorization expires in",o,()=>{os().then((()=>{-1!==Object.keys(o).indexOf(X(i.url))&&n(1,s=o[X(i.url)])})),n(5,f=!1)},()=>{n(5,f=!0)},()=>{n(5,f=!0)},()=>{n(5,f=!0)},()=>{n(5,f=!0)},()=>{n(5,f=!0)},()=>{n(5,f=!0)},()=>{n(5,f=!0)},()=>{n(5,f=!0)}]}class Gs extends J{constructor(e){super(),Y(this,e,Vs,Fs,i,{})}}var Ws={},Zs={},Ys={};let Js;const Qs=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Ys.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return 4*e+17},Ys.getSymbolTotalCodewords=function(e){return Qs[e]},Ys.getBCHDigit=function(e){let t=0;for(;0!==e;)t++,e>>>=1;return t},Ys.setToSJISFunction=function(e){if("function"!=typeof e)throw new Error('"toSJISFunc" is not a valid function.');Js=e},Ys.isKanjiModeEnabled=function(){return void 0!==Js},Ys.toSJIS=function(e){return Js(e)};var Xs,ea={};function ta(){this.buffer=[],this.length=0}(Xs=ea).L={bit:1},Xs.M={bit:0},Xs.Q={bit:3},Xs.H={bit:2},Xs.isValid=function(e){return e&&void 0!==e.bit&&e.bit>=0&&e.bit<4},Xs.from=function(e,t){if(Xs.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"l":case"low":return Xs.L;case"m":case"medium":return Xs.M;case"q":case"quartile":return Xs.Q;case"h":case"high":return Xs.H;default:throw new Error("Unknown EC Level: "+e)}}(e)}catch(e){return t}},ta.prototype={get:function(e){const t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(let n=0;n<t;n++)this.putBit(1==(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var na=ta;function ra(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}ra.prototype.set=function(e,t,n,r){const o=e*this.size+t;this.data[o]=n,r&&(this.reservedBit[o]=!0)},ra.prototype.get=function(e,t){return this.data[e*this.size+t]},ra.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n},ra.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var oa=ra,ia={};!function(e){const t=Ys.getSymbolSize;e.getRowColCoords=function(e){if(1===e)return[];const n=Math.floor(e/7)+2,r=t(e),o=145===r?26:2*Math.ceil((r-13)/(2*n-2)),i=[r-7];for(let e=1;e<n-1;e++)i[e]=i[e-1]-o;return i.push(6),i.reverse()},e.getPositions=function(t){const n=[],r=e.getRowColCoords(t),o=r.length;for(let e=0;e<o;e++)for(let t=0;t<o;t++)0===e&&0===t||0===e&&t===o-1||e===o-1&&0===t||n.push([r[e],r[t]]);return n}}(ia);var sa={};const aa=Ys.getSymbolSize;sa.getPositions=function(e){const t=aa(e);return[[0,0],[t-7,0],[0,t-7]]};var ca={};!function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t=3,n=3,r=40,o=10;function i(t,n,r){switch(t){case e.Patterns.PATTERN000:return(n+r)%2==0;case e.Patterns.PATTERN001:return n%2==0;case e.Patterns.PATTERN010:return r%3==0;case e.Patterns.PATTERN011:return(n+r)%3==0;case e.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(r/3))%2==0;case e.Patterns.PATTERN101:return n*r%2+n*r%3==0;case e.Patterns.PATTERN110:return(n*r%2+n*r%3)%2==0;case e.Patterns.PATTERN111:return(n*r%3+(n+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}}e.isValid=function(e){return null!=e&&""!==e&&!isNaN(e)&&e>=0&&e<=7},e.from=function(t){return e.isValid(t)?parseInt(t,10):void 0},e.getPenaltyN1=function(e){const n=e.size;let r=0,o=0,i=0,s=null,a=null;for(let c=0;c<n;c++){o=i=0,s=a=null;for(let l=0;l<n;l++){let n=e.get(c,l);n===s?o++:(o>=5&&(r+=t+(o-5)),s=n,o=1),n=e.get(l,c),n===a?i++:(i>=5&&(r+=t+(i-5)),a=n,i=1)}o>=5&&(r+=t+(o-5)),i>=5&&(r+=t+(i-5))}return r},e.getPenaltyN2=function(e){const t=e.size;let r=0;for(let n=0;n<t-1;n++)for(let o=0;o<t-1;o++){const t=e.get(n,o)+e.get(n,o+1)+e.get(n+1,o)+e.get(n+1,o+1);4!==t&&0!==t||r++}return r*n},e.getPenaltyN3=function(e){const t=e.size;let n=0,o=0,i=0;for(let r=0;r<t;r++){o=i=0;for(let s=0;s<t;s++)o=o<<1&2047|e.get(r,s),s>=10&&(1488===o||93===o)&&n++,i=i<<1&2047|e.get(s,r),s>=10&&(1488===i||93===i)&&n++}return n*r},e.getPenaltyN4=function(e){let t=0;const n=e.data.length;for(let r=0;r<n;r++)t+=e.data[r];return Math.abs(Math.ceil(100*t/n/5)-10)*o},e.applyMask=function(e,t){const n=t.size;for(let r=0;r<n;r++)for(let o=0;o<n;o++)t.isReserved(o,r)||t.xor(o,r,i(e,o,r))},e.getBestMask=function(t,n){const r=Object.keys(e.Patterns).length;let o=0,i=1/0;for(let s=0;s<r;s++){n(s),e.applyMask(s,t);const r=e.getPenaltyN1(t)+e.getPenaltyN2(t)+e.getPenaltyN3(t)+e.getPenaltyN4(t);e.applyMask(s,t),r<i&&(i=r,o=s)}return o}}(ca);var la={};const ua=ea,da=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],fa=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];la.getBlocksCount=function(e,t){switch(t){case ua.L:return da[4*(e-1)+0];case ua.M:return da[4*(e-1)+1];case ua.Q:return da[4*(e-1)+2];case ua.H:return da[4*(e-1)+3];default:return}},la.getTotalCodewordsCount=function(e,t){switch(t){case ua.L:return fa[4*(e-1)+0];case ua.M:return fa[4*(e-1)+1];case ua.Q:return fa[4*(e-1)+2];case ua.H:return fa[4*(e-1)+3];default:return}};var ha={},pa={};const ga=new Uint8Array(512),wa=new Uint8Array(256);!function(){let e=1;for(let t=0;t<255;t++)ga[t]=e,wa[e]=t,e<<=1,256&e&&(e^=285);for(let e=255;e<512;e++)ga[e]=ga[e-255]}(),pa.log=function(e){if(e<1)throw new Error("log("+e+")");return wa[e]},pa.exp=function(e){return ga[e]},pa.mul=function(e,t){return 0===e||0===t?0:ga[wa[e]+wa[t]]},function(e){const t=pa;e.mul=function(e,n){const r=new Uint8Array(e.length+n.length-1);for(let o=0;o<e.length;o++)for(let i=0;i<n.length;i++)r[o+i]^=t.mul(e[o],n[i]);return r},e.mod=function(e,n){let r=new Uint8Array(e);for(;r.length-n.length>=0;){const e=r[0];for(let o=0;o<n.length;o++)r[o]^=t.mul(n[o],e);let o=0;for(;o<r.length&&0===r[o];)o++;r=r.slice(o)}return r},e.generateECPolynomial=function(n){let r=new Uint8Array([1]);for(let o=0;o<n;o++)r=e.mul(r,new Uint8Array([1,t.exp(o)]));return r}}(ha);const ba=ha;function ya(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}ya.prototype.initialize=function(e){this.degree=e,this.genPoly=ba.generateECPolynomial(this.degree)},ya.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const t=new Uint8Array(e.length+this.degree);t.set(e);const n=ba.mod(t,this.genPoly),r=this.degree-n.length;if(r>0){const e=new Uint8Array(this.degree);return e.set(n,r),e}return n};var ma=ya,va={},xa={},Ea={isValid:function(e){return!isNaN(e)&&e>=1&&e<=40}},ka={};const Aa="[0-9]+";let Ba="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Ba=Ba.replace(/u/g,"\\u");const Ca="(?:(?![A-Z0-9 $%*+\\-./:]|"+Ba+")(?:.|[\r\n]))+";ka.KANJI=new RegExp(Ba,"g"),ka.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),ka.BYTE=new RegExp(Ca,"g"),ka.NUMERIC=new RegExp(Aa,"g"),ka.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const Sa=new RegExp("^"+Ba+"$"),Ta=new RegExp("^"+Aa+"$"),$a=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");ka.testKanji=function(e){return Sa.test(e)},ka.testNumeric=function(e){return Ta.test(e)},ka.testAlphanumeric=function(e){return $a.test(e)},function(e){const t=Ea,n=ka;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(e,n){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!t.isValid(n))throw new Error("Invalid version: "+n);return n>=1&&n<10?e.ccBits[0]:n<27?e.ccBits[1]:e.ccBits[2]},e.getBestModeForData=function(t){return n.testNumeric(t)?e.NUMERIC:n.testAlphanumeric(t)?e.ALPHANUMERIC:n.testKanji(t)?e.KANJI:e.BYTE},e.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")},e.isValid=function(e){return e&&e.bit&&e.ccBits},e.from=function(t,n){if(e.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+t)}}(t)}catch(e){return n}}}(xa),function(e){const t=Ys,n=la,r=ea,o=xa,i=Ea,s=t.getBCHDigit(7973);function a(e,t){return o.getCharCountIndicator(e,t)+4}function c(e,t){let n=0;return e.forEach((function(e){const r=a(e.mode,t);n+=r+e.getBitsLength()})),n}e.from=function(e,t){return i.isValid(e)?parseInt(e,10):t},e.getCapacity=function(e,r,s){if(!i.isValid(e))throw new Error("Invalid QR Code version");void 0===s&&(s=o.BYTE);const c=8*(t.getSymbolTotalCodewords(e)-n.getTotalCodewordsCount(e,r));if(s===o.MIXED)return c;const l=c-a(s,e);switch(s){case o.NUMERIC:return Math.floor(l/10*3);case o.ALPHANUMERIC:return Math.floor(l/11*2);case o.KANJI:return Math.floor(l/13);case o.BYTE:default:return Math.floor(l/8)}},e.getBestVersionForData=function(t,n){let i;const s=r.from(n,r.M);if(Array.isArray(t)){if(t.length>1)return function(t,n){for(let r=1;r<=40;r++)if(c(t,r)<=e.getCapacity(r,n,o.MIXED))return r}(t,s);if(0===t.length)return 1;i=t[0]}else i=t;return function(t,n,r){for(let o=1;o<=40;o++)if(n<=e.getCapacity(o,r,t))return o}(i.mode,i.getLength(),s)},e.getEncodedBits=function(e){if(!i.isValid(e)||e<7)throw new Error("Invalid QR Code version");let n=e<<12;for(;t.getBCHDigit(n)-s>=0;)n^=7973<<t.getBCHDigit(n)-s;return e<<12|n}}(va);var La={};const _a=Ys,Ia=_a.getBCHDigit(1335);La.getEncodedBits=function(e,t){const n=e.bit<<3|t;let r=n<<10;for(;_a.getBCHDigit(r)-Ia>=0;)r^=1335<<_a.getBCHDigit(r)-Ia;return 21522^(n<<10|r)};var Ha={};const Ua=xa;function Na(e){this.mode=Ua.NUMERIC,this.data=e.toString()}Na.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},Na.prototype.getLength=function(){return this.data.length},Na.prototype.getBitsLength=function(){return Na.getBitsLength(this.data.length)},Na.prototype.write=function(e){let t,n,r;for(t=0;t+3<=this.data.length;t+=3)n=this.data.substr(t,3),r=parseInt(n,10),e.put(r,10);const o=this.data.length-t;o>0&&(n=this.data.substr(t),r=parseInt(n,10),e.put(r,3*o+1))};var Pa=Na;const Ra=xa,Oa=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Ma(e){this.mode=Ra.ALPHANUMERIC,this.data=e}Ma.getBitsLength=function(e){return 11*Math.floor(e/2)+e%2*6},Ma.prototype.getLength=function(){return this.data.length},Ma.prototype.getBitsLength=function(){return Ma.getBitsLength(this.data.length)},Ma.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let n=45*Oa.indexOf(this.data[t]);n+=Oa.indexOf(this.data[t+1]),e.put(n,11)}this.data.length%2&&e.put(Oa.indexOf(this.data[t]),6)};var Da=Ma;const za=function(e){for(var t=[],n=e.length,r=0;r<n;r++){var o=e.charCodeAt(r);if(o>=55296&&o<=56319&&n>r+1){var i=e.charCodeAt(r+1);i>=56320&&i<=57343&&(o=1024*(o-55296)+i-56320+65536,r+=1)}o<128?t.push(o):o<2048?(t.push(o>>6|192),t.push(63&o|128)):o<55296||o>=57344&&o<65536?(t.push(o>>12|224),t.push(o>>6&63|128),t.push(63&o|128)):o>=65536&&o<=1114111?(t.push(o>>18|240),t.push(o>>12&63|128),t.push(o>>6&63|128),t.push(63&o|128)):t.push(239,191,189)}return new Uint8Array(t).buffer},Ka=xa;function qa(e){this.mode=Ka.BYTE,"string"==typeof e&&(e=za(e)),this.data=new Uint8Array(e)}qa.getBitsLength=function(e){return 8*e},qa.prototype.getLength=function(){return this.data.length},qa.prototype.getBitsLength=function(){return qa.getBitsLength(this.data.length)},qa.prototype.write=function(e){for(let t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)};var ja=qa;const Fa=xa,Va=Ys;function Ga(e){this.mode=Fa.KANJI,this.data=e}Ga.getBitsLength=function(e){return 13*e},Ga.prototype.getLength=function(){return this.data.length},Ga.prototype.getBitsLength=function(){return Ga.getBitsLength(this.data.length)},Ga.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let n=Va.toSJIS(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else{if(!(n>=57408&&n<=60351))throw new Error("Invalid SJIS character: "+this.data[t]+"\nMake sure your charset is UTF-8");n-=49472}n=192*(n>>>8&255)+(255&n),e.put(n,13)}};var Wa=Ga,Za={exports:{}};!function(e){var t={single_source_shortest_paths:function(e,n,r){var o={},i={};i[n]=0;var s,a,c,l,u,d,f,h=t.PriorityQueue.make();for(h.push(n,0);!h.empty();)for(c in a=(s=h.pop()).value,l=s.cost,u=e[a]||{})u.hasOwnProperty(c)&&(d=l+u[c],f=i[c],(void 0===i[c]||f>d)&&(i[c]=d,h.push(c,d),o[c]=a));if(void 0!==r&&void 0===i[r]){var p=["Could not find a path from ",n," to ",r,"."].join("");throw new Error(p)}return o},extract_shortest_path_from_predecessor_list:function(e,t){for(var n=[],r=t;r;)n.push(r),e[r],r=e[r];return n.reverse(),n},find_path:function(e,n,r){var o=t.single_source_shortest_paths(e,n,r);return t.extract_shortest_path_from_predecessor_list(o,r)},PriorityQueue:{make:function(e){var n,r=t.PriorityQueue,o={};for(n in e=e||{},r)r.hasOwnProperty(n)&&(o[n]=r[n]);return o.queue=[],o.sorter=e.sorter||r.default_sorter,o},default_sorter:function(e,t){return e.cost-t.cost},push:function(e,t){var n={value:e,cost:t};this.queue.push(n),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};e.exports=t}(Za);var Ya=Za.exports;!function(e){const t=xa,n=Pa,r=Da,o=ja,i=Wa,s=ka,a=Ys,c=Ya;function l(e){return unescape(encodeURIComponent(e)).length}function u(e,t,n){const r=[];let o;for(;null!==(o=e.exec(n));)r.push({data:o[0],index:o.index,mode:t,length:o[0].length});return r}function d(e){const n=u(s.NUMERIC,t.NUMERIC,e),r=u(s.ALPHANUMERIC,t.ALPHANUMERIC,e);let o,i;a.isKanjiModeEnabled()?(o=u(s.BYTE,t.BYTE,e),i=u(s.KANJI,t.KANJI,e)):(o=u(s.BYTE_KANJI,t.BYTE,e),i=[]);return n.concat(r,o,i).sort((function(e,t){return e.index-t.index})).map((function(e){return{data:e.data,mode:e.mode,length:e.length}}))}function f(e,s){switch(s){case t.NUMERIC:return n.getBitsLength(e);case t.ALPHANUMERIC:return r.getBitsLength(e);case t.KANJI:return i.getBitsLength(e);case t.BYTE:return o.getBitsLength(e)}}function h(e,s){let c;const l=t.getBestModeForData(e);if(c=t.from(s,l),c!==t.BYTE&&c.bit<l.bit)throw new Error('"'+e+'" cannot be encoded with mode '+t.toString(c)+".\n Suggested mode is: "+t.toString(l));switch(c!==t.KANJI||a.isKanjiModeEnabled()||(c=t.BYTE),c){case t.NUMERIC:return new n(e);case t.ALPHANUMERIC:return new r(e);case t.KANJI:return new i(e);case t.BYTE:return new o(e)}}e.fromArray=function(e){return e.reduce((function(e,t){return"string"==typeof t?e.push(h(t,null)):t.data&&e.push(h(t.data,t.mode)),e}),[])},e.fromString=function(n,r){const o=function(e){const n=[];for(let r=0;r<e.length;r++){const o=e[r];switch(o.mode){case t.NUMERIC:n.push([o,{data:o.data,mode:t.ALPHANUMERIC,length:o.length},{data:o.data,mode:t.BYTE,length:o.length}]);break;case t.ALPHANUMERIC:n.push([o,{data:o.data,mode:t.BYTE,length:o.length}]);break;case t.KANJI:n.push([o,{data:o.data,mode:t.BYTE,length:l(o.data)}]);break;case t.BYTE:n.push([{data:o.data,mode:t.BYTE,length:l(o.data)}])}}return n}(d(n,a.isKanjiModeEnabled())),i=function(e,n){const r={},o={start:{}};let i=["start"];for(let s=0;s<e.length;s++){const a=e[s],c=[];for(let e=0;e<a.length;e++){const l=a[e],u=""+s+e;c.push(u),r[u]={node:l,lastCount:0},o[u]={};for(let e=0;e<i.length;e++){const s=i[e];r[s]&&r[s].node.mode===l.mode?(o[s][u]=f(r[s].lastCount+l.length,l.mode)-f(r[s].lastCount,l.mode),r[s].lastCount+=l.length):(r[s]&&(r[s].lastCount=l.length),o[s][u]=f(l.length,l.mode)+4+t.getCharCountIndicator(l.mode,n))}}i=c}for(let e=0;e<i.length;e++)o[i[e]].end=0;return{map:o,table:r}}(o,r),s=c.find_path(i.map,"start","end"),u=[];for(let e=1;e<s.length-1;e++)u.push(i.table[s[e]].node);return e.fromArray(function(e){return e.reduce((function(e,t){const n=e.length-1>=0?e[e.length-1]:null;return n&&n.mode===t.mode?(e[e.length-1].data+=t.data,e):(e.push(t),e)}),[])}(u))},e.rawSplit=function(t){return e.fromArray(d(t,a.isKanjiModeEnabled()))}}(Ha);const Ja=Ys,Qa=ea,Xa=na,ec=oa,tc=ia,nc=sa,rc=ca,oc=la,ic=ma,sc=va,ac=La,cc=xa,lc=Ha;function uc(e,t,n){const r=e.size,o=ac.getEncodedBits(t,n);let i,s;for(i=0;i<15;i++)s=1==(o>>i&1),i<6?e.set(i,8,s,!0):i<8?e.set(i+1,8,s,!0):e.set(r-15+i,8,s,!0),i<8?e.set(8,r-i-1,s,!0):i<9?e.set(8,15-i-1+1,s,!0):e.set(8,15-i-1,s,!0);e.set(r-8,8,1,!0)}function dc(e,t,n){const r=new Xa;n.forEach((function(t){r.put(t.mode.bit,4),r.put(t.getLength(),cc.getCharCountIndicator(t.mode,e)),t.write(r)}));const o=8*(Ja.getSymbolTotalCodewords(e)-oc.getTotalCodewordsCount(e,t));for(r.getLengthInBits()+4<=o&&r.put(0,4);r.getLengthInBits()%8!=0;)r.putBit(0);const i=(o-r.getLengthInBits())/8;for(let e=0;e<i;e++)r.put(e%2?17:236,8);return function(e,t,n){const r=Ja.getSymbolTotalCodewords(t),o=oc.getTotalCodewordsCount(t,n),i=r-o,s=oc.getBlocksCount(t,n),a=r%s,c=s-a,l=Math.floor(r/s),u=Math.floor(i/s),d=u+1,f=l-u,h=new ic(f);let p=0;const g=new Array(s),w=new Array(s);let b=0;const y=new Uint8Array(e.buffer);for(let e=0;e<s;e++){const t=e<c?u:d;g[e]=y.slice(p,p+t),w[e]=h.encode(g[e]),p+=t,b=Math.max(b,t)}const m=new Uint8Array(r);let v,x,E=0;for(v=0;v<b;v++)for(x=0;x<s;x++)v<g[x].length&&(m[E++]=g[x][v]);for(v=0;v<f;v++)for(x=0;x<s;x++)m[E++]=w[x][v];return m}(r,e,t)}function fc(e,t,n,r){let o;if(Array.isArray(e))o=lc.fromArray(e);else{if("string"!=typeof e)throw new Error("Invalid data");{let r=t;if(!r){const t=lc.rawSplit(e);r=sc.getBestVersionForData(t,n)}o=lc.fromString(e,r||40)}}const i=sc.getBestVersionForData(o,n);if(!i)throw new Error("The amount of data is too big to be stored in a QR Code");if(t){if(t<i)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+i+".\n")}else t=i;const s=dc(t,n,o),a=Ja.getSymbolSize(t),c=new ec(a);return function(e,t){const n=e.size,r=nc.getPositions(t);for(let t=0;t<r.length;t++){const o=r[t][0],i=r[t][1];for(let t=-1;t<=7;t++)if(!(o+t<=-1||n<=o+t))for(let r=-1;r<=7;r++)i+r<=-1||n<=i+r||(t>=0&&t<=6&&(0===r||6===r)||r>=0&&r<=6&&(0===t||6===t)||t>=2&&t<=4&&r>=2&&r<=4?e.set(o+t,i+r,!0,!0):e.set(o+t,i+r,!1,!0))}}(c,t),function(e){const t=e.size;for(let n=8;n<t-8;n++){const t=n%2==0;e.set(n,6,t,!0),e.set(6,n,t,!0)}}(c),function(e,t){const n=tc.getPositions(t);for(let t=0;t<n.length;t++){const r=n[t][0],o=n[t][1];for(let t=-2;t<=2;t++)for(let n=-2;n<=2;n++)-2===t||2===t||-2===n||2===n||0===t&&0===n?e.set(r+t,o+n,!0,!0):e.set(r+t,o+n,!1,!0)}}(c,t),uc(c,n,0),t>=7&&function(e,t){const n=e.size,r=sc.getEncodedBits(t);let o,i,s;for(let t=0;t<18;t++)o=Math.floor(t/3),i=t%3+n-8-3,s=1==(r>>t&1),e.set(o,i,s,!0),e.set(i,o,s,!0)}(c,t),function(e,t){const n=e.size;let r=-1,o=n-1,i=7,s=0;for(let a=n-1;a>0;a-=2)for(6===a&&a--;;){for(let n=0;n<2;n++)if(!e.isReserved(o,a-n)){let r=!1;s<t.length&&(r=1==(t[s]>>>i&1)),e.set(o,a-n,r),i--,-1===i&&(s++,i=7)}if(o+=r,o<0||n<=o){o-=r,r=-r;break}}}(c,s),isNaN(r)&&(r=rc.getBestMask(c,uc.bind(null,c,n))),rc.applyMask(r,c),uc(c,n,r),{modules:c,version:t,errorCorrectionLevel:n,maskPattern:r,segments:o}}Zs.create=function(e,t){if(void 0===e||""===e)throw new Error("No input text");let n,r,o=Qa.M;return void 0!==t&&(o=Qa.from(t.errorCorrectionLevel,Qa.M),n=sc.from(t.version),r=rc.from(t.maskPattern),t.toSJISFunc&&Ja.setToSJISFunction(t.toSJISFunc)),fc(e,n,o,r)};var hc={},pc={};!function(e){function t(e){if("number"==typeof e&&(e=e.toString()),"string"!=typeof e)throw new Error("Color should be defined as hex string");let t=e.slice().replace("#","").split("");if(t.length<3||5===t.length||t.length>8)throw new Error("Invalid hex color: "+e);3!==t.length&&4!==t.length||(t=Array.prototype.concat.apply([],t.map((function(e){return[e,e]})))),6===t.length&&t.push("F","F");const n=parseInt(t.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:255&n,hex:"#"+t.slice(0,6).join("")}}e.getOptions=function(e){e||(e={}),e.color||(e.color={});const n=void 0===e.margin||null===e.margin||e.margin<0?4:e.margin,r=e.width&&e.width>=21?e.width:void 0,o=e.scale||4;return{width:r,scale:r?4:o,margin:n,color:{dark:t(e.color.dark||"#000000ff"),light:t(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},e.getScale=function(e,t){return t.width&&t.width>=e+2*t.margin?t.width/(e+2*t.margin):t.scale},e.getImageWidth=function(t,n){const r=e.getScale(t,n);return Math.floor((t+2*n.margin)*r)},e.qrToImageData=function(t,n,r){const o=n.modules.size,i=n.modules.data,s=e.getScale(o,r),a=Math.floor((o+2*r.margin)*s),c=r.margin*s,l=[r.color.light,r.color.dark];for(let e=0;e<a;e++)for(let n=0;n<a;n++){let u=4*(e*a+n),d=r.color.light;if(e>=c&&n>=c&&e<a-c&&n<a-c){d=l[i[Math.floor((e-c)/s)*o+Math.floor((n-c)/s)]?1:0]}t[u++]=d.r,t[u++]=d.g,t[u++]=d.b,t[u]=d.a}}}(pc),function(e){const t=pc;e.render=function(e,n,r){let o=r,i=n;void 0!==o||n&&n.getContext||(o=n,n=void 0),n||(i=function(){try{return document.createElement("canvas")}catch(e){throw new Error("You need to specify a canvas element")}}()),o=t.getOptions(o);const s=t.getImageWidth(e.modules.size,o),a=i.getContext("2d"),c=a.createImageData(s,s);return t.qrToImageData(c.data,e,o),function(e,t,n){e.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=n,t.width=n,t.style.height=n+"px",t.style.width=n+"px"}(a,i,s),a.putImageData(c,0,0),i},e.renderToDataURL=function(t,n,r){let o=r;void 0!==o||n&&n.getContext||(o=n,n=void 0),o||(o={});const i=e.render(t,n,o),s=o.type||"image/png",a=o.rendererOpts||{};return i.toDataURL(s,a.quality)}}(hc);var gc={};const wc=pc;function bc(e,t){const n=e.a/255,r=t+'="'+e.hex+'"';return n<1?r+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function yc(e,t,n){let r=e+t;return void 0!==n&&(r+=" "+n),r}gc.render=function(e,t,n){const r=wc.getOptions(t),o=e.modules.size,i=e.modules.data,s=o+2*r.margin,a=r.color.light.a?"<path "+bc(r.color.light,"fill")+' d="M0 0h'+s+"v"+s+'H0z"/>':"",c="<path "+bc(r.color.dark,"stroke")+' d="'+function(e,t,n){let r="",o=0,i=!1,s=0;for(let a=0;a<e.length;a++){const c=Math.floor(a%t),l=Math.floor(a/t);c||i||(i=!0),e[a]?(s++,a>0&&c>0&&e[a-1]||(r+=i?yc("M",c+n,.5+l+n):yc("m",o,0),o=0,i=!1),c+1<t&&e[a+1]||(r+=yc("h",s),s=0)):o++}return r}(i,o,r.margin)+'"/>',l='viewBox="0 0 '+s+" "+s+'"',u='<svg xmlns="http://www.w3.org/2000/svg" '+(r.width?'width="'+r.width+'" height="'+r.width+'" ':"")+l+' shape-rendering="crispEdges">'+a+c+"</svg>\n";return"function"==typeof n&&n(null,u),u};const mc=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then},vc=Zs,xc=hc,Ec=gc;function kc(e,t,n,r,o){const i=[].slice.call(arguments,1),s=i.length,a="function"==typeof i[s-1];if(!a&&!mc())throw new Error("Callback required as last argument");if(!a){if(s<1)throw new Error("Too few arguments provided");return 1===s?(n=t,t=r=void 0):2!==s||t.getContext||(r=n,n=t,t=void 0),new Promise((function(o,i){try{const i=vc.create(n,r);o(e(i,t,r))}catch(e){i(e)}}))}if(s<2)throw new Error("Too few arguments provided");2===s?(o=n,n=t,t=r=void 0):3===s&&(t.getContext&&void 0===o?(o=r,r=void 0):(o=r,r=n,n=t,t=void 0));try{const i=vc.create(n,r);o(null,e(i,t,r))}catch(e){o(e)}}function Ac(e){let t,n,r,o,i,s,a,l,u,d;return u=new Hs({}),{c(){t=w("div"),n=w("h1"),n.textContent="Public Key QR Code",r=m(),o=w("div"),i=w("center"),s=w("img"),l=m(),V(u.$$.fragment),E(n,"class","text-center text-2xl font-bold font-sans"),c(s.src,a=e[0])||E(s,"src",a),E(s,"alt","qrcode"),E(s,"width","190"),E(o,"class","w-full"),E(t,"class","w-full h-full flex flex-row flex-col p-10 pt-5 space-y-6")},m(e,a){h(e,t,a),f(t,n),f(t,r),f(t,o),f(o,i),f(i,s),h(e,l,a),G(u,e,a),d=!0},p(e,[t]){(!d||1&t&&!c(s.src,a=e[0]))&&E(s,"src",a)},i(e){d||(j(u.$$.fragment,e),d=!0)},o(e){F(u.$$.fragment,e),d=!1},d(e){e&&p(t),e&&p(l),W(u,e)}}}function Bc(e,t,n){let r;d(e,Vi,(e=>n(2,r=e))),Q.tabs.query({active:!0,currentWindow:!0},(function(e){e[0]}));let o="";return Ws.toDataURL(Ao(r)).then((e=>{console.log(e),n(0,o=e)})).catch((e=>{console.error(e)})),[o]}Ws.create=vc.create,Ws.toCanvas=kc.bind(null,xc.render),Ws.toDataURL=kc.bind(null,xc.renderToDataURL),Ws.toString=kc.bind(null,(function(e,t,n){return Ec.render(e,n)}));class Cc extends J{constructor(e){super(),Y(this,e,Bc,Ac,i,{})}}function Sc(t){let n;return{c(){n=w("div"),n.innerHTML='<center><h1 class="text-center text-2xl font-bold font-sans">About</h1> \n    <br/> \n    <div class="w-full">keys.band doesn&#39;t collect any personal data, doesn&#39;t track websites you\n      visit, doesn&#39;t collect any form of usage analytics, doesn&#39;t sends any\n      information to any service over the internet -- in fact, it doesn&#39;t even\n      have a server anywhere, it&#39;s just an extension installed on your computer.\n      <br/> \n      <br/> \n      <hr class="py-4"/> \n      <p class="text-lg">You can contribute on GitHub <a class="link link-hover text-secondary" href="https://github.com/toastr-space/keys-band" target="_blank">here</a></p></div></center>',E(n,"class","w-full h-full flex flex-row flex-col p-10 pt-5 space-y-6")},m(e,t){h(e,n,t)},p:e,i:e,o:e,d(e){e&&p(n)}}}class Tc extends J{constructor(e){super(),Y(this,e,null,Sc,i,{})}}function $c(e,t,n){const r=e.slice();return r[28]=t[n],r}function Lc(t){let n,r,o,i,s,a,c,l,u,d,g,b,v,k,A,B,C,S,T,$,L,_,I,H;function U(e,t){return 0==e[4]?Hc:Ic}let N=U(t),P=N(t);return{c(){n=w("div"),r=w("select"),o=w("option"),i=y("Light"),a=w("option"),c=y("Dark"),u=w("option"),d=y("Cupcake"),b=w("option"),v=y("Lofi"),A=w("option"),B=y("Autumn"),S=m(),T=w("div"),T.innerHTML='<img src="/assets/logo.png" width="70" class="mx-auto" alt=""/>',$=m(),L=w("span"),L.textContent="keys.band",_=m(),P.c(),o.__value="light",o.value=o.__value,o.selected=s="light"==t[7],a.__value="dark",a.value=a.__value,a.selected=l="dark"==t[7],u.__value="cupcake",u.value=u.__value,u.selected=g="cupcake"==t[7],b.__value="lofi",b.value=b.__value,b.selected=k="lofi"==t[7],A.__value="autumn",A.value=A.__value,A.selected=C="autumn"==t[7],E(r,"class","select select-bordered select-xs w-2/12 h-8 mt-2 max-w-xs pl-2 pr-0 absolute top-3 right-3 svelte-1hud3zu"),E(T,"class","w-full"),E(L,"class","text-lg text-center w-full"),E(n,"class","w-full flex flex-row flex-wrap space-x-4 space-y-4 p-6 px-2 overflow-y-auto")},m(e,s){h(e,n,s),f(n,r),f(r,o),f(o,i),f(r,a),f(a,c),f(r,u),f(u,d),f(r,b),f(b,v),f(r,A),f(A,B),f(n,S),f(n,T),f(n,$),f(n,L),f(n,_),P.m(n,null),I||(H=x(r,"change",t[18]),I=!0)},p(e,t){128&t&&s!==(s="light"==e[7])&&(o.selected=s),128&t&&l!==(l="dark"==e[7])&&(a.selected=l),128&t&&g!==(g="cupcake"==e[7])&&(u.selected=g),128&t&&k!==(k="lofi"==e[7])&&(b.selected=k),128&t&&C!==(C="autumn"==e[7])&&(A.selected=C),N===(N=U(e))&&P?P.p(e,t):(P.d(1),P=N(e),P&&(P.c(),P.m(n,null)))},i:e,o:e,d(e){e&&p(n),P.d(),I=!1,H()}}}function _c(e){let t,n,r,o,i,s,a,l,u,d,g,b,v,A,B,C,S,T,$,L,_,I,H,U,N,P,R,O,M,D,z,V,G,W,Z,Y,J,Q,X,ee,te=(e[5]?.nip05||"")+"";function ne(e,t){return e[5]?.name?Pc:Nc}let re=ne(e),oe=re(e);function ie(e,t){return e[1]!==e[0].Home?Oc:e[1]===e[0].Home?Rc:void 0}let se=ie(e),ae=se&&se(e);const ce=[Kc,zc,Dc,Mc],le=[];function ue(e,t){return e[1]===e[0].Home?0:e[1]===e[0].Settings?1:e[1]===e[0].QrCode?2:e[1]===e[0].About?3:-1}return~(Y=ue(e))&&(J=le[Y]=ce[Y](e)),{c(){t=w("div"),n=w("div"),r=w("div"),o=w("div"),i=w("div"),s=w("img"),l=m(),u=w("div"),d=w("div"),oe.c(),b=m(),v=w("div"),A=y(te),B=m(),C=w("div"),S=w("select"),T=w("option"),$=y("Light"),_=w("option"),I=y("Dark"),U=w("option"),N=y("Cupcake"),R=w("option"),O=y("Lofi"),D=w("option"),z=y("Autumn"),G=m(),ae&&ae.c(),W=m(),Z=w("div"),J&&J.c(),E(s,"loading","lazy"),c(s.src,a=e[5]?.picture||"https://toastr.space/images/toastr.png")||E(s,"src",a),E(s,"alt",""),E(i,"class","w-12 rounded-full bordered border-2 border-blue-200 shadow-lg"),E(o,"class","avatar"),E(r,"class","w-2/12 p-2"),E(d,"class",g="text-xl font-bold "+(e[5].name&&e[5].nip05?"":"mt-2")),E(v,"class","text-sm text-secondary text-gray-500"),E(u,"class","w-6/12 p-4 pl-2 pt-2"),T.__value="light",T.value=T.__value,T.selected=L="light"==e[7],_.__value="dark",_.value=_.__value,_.selected=H="dark"==e[7],U.__value="cupcake",U.value=U.__value,U.selected=P="cupcake"==e[7],R.__value="lofi",R.value=R.__value,R.selected=M="lofi"==e[7],D.__value="autumn",D.value=D.__value,D.selected=V="autumn"==e[7],E(S,"class","select select-bordered select-xs w-7/12 h-8 mt-2 max-w-xs pl-2 pr-0 svelte-1hud3zu"),E(C,"class","w-6/12 py-4 pt-2 pl-7 flex"),E(n,"class","w-full h-16 bg-base-100 flex shadow-sm"),E(Z,"class","w-full h-full pt-2"),E(t,"class","w-full h-full flex flex-wrap fixed-width svelte-1hud3zu")},m(a,c){h(a,t,c),f(t,n),f(n,r),f(r,o),f(o,i),f(i,s),f(n,l),f(n,u),f(u,d),oe.m(d,null),f(u,b),f(u,v),f(v,A),f(n,B),f(n,C),f(C,S),f(S,T),f(T,$),f(S,_),f(_,I),f(S,U),f(U,N),f(S,R),f(R,O),f(S,D),f(D,z),f(C,G),ae&&ae.m(C,null),f(t,W),f(t,Z),~Y&&le[Y].m(Z,null),Q=!0,X||(ee=x(S,"change",e[12]),X=!0)},p(e,t){(!Q||32&t&&!c(s.src,a=e[5]?.picture||"https://toastr.space/images/toastr.png"))&&E(s,"src",a),re===(re=ne(e))&&oe?oe.p(e,t):(oe.d(1),oe=re(e),oe&&(oe.c(),oe.m(d,null))),(!Q||32&t&&g!==(g="text-xl font-bold "+(e[5].name&&e[5].nip05?"":"mt-2")))&&E(d,"class",g),(!Q||32&t)&&te!==(te=(e[5]?.nip05||"")+"")&&k(A,te),(!Q||128&t&&L!==(L="light"==e[7]))&&(T.selected=L),(!Q||128&t&&H!==(H="dark"==e[7]))&&(_.selected=H),(!Q||128&t&&P!==(P="cupcake"==e[7]))&&(U.selected=P),(!Q||128&t&&M!==(M="lofi"==e[7]))&&(R.selected=M),(!Q||128&t&&V!==(V="autumn"==e[7]))&&(D.selected=V),se===(se=ie(e))&&ae?ae.p(e,t):(ae&&ae.d(1),ae=se&&se(e),ae&&(ae.c(),ae.m(C,null)));let n=Y;Y=ue(e),Y!==n&&(J&&(K(),F(le[n],1,1,(()=>{le[n]=null})),q()),~Y?(J=le[Y],J||(J=le[Y]=ce[Y](e),J.c()),j(J,1),J.m(Z,null)):J=null)},i(e){Q||(j(J),Q=!0)},o(e){F(J),Q=!1},d(e){e&&p(t),oe.d(),ae&&ae.d(),~Y&&le[Y].d(),X=!1,ee()}}}function Ic(e){let t,n,o,i,s,a,c,l,u,d,g,b,y,v,k,C,S,T,$,L,_,I,H,U,N,P;return{c(){t=w("hr"),n=m(),o=w("div"),i=w("div"),s=w("button"),s.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="19" height="19" class="mt-1" viewBox="0 0 1024 1024"><path fill="currentColor" d="M224 480h640a32 32 0 1 1 0 64H224a32 32 0 0 1 0-64z"></path><path fill="currentColor" d="m237.248 512l265.408 265.344a32 32 0 0 1-45.312 45.312l-288-288a32 32 0 0 1 0-45.312l288-288a32 32 0 1 1 45.312 45.312L237.248 512z"></path></svg>\n              Back',a=m(),c=w("div"),l=w("div"),u=w("div"),d=w("span"),d.textContent="Profile name",g=m(),b=w("input"),y=m(),v=w("br"),k=m(),C=w("div"),S=w("span"),S.textContent="Private Key",T=m(),$=w("div"),L=w("input"),_=m(),I=w("button"),I.textContent="Generate Key",H=m(),U=w("button"),U.textContent="Load profile",E(s,"class","link link-hover mx-auto text-lg flex flex-row space-x-8"),E(i,"class","flex flex-row space-x-8"),E(o,"class","w-full flex justify-start pr-8"),E(d,"class","label-text"),E(b,"type","text"),E(b,"class","input input-bordered mt-2"),E(b,"placeholder","name"),E(u,"class","w-full flex flex-col"),E(S,"class","label-text"),E(L,"type","text"),E(L,"class","input input-bordered mt-2 flex-grow"),E(L,"placeholder","nsec"),E(I,"class","btn btn-outline btn-primary ml-2 mt-2"),E($,"class","flex"),E(C,"class","w-full flex flex-col"),B(C,"margin-left","0px"),E(l,"class","flex w-12/12 flex-col space-y-0 pr-2 space-x-4"),E(U,"class","btn btn-primary w-full mt-4"),E(c,"class","form-control w-11/12 flex")},m(r,p){h(r,t,p),h(r,n,p),h(r,o,p),f(o,i),f(i,s),h(r,a,p),h(r,c,p),f(c,l),f(l,u),f(u,d),f(u,g),f(u,b),A(b,e[3]),f(l,y),f(l,v),f(l,k),f(l,C),f(C,S),f(C,T),f(C,$),f($,L),A(L,e[2]),f($,_),f($,I),f(c,H),f(c,U),N||(P=[x(s,"click",e[22]),x(b,"input",e[23]),x(b,"keydown",jc),x(L,"input",e[24]),x(L,"keydown",Fc),x(I,"click",e[25]),x(U,"click",e[26])],N=!0)},p(e,t){8&t&&b.value!==e[3]&&A(b,e[3]),4&t&&L.value!==e[2]&&A(L,e[2])},d(e){e&&p(t),e&&p(n),e&&p(o),e&&p(a),e&&p(c),N=!1,r(P)}}}function Hc(e){let t,n,r,o,i,s,a,c,l,u,d,b=e[8],y=[];for(let t=0;t<b.length;t+=1)y[t]=Uc($c(e,b,t));return{c(){t=w("div"),n=w("table"),r=w("thead"),r.innerHTML='<tr><th></th> \n              <th style="max-width: 60px;"></th></tr>',o=m(),i=w("tbody");for(let e=0;e<y.length;e+=1)y[e].c();s=m(),a=w("div"),c=w("center"),l=w("button"),l.textContent="+ add profile",E(n,"class","table"),E(t,"class","w-full pr-4"),E(l,"class","link link-hover mx-auto text-lg"),E(a,"class","w-full flex justify-end pr-8")},m(p,g){h(p,t,g),f(t,n),f(n,r),f(n,o),f(n,i);for(let e=0;e<y.length;e+=1)y[e]&&y[e].m(i,null);h(p,s,g),h(p,a,g),f(a,c),f(c,l),u||(d=x(l,"click",e[21]),u=!0)},p(e,t){if(3328&t){let n;for(b=e[8],n=0;n<b.length;n+=1){const r=$c(e,b,n);y[n]?y[n].p(r,t):(y[n]=Uc(r),y[n].c(),y[n].m(i,null))}for(;n<y.length;n+=1)y[n].d(1);y.length=b.length}},d(e){e&&p(t),g(y,e),e&&p(s),e&&p(a),u=!1,d()}}}function Uc(e){let t,n,o,i,s,a,c,l,u,d,g,b,v=e[28].name+"";function A(){return e[19](e[28])}function C(){return e[20](e[28])}return{c(){t=w("tr"),n=w("td"),o=y(v),i=m(),s=w("td"),a=w("div"),c=w("button"),c.textContent="OPEN",l=m(),u=w("button"),u.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M7 21q-.825 0-1.413-.588T5 19V6H4V4h5V3h6v1h5v2h-1v13q0 .825-.588 1.413T17 21H7ZM17 6H7v13h10V6ZM9 17h2V8H9v9Zm4 0h2V8h-2v9ZM7 6v13V6Z"></path></svg>',d=m(),E(n,"class","flex-grow text-lg"),E(c,"class","btn btn-sm btn-accent mb-2"),E(u,"class","btn btn-square btn-sm btn-secondary"),E(a,"class","flex space-x-2 float-right pt-2"),B(s,"max-width","60px")},m(e,r){h(e,t,r),f(t,n),f(n,o),f(t,i),f(t,s),f(s,a),f(a,c),f(a,l),f(a,u),f(t,d),g||(b=[x(c,"click",A),x(u,"click",C)],g=!0)},p(t,n){e=t,256&n&&v!==(v=e[28].name+"")&&k(o,v)},d(e){e&&p(t),g=!1,r(b)}}}function Nc(e){let t,n=Ao(e[6]).substr(0,10)+"";return{c(){t=y(n)},m(e,n){h(e,t,n)},p(e,r){64&r&&n!==(n=Ao(e[6]).substr(0,10)+"")&&k(t,n)},d(e){e&&p(t)}}}function Pc(e){let t,n=(e[5]?.name?.length>12?e[5]?.name.substr(0,12)+"...":e[5]?.name||Ao(e[6]).substr(0,16))+"";return{c(){t=y(n)},m(e,n){h(e,t,n)},p(e,r){96&r&&n!==(n=(e[5]?.name?.length>12?e[5]?.name.substr(0,12)+"...":e[5]?.name||Ao(e[6]).substr(0,16))+"")&&k(t,n)},d(e){e&&p(t)}}}function Rc(t){let n,o,i,s,a,c,l,u,d,g,b,y,v,k,A,B,C;return{c(){n=w("div"),o=w("button"),o.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M12 20q-.825 0-1.413-.588T10 18q0-.825.588-1.413T12 16q.825 0 1.413.588T14 18q0 .825-.588 1.413T12 20Zm0-6q-.825 0-1.413-.588T10 12q0-.825.588-1.413T12 10q.825 0 1.413.588T14 12q0 .825-.588 1.413T12 14Zm0-6q-.825 0-1.413-.588T10 6q0-.825.588-1.413T12 4q.825 0 1.413.588T14 6q0 .825-.588 1.413T12 8Z"></path></svg>',i=m(),s=w("ul"),a=w("li"),c=w("button"),c.textContent="Settings",l=m(),u=w("li"),d=w("button"),d.textContent="QR Code",g=m(),b=w("li"),y=w("button"),y.textContent="About",v=m(),k=w("li"),A=w("button"),A.textContent="Logout",E(o,"tabindex","-1"),E(o,"class","btn btn-ghost btn-circle"),E(s,"tabindex","-1"),E(s,"class","dropdown-content shadow-xl bg-base-200 z-[1] menu p-2 shadow bg-base-100 rounded-box w-52"),E(n,"class","dropdown dropdown-end")},m(e,r){h(e,n,r),f(n,o),f(n,i),f(n,s),f(s,a),f(a,c),f(s,l),f(s,u),f(u,d),f(s,g),f(s,b),f(b,y),f(s,v),f(s,k),f(k,A),B||(C=[x(c,"click",t[14]),x(d,"click",t[15]),x(y,"click",t[16]),x(A,"click",t[17])],B=!0)},p:e,d(e){e&&p(n),B=!1,r(C)}}}function Oc(t){let n,r,o;return{c(){n=w("button"),n.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 12L7 7m5 5l5 5m-5-5l5-5m-5 5l-5 5"></path></svg>',E(n,"class","btn btn-ghost btn-circle")},m(e,i){h(e,n,i),r||(o=x(n,"click",t[13]),r=!0)},p:e,d(e){e&&p(n),r=!1,o()}}}function Mc(e){let t,n;return t=new Tc({}),{c(){V(t.$$.fragment)},m(e,r){G(t,e,r),n=!0},i(e){n||(j(t.$$.fragment,e),n=!0)},o(e){F(t.$$.fragment,e),n=!1},d(e){W(t,e)}}}function Dc(e){let t,n;return t=new Cc({}),{c(){V(t.$$.fragment)},m(e,r){G(t,e,r),n=!0},i(e){n||(j(t.$$.fragment,e),n=!0)},o(e){F(t.$$.fragment,e),n=!1},d(e){W(t,e)}}}function zc(e){let t,n;return t=new ms({}),{c(){V(t.$$.fragment)},m(e,r){G(t,e,r),n=!0},i(e){n||(j(t.$$.fragment,e),n=!0)},o(e){F(t.$$.fragment,e),n=!1},d(e){W(t,e)}}}function Kc(e){let t,n;return t=new Gs({}),{c(){V(t.$$.fragment)},m(e,r){G(t,e,r),n=!0},i(e){n||(j(t.$$.fragment,e),n=!0)},o(e){F(t.$$.fragment,e),n=!1},d(e){W(t,e)}}}function qc(e){let t,n,r,o;const i=[_c,Lc],s=[];function a(e,t){return""!==e[6]&&void 0!==e[6]?0:1}return t=a(e),n=s[t]=i[t](e),{c(){n.c(),r=v()},m(e,n){s[t].m(e,n),h(e,r,n),o=!0},p(e,[o]){let c=t;t=a(e),t===c?s[t].p(e,o):(K(),F(s[c],1,1,(()=>{s[c]=null})),q(),n=s[t],n?n.p(e,o):(n=s[t]=i[t](e),n.c()),j(n,1),n.m(r.parentNode,r))},i(e){o||(j(n),o=!0)},o(e){F(n),o=!1},d(e){s[t].d(e),e&&p(r)}}}const jc=e=>{},Fc=e=>{};function Vc(e,t,n){let r,o,i,s;var a;d(e,Gi,(e=>n(5,r=e))),d(e,Vi,(e=>n(6,o=e))),d(e,Ji,(e=>n(7,i=e))),d(e,Wi,(e=>n(8,s=e))),function(e){e[e.Home=0]="Home",e[e.Settings=1]="Settings",e[e.QrCode=2]="QrCode",e[e.Profile=3]="Profile",e[e.About=4]="About"}(a||(a={}));let c=a.Home,l="",f="",h=!1;async function p(e,t){let r;try{r=await async function(e){return new Promise((async(t,n)=>{if(e.length<63)return void n("Invalid key");let r;if(e.toString().startsWith("nsec"))try{r=Fo.decode(e).data}catch(e){return void n("Invalid key")}else{if(64!==e.length)return void n("Invalid key");r=e}t(r)}))}(t);let o={name:e,data:{privateKey:r,webSites:{},relays:[]}};Wi.update((e=>[...e,o])),Xi(),n(3,f=""),n(2,l=""),n(4,h=!1)}catch(e){alert(e)}}async function g(e){Wi.update((t=>t.filter((t=>t.name!==e)))),Xi()}async function w(e){Vi.set(e.data.privateKey),await async function(e){return new Promise((t=>{Q.storage.local.set({profile:""}),Q.storage.local.set({privateKey:e.data.privateKey}),Q.storage.local.set({profileName:e.name}),Q.storage.local.set({webSites:e.data.webSites}),Q.storage.local.set({relays:e.data.relays}),t()}))}(e),rs(),n(1,c=a.Home)}rs(),async function(){new Promise((e=>{Q.storage.local.get("theme",(t=>{t.theme?(Ji.set(t.theme),document.documentElement.setAttribute("data-theme",t.theme)):(Q.storage.local.set({theme:"cupcake"}),Ji.set("cupcake"),document.documentElement.setAttribute("data-theme","cupcake")),e()}))}))}(),async function(){new Promise((e=>{Q.storage.local.get("profiles",(t=>{t.profiles?Wi.set(t.profiles):(Q.storage.local.set({profiles:[]}),Wi.set([])),e()}))}))}();return[a,c,l,f,h,r,o,i,s,p,g,w,e=>{es(e.target.value)},()=>{n(1,c=a.Home)},()=>{n(1,c=a.Settings)},()=>{n(1,c=a.QrCode)},()=>{n(1,c=a.About)},async()=>{await async function(){return new Promise((async e=>{let t=await Q.storage.local.get("profileName");await rs(),await ts();let n=await Q.storage.local.get("webSites"),r=await Q.storage.local.get("relays");console.log(u(Zi),u(Yi),n,r);const o=u(Wi),i={name:t.profileName,data:{privateKey:u(Vi),webSites:u(Zi),relays:u(Yi)}};console.log(i);const s=o.findIndex((e=>e.name===t.profileName));return o[s]=i,await Q.storage.local.set({profiles:o}),Yi.set([]),Vi.set(""),Gi.set({}),Zi.set({}),new Promise((async e=>{await Q.storage.local.set({privateKey:""},(async()=>{await Q.storage.local.set({profile:""},(()=>{e()}))}))}))}))}()},e=>{es(e.target.value||"dark")},e=>{w(e)},e=>{g(e.name)},()=>{n(4,h=!0)},()=>{n(4,h=!1)},function(){f=this.value,n(3,f)},function(){l=this.value,n(2,l)},()=>{let e=he(Qt.utils.randomPrivateKey());n(2,l=Fo.nsecEncode(e))},()=>{p(f,l)}]}return new class extends J{constructor(e){super(),Y(this,e,Vc,qc,i,{})}}({target:document.body})}();
