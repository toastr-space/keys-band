var app=function(){"use strict";function e(){}function n(e){return e()}function t(){return Object.create(null)}function r(e){e.forEach(n)}function o(e){return"function"==typeof e}function i(e,n){return e!=e?n==n:e!==n||e&&"object"==typeof e||"function"==typeof e}function s(n,...t){if(null==n)return e;const r=n.subscribe(...t);return r.unsubscribe?()=>r.unsubscribe():r}function a(e){let n;return s(e,(e=>n=e))(),n}function c(e,n){e.appendChild(n)}function l(e,n,t){e.insertBefore(n,t||null)}function u(e){e.parentNode&&e.parentNode.removeChild(e)}function d(e){return document.createElement(e)}function f(e){return document.createTextNode(e)}function h(){return f(" ")}function p(e,n,t,r){return e.addEventListener(n,t,r),()=>e.removeEventListener(n,t,r)}function y(e,n,t){null==t?e.removeAttribute(n):e.getAttribute(n)!==t&&e.setAttribute(n,t)}function g(e,n){n=""+n,e.data!==n&&(e.data=n)}let b;function w(e){b=e}function m(){const e=function(){if(!b)throw new Error("Function called outside component initialization");return b}();return(n,t,{cancelable:r=!1}={})=>{const o=e.$$.callbacks[n];if(o){const i=function(e,n,{bubbles:t=!1,cancelable:r=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(e,t,r,n),o}(n,t,{cancelable:r});return o.slice().forEach((n=>{n.call(e,i)})),!i.defaultPrevented}return!0}}const v=[],x=[];let E=[];const k=[],A=Promise.resolve();let B=!1;function S(e){E.push(e)}const _=new Set;let H=0;function L(){if(0!==H)return;const e=b;do{try{for(;H<v.length;){const e=v[H];H++,w(e),$(e.$$)}}catch(e){throw v.length=0,H=0,e}for(w(null),v.length=0,H=0;x.length;)x.pop()();for(let e=0;e<E.length;e+=1){const n=E[e];_.has(n)||(_.add(n),n())}E.length=0}while(v.length);for(;k.length;)k.pop()();B=!1,_.clear(),w(e)}function $(e){if(null!==e.fragment){e.update(),r(e.before_update);const n=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,n),e.after_update.forEach(S)}}const I=new Set;let T;function U(e,n){e&&e.i&&(I.delete(e),e.i(n))}function O(e,t,i,s){const{fragment:a,after_update:c}=e.$$;a&&a.m(t,i),s||S((()=>{const t=e.$$.on_mount.map(n).filter(o);e.$$.on_destroy?e.$$.on_destroy.push(...t):r(t),e.$$.on_mount=[]})),c.forEach(S)}function C(e,n){const t=e.$$;null!==t.fragment&&(!function(e){const n=[],t=[];E.forEach((r=>-1===e.indexOf(r)?n.push(r):t.push(r))),t.forEach((e=>e())),E=n}(t.after_update),r(t.on_destroy),t.fragment&&t.fragment.d(n),t.on_destroy=t.fragment=null,t.ctx=[])}function R(e,n){-1===e.$$.dirty[0]&&(v.push(e),B||(B=!0,A.then(L)),e.$$.dirty.fill(0)),e.$$.dirty[n/31|0]|=1<<n%31}function N(n,o,i,s,a,c,l,d=[-1]){const f=b;w(n);const h=n.$$={fragment:null,ctx:[],props:c,update:e,not_equal:a,bound:t(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(f?f.$$.context:[])),callbacks:t(),dirty:d,skip_bound:!1,root:o.target||f.$$.root};l&&l(h.root);let p=!1;if(h.ctx=i?i(n,o.props||{},((e,t,...r)=>{const o=r.length?r[0]:t;return h.ctx&&a(h.ctx[e],h.ctx[e]=o)&&(!h.skip_bound&&h.bound[e]&&h.bound[e](o),p&&R(n,e)),t})):[],h.update(),p=!0,r(h.before_update),h.fragment=!!s&&s(h.ctx),o.target){if(o.hydrate){const e=function(e){return Array.from(e.childNodes)}(o.target);h.fragment&&h.fragment.l(e),e.forEach(u)}else h.fragment&&h.fragment.c();o.intro&&U(n.$$.fragment),O(n,o.target,o.anchor,o.customElement),L()}w(f)}class D{$destroy(){C(this,1),this.$destroy=e}$on(n,t){if(!o(t))return e;const r=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return r.push(t),()=>{const e=r.indexOf(t);-1!==e&&r.splice(e,1)}}$set(e){var n;this.$$set&&(n=e,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}let j="undefined"!=typeof browser?browser:"undefined"!=typeof chrome?chrome:null;function P(e){return e.split("/")[2]}function q(e){let n=new Date;switch(e){case 0:return new Date;case 1:return new Date(n.getTime()+31536e8);case 2:return new Date(n.getTime()+3e5);case 3:return new Date(n.getTime()+36e5);case 4:return new Date(n.getTime()+18e6);case 5:return new Date(n.getTime()+432e6)}}function K(e){switch(e){case"signEvent":return"Sign Event";case"permission":return"Get Permission";case"nip04":case"nip04.encrypt":case"nip04.decrypt":return"Message Encryption/Decription";case"getPublicKey":return"Get Public Key";case"getRelays":return"Get Relays";default:return e}}function F(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function z(e,...n){if(!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(n.length>0&&!n.includes(e.length))throw new TypeError(`Expected Uint8Array of length ${n}, not of length=${e.length}`)}const V={number:F,bool:function(e){if("boolean"!=typeof e)throw new Error(`Expected boolean, not ${e}`)},bytes:z,hash:function(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");F(e.outputLen),F(e.blockLen)},exists:function(e,n=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(n&&e.finished)throw new Error("Hash#digest() has already been called")},output:function(e,n){z(e);const t=n.outputLen;if(e.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}},G="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,M=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),W=(e,n)=>e<<32-n|e>>>n;if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");const Z=Array.from({length:256},((e,n)=>n.toString(16).padStart(2,"0")));function Y(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let n="";for(let t=0;t<e.length;t++)n+=Z[e[t]];return n}function J(e){if("string"!=typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const n=new Uint8Array(e.length/2);for(let t=0;t<n.length;t++){const r=2*t,o=e.slice(r,r+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");n[t]=i}return n}function X(e){if("string"!=typeof e)throw new TypeError("utf8ToBytes expected string, got "+typeof e);return(new TextEncoder).encode(e)}function Q(e){if("string"==typeof e&&(e=X(e)),!(e instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof e})`);return e}function ee(...e){if(!e.every((e=>e instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===e.length)return e[0];const n=e.reduce(((e,n)=>e+n.length),0),t=new Uint8Array(n);for(let n=0,r=0;n<e.length;n++){const o=e[n];t.set(o,r),r+=o.length}return t}class ne{clone(){return this._cloneInto()}}function te(e){const n=n=>e().update(Q(n)).digest(),t=e();return n.outputLen=t.outputLen,n.blockLen=t.blockLen,n.create=()=>e(),n}function re(e=32){if(G&&"function"==typeof G.getRandomValues)return G.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}let oe=class extends ne{constructor(e,n,t,r){super(),this.blockLen=e,this.outputLen=n,this.padOffset=t,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=M(this.buffer)}update(e){V.exists(this);const{view:n,buffer:t,blockLen:r}=this,o=(e=Q(e)).length;for(let i=0;i<o;){const s=Math.min(r-this.pos,o-i);if(s!==r)t.set(e.subarray(i,i+s),this.pos),this.pos+=s,i+=s,this.pos===r&&(this.process(n,0),this.pos=0);else{const n=M(e);for(;r<=o-i;i+=r)this.process(n,i)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){V.exists(this),V.output(e,this),this.finished=!0;const{buffer:n,view:t,blockLen:r,isLE:o}=this;let{pos:i}=this;n[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>r-i&&(this.process(t,0),i=0);for(let e=i;e<r;e++)n[e]=0;!function(e,n,t,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(n,t,r);const o=BigInt(32),i=BigInt(4294967295),s=Number(t>>o&i),a=Number(t&i),c=r?4:0,l=r?0:4;e.setUint32(n+c,s,r),e.setUint32(n+l,a,r)}(t,r-8,BigInt(8*this.length),o),this.process(t,0);const s=M(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=a/4,l=this.get();if(c>l.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<c;e++)s.setUint32(4*e,l[e],o)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const t=e.slice(0,n);return this.destroy(),t}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:t,length:r,finished:o,destroyed:i,pos:s}=this;return e.length=r,e.pos=s,e.finished=o,e.destroyed=i,r%n&&e.buffer.set(t),e}};const ie=(e,n,t)=>e&n^e&t^n&t,se=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ae=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ce=new Uint32Array(64);let le=class extends oe{constructor(){super(64,32,8,!1),this.A=0|ae[0],this.B=0|ae[1],this.C=0|ae[2],this.D=0|ae[3],this.E=0|ae[4],this.F=0|ae[5],this.G=0|ae[6],this.H=0|ae[7]}get(){const{A:e,B:n,C:t,D:r,E:o,F:i,G:s,H:a}=this;return[e,n,t,r,o,i,s,a]}set(e,n,t,r,o,i,s,a){this.A=0|e,this.B=0|n,this.C=0|t,this.D=0|r,this.E=0|o,this.F=0|i,this.G=0|s,this.H=0|a}process(e,n){for(let t=0;t<16;t++,n+=4)ce[t]=e.getUint32(n,!1);for(let e=16;e<64;e++){const n=ce[e-15],t=ce[e-2],r=W(n,7)^W(n,18)^n>>>3,o=W(t,17)^W(t,19)^t>>>10;ce[e]=o+ce[e-7]+r+ce[e-16]|0}let{A:t,B:r,C:o,D:i,E:s,F:a,G:c,H:l}=this;for(let e=0;e<64;e++){const n=l+(W(s,6)^W(s,11)^W(s,25))+((u=s)&a^~u&c)+se[e]+ce[e]|0,d=(W(t,2)^W(t,13)^W(t,22))+ie(t,r,o)|0;l=c,c=a,a=s,s=i+n|0,i=o,o=r,r=t,t=n+d|0}var u;t=t+this.A|0,r=r+this.B|0,o=o+this.C|0,i=i+this.D|0,s=s+this.E|0,a=a+this.F|0,c=c+this.G|0,l=l+this.H|0,this.set(t,r,o,i,s,a,c,l)}roundClean(){ce.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},ue=class extends le{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};const de=te((()=>new le));te((()=>new ue));
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const fe=BigInt(0),he=BigInt(1),pe=BigInt(2),ye=e=>e instanceof Uint8Array,ge=Array.from({length:256},((e,n)=>n.toString(16).padStart(2,"0")));function be(e){if(!ye(e))throw new Error("Uint8Array expected");let n="";for(let t=0;t<e.length;t++)n+=ge[e[t]];return n}function we(e){const n=e.toString(16);return 1&n.length?`0${n}`:n}function me(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}function ve(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);if(e.length%2)throw new Error("hex string is invalid: unpadded "+e.length);const n=new Uint8Array(e.length/2);for(let t=0;t<n.length;t++){const r=2*t,o=e.slice(r,r+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("invalid byte sequence");n[t]=i}return n}function xe(e){return me(be(e))}function Ee(e){if(!ye(e))throw new Error("Uint8Array expected");return me(be(Uint8Array.from(e).reverse()))}const ke=(e,n)=>ve(e.toString(16).padStart(2*n,"0")),Ae=(e,n)=>ke(e,n).reverse();function Be(e,n,t){let r;if("string"==typeof n)try{r=ve(n)}catch(t){throw new Error(`${e} must be valid hex string, got "${n}". Cause: ${t}`)}else{if(!ye(n))throw new Error(`${e} must be hex string or Uint8Array`);r=Uint8Array.from(n)}const o=r.length;if("number"==typeof t&&o!==t)throw new Error(`${e} expected ${t} bytes, got ${o}`);return r}function Se(...e){const n=new Uint8Array(e.reduce(((e,n)=>e+n.length),0));let t=0;return e.forEach((e=>{if(!ye(e))throw new Error("Uint8Array expected");n.set(e,t),t+=e.length})),n}function _e(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return(new TextEncoder).encode(e)}const He=e=>(pe<<BigInt(e-1))-he,Le=e=>new Uint8Array(e),$e=e=>Uint8Array.from(e);function Ie(e,n,t){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof n||n<2)throw new Error("qByteLen must be a number");if("function"!=typeof t)throw new Error("hmacFn must be a function");let r=Le(e),o=Le(e),i=0;const s=()=>{r.fill(1),o.fill(0),i=0},a=(...e)=>t(o,r,...e),c=(e=Le())=>{o=a($e([0]),e),r=a(),0!==e.length&&(o=a($e([1]),e),r=a())},l=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const t=[];for(;e<n;){r=a();const n=r.slice();t.push(n),e+=r.length}return Se(...t)};return(e,n)=>{let t;for(s(),c(e);!(t=n(l()));)c();return s(),t}}const Te={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,n)=>n.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function Ue(e,n,t={}){const r=(n,t,r)=>{const o=Te[t];if("function"!=typeof o)throw new Error(`Invalid validator "${t}", expected function`);const i=e[n];if(!(r&&void 0===i||o(i,e)))throw new Error(`Invalid param ${String(n)}=${i} (${typeof i}), expected ${t}`)};for(const[e,t]of Object.entries(n))r(e,t,!1);for(const[e,n]of Object.entries(t))r(e,n,!0);return e}var Oe=Object.freeze({__proto__:null,bitGet:(e,n)=>e>>BigInt(n)&he,bitLen:function(e){let n;for(n=0;e>fe;e>>=he,n+=1);return n},bitMask:He,bitSet:(e,n,t)=>e|(t?he:fe)<<BigInt(n),bytesToHex:be,bytesToNumberBE:xe,bytesToNumberLE:Ee,concatBytes:Se,createHmacDrbg:Ie,ensureBytes:Be,equalBytes:function(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;t++)if(e[t]!==n[t])return!1;return!0},hexToBytes:ve,hexToNumber:me,numberToBytesBE:ke,numberToBytesLE:Ae,numberToHexUnpadded:we,numberToVarBytesBE:e=>ve(we(e)),utf8ToBytes:_e,validateObject:Ue});
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ce=BigInt(0),Re=BigInt(1),Ne=BigInt(2),De=BigInt(3),je=BigInt(4),Pe=BigInt(5),qe=BigInt(8);function Ke(e,n){const t=e%n;return t>=Ce?t:n+t}function Fe(e,n,t){if(t<=Ce||n<Ce)throw new Error("Expected power/modulo > 0");if(t===Re)return Ce;let r=Re;for(;n>Ce;)n&Re&&(r=r*e%t),e=e*e%t,n>>=Re;return r}function ze(e,n,t){let r=e;for(;n-- >Ce;)r*=r,r%=t;return r}function Ve(e,n){if(e===Ce||n<=Ce)throw new Error(`invert: expected positive integers, got n=${e} mod=${n}`);let t=Ke(e,n),r=n,o=Ce,i=Re;for(;t!==Ce;){const e=r%t,n=o-i*(r/t);r=t,t=e,o=i,i=n}if(r!==Re)throw new Error("invert: does not exist");return Ke(o,n)}function Ge(e){if(e%je===De){const n=(e+Re)/je;return function(e,t){const r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}}if(e%qe===Pe){const n=(e-Pe)/qe;return function(e,t){const r=e.mul(t,Ne),o=e.pow(r,n),i=e.mul(t,o),s=e.mul(e.mul(i,Ne),o),a=e.mul(i,e.sub(s,e.ONE));if(!e.eql(e.sqr(a),t))throw new Error("Cannot find square root");return a}}return function(e){const n=(e-Re)/Ne;let t,r,o;for(t=e-Re,r=0;t%Ne===Ce;t/=Ne,r++);for(o=Ne;o<e&&Fe(o,n,e)!==e-Re;o++);if(1===r){const n=(e+Re)/je;return function(e,t){const r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}}const i=(t+Re)/Ne;return function(e,s){if(e.pow(s,n)===e.neg(e.ONE))throw new Error("Cannot find square root");let a=r,c=e.pow(e.mul(e.ONE,o),t),l=e.pow(s,i),u=e.pow(s,t);for(;!e.eql(u,e.ONE);){if(e.eql(u,e.ZERO))return e.ZERO;let n=1;for(let t=e.sqr(u);n<a&&!e.eql(t,e.ONE);n++)t=e.sqr(t);const t=e.pow(c,Re<<BigInt(a-n-1));c=e.sqr(t),l=e.mul(l,t),u=e.mul(u,c),a=n}return l}}(e)}BigInt(9),BigInt(16);const Me=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function We(e){return Ue(e,Me.reduce(((e,n)=>(e[n]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"}))}function Ze(e,n){const t=void 0!==n?n:e.toString(2).length;return{nBitLength:t,nByteLength:Math.ceil(t/8)}}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const Ye=BigInt(0),Je=BigInt(1);function Xe(e){return We(e.Fp),Ue(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Ze(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const{bytesToNumberBE:Qe,hexToBytes:en}=Oe,nn={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(e){const{Err:n}=nn;if(e.length<2||2!==e[0])throw new n("Invalid signature integer tag");const t=e[1],r=e.subarray(2,t+2);if(!t||r.length!==t)throw new n("Invalid signature integer: wrong length");if(128&r[0])throw new n("Invalid signature integer: negative");if(0===r[0]&&!(128&r[1]))throw new n("Invalid signature integer: unnecessary leading zero");return{d:Qe(r),l:e.subarray(t+2)}},toSig(e){const{Err:n}=nn,t="string"==typeof e?en(e):e;if(!(t instanceof Uint8Array))throw new Error("ui8a expected");let r=t.length;if(r<2||48!=t[0])throw new n("Invalid signature tag");if(t[1]!==r-2)throw new n("Invalid signature: incorrect length");const{d:o,l:i}=nn._parseInt(t.subarray(2)),{d:s,l:a}=nn._parseInt(i);if(a.length)throw new n("Invalid signature: left bytes after parsing");return{r:o,s:s}},hexFromSig(e){const n=e=>8&Number.parseInt(e[0],16)?"00"+e:e,t=e=>{const n=e.toString(16);return 1&n.length?`0${n}`:n},r=n(t(e.s)),o=n(t(e.r)),i=r.length/2,s=o.length/2,a=t(i),c=t(s);return`30${t(s+i+4)}02${c}${o}02${a}${r}`}},tn=BigInt(0),rn=BigInt(1),on=BigInt(2),sn=BigInt(3),an=BigInt(4);function cn(e){const n=function(e){const n=Xe(e);Ue(n,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:r,a:o}=n;if(t){if(!r.eql(o,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof t||"bigint"!=typeof t.beta||"function"!=typeof t.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...n})}(e),{Fp:t}=n,r=n.toBytes||((e,n,r)=>{const o=n.toAffine();return Se(Uint8Array.from([4]),t.toBytes(o.x),t.toBytes(o.y))}),o=n.fromBytes||(e=>{const n=e.subarray(1);return{x:t.fromBytes(n.subarray(0,t.BYTES)),y:t.fromBytes(n.subarray(t.BYTES,2*t.BYTES))}});function i(e){const{a:r,b:o}=n,i=t.sqr(e),s=t.mul(i,e);return t.add(t.add(s,t.mul(e,r)),o)}if(!t.eql(t.sqr(n.Gy),i(n.Gx)))throw new Error("bad generator point: equation left != right");function s(e){return"bigint"==typeof e&&tn<e&&e<n.n}function a(e){if(!s(e))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(e){const{allowedPrivateKeyLengths:t,nByteLength:r,wrapPrivateKey:o,n:i}=n;if(t&&"bigint"!=typeof e){if(e instanceof Uint8Array&&(e=be(e)),"string"!=typeof e||!t.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*r,"0")}let s;try{s="bigint"==typeof e?e:xe(Be("private key",e,r))}catch(n){throw new Error(`private key must be ${r} bytes, hex or bigint, not ${typeof e}`)}return o&&(s=Ke(s,i)),a(s),s}const l=new Map;function u(e){if(!(e instanceof d))throw new Error("ProjectivePoint expected")}class d{constructor(e,n,r){if(this.px=e,this.py=n,this.pz=r,null==e||!t.isValid(e))throw new Error("x required");if(null==n||!t.isValid(n))throw new Error("y required");if(null==r||!t.isValid(r))throw new Error("z required")}static fromAffine(e){const{x:n,y:r}=e||{};if(!e||!t.isValid(n)||!t.isValid(r))throw new Error("invalid affine point");if(e instanceof d)throw new Error("projective point not allowed");const o=e=>t.eql(e,t.ZERO);return o(n)&&o(r)?d.ZERO:new d(n,r,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const n=t.invertBatch(e.map((e=>e.pz)));return e.map(((e,t)=>e.toAffine(n[t]))).map(d.fromAffine)}static fromHex(e){const n=d.fromAffine(o(Be("pointHex",e)));return n.assertValidity(),n}static fromPrivateKey(e){return d.BASE.multiply(c(e))}_setWindowSize(e){this._WINDOW_SIZE=e,l.delete(this)}assertValidity(){if(this.is0()){if(n.allowInfinityPoint)return;throw new Error("bad point: ZERO")}const{x:e,y:r}=this.toAffine();if(!t.isValid(e)||!t.isValid(r))throw new Error("bad point: x or y not FE");const o=t.sqr(r),s=i(e);if(!t.eql(o,s))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:e}=this.toAffine();if(t.isOdd)return!t.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){u(e);const{px:n,py:r,pz:o}=this,{px:i,py:s,pz:a}=e,c=t.eql(t.mul(n,a),t.mul(i,o)),l=t.eql(t.mul(r,a),t.mul(s,o));return c&&l}negate(){return new d(this.px,t.neg(this.py),this.pz)}double(){const{a:e,b:r}=n,o=t.mul(r,sn),{px:i,py:s,pz:a}=this;let c=t.ZERO,l=t.ZERO,u=t.ZERO,f=t.mul(i,i),h=t.mul(s,s),p=t.mul(a,a),y=t.mul(i,s);return y=t.add(y,y),u=t.mul(i,a),u=t.add(u,u),c=t.mul(e,u),l=t.mul(o,p),l=t.add(c,l),c=t.sub(h,l),l=t.add(h,l),l=t.mul(c,l),c=t.mul(y,c),u=t.mul(o,u),p=t.mul(e,p),y=t.sub(f,p),y=t.mul(e,y),y=t.add(y,u),u=t.add(f,f),f=t.add(u,f),f=t.add(f,p),f=t.mul(f,y),l=t.add(l,f),p=t.mul(s,a),p=t.add(p,p),f=t.mul(p,y),c=t.sub(c,f),u=t.mul(p,h),u=t.add(u,u),u=t.add(u,u),new d(c,l,u)}add(e){u(e);const{px:r,py:o,pz:i}=this,{px:s,py:a,pz:c}=e;let l=t.ZERO,f=t.ZERO,h=t.ZERO;const p=n.a,y=t.mul(n.b,sn);let g=t.mul(r,s),b=t.mul(o,a),w=t.mul(i,c),m=t.add(r,o),v=t.add(s,a);m=t.mul(m,v),v=t.add(g,b),m=t.sub(m,v),v=t.add(r,i);let x=t.add(s,c);return v=t.mul(v,x),x=t.add(g,w),v=t.sub(v,x),x=t.add(o,i),l=t.add(a,c),x=t.mul(x,l),l=t.add(b,w),x=t.sub(x,l),h=t.mul(p,v),l=t.mul(y,w),h=t.add(l,h),l=t.sub(b,h),h=t.add(b,h),f=t.mul(l,h),b=t.add(g,g),b=t.add(b,g),w=t.mul(p,w),v=t.mul(y,v),b=t.add(b,w),w=t.sub(g,w),w=t.mul(p,w),v=t.add(v,w),g=t.mul(b,v),f=t.add(f,g),g=t.mul(x,v),l=t.mul(m,l),l=t.sub(l,g),g=t.mul(m,b),h=t.mul(x,h),h=t.add(h,g),new d(l,f,h)}subtract(e){return this.add(e.negate())}is0(){return this.equals(d.ZERO)}wNAF(e){return h.wNAFCached(this,l,e,(e=>{const n=t.invertBatch(e.map((e=>e.pz)));return e.map(((e,t)=>e.toAffine(n[t]))).map(d.fromAffine)}))}multiplyUnsafe(e){const r=d.ZERO;if(e===tn)return r;if(a(e),e===rn)return this;const{endo:o}=n;if(!o)return h.unsafeLadder(this,e);let{k1neg:i,k1:s,k2neg:c,k2:l}=o.splitScalar(e),u=r,f=r,p=this;for(;s>tn||l>tn;)s&rn&&(u=u.add(p)),l&rn&&(f=f.add(p)),p=p.double(),s>>=rn,l>>=rn;return i&&(u=u.negate()),c&&(f=f.negate()),f=new d(t.mul(f.px,o.beta),f.py,f.pz),u.add(f)}multiply(e){a(e);let r,o,i=e;const{endo:s}=n;if(s){const{k1neg:e,k1:n,k2neg:a,k2:c}=s.splitScalar(i);let{p:l,f:u}=this.wNAF(n),{p:f,f:p}=this.wNAF(c);l=h.constTimeNegate(e,l),f=h.constTimeNegate(a,f),f=new d(t.mul(f.px,s.beta),f.py,f.pz),r=l.add(f),o=u.add(p)}else{const{p:e,f:n}=this.wNAF(i);r=e,o=n}return d.normalizeZ([r,o])[0]}multiplyAndAddUnsafe(e,n,t){const r=d.BASE,o=(e,n)=>n!==tn&&n!==rn&&e.equals(r)?e.multiply(n):e.multiplyUnsafe(n),i=o(this,n).add(o(e,t));return i.is0()?void 0:i}toAffine(e){const{px:n,py:r,pz:o}=this,i=this.is0();null==e&&(e=i?t.ONE:t.inv(o));const s=t.mul(n,e),a=t.mul(r,e),c=t.mul(o,e);if(i)return{x:t.ZERO,y:t.ZERO};if(!t.eql(c,t.ONE))throw new Error("invZ was invalid");return{x:s,y:a}}isTorsionFree(){const{h:e,isTorsionFree:t}=n;if(e===rn)return!0;if(t)return t(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:t}=n;return e===rn?this:t?t(d,this):this.multiplyUnsafe(n.h)}toRawBytes(e=!0){return this.assertValidity(),r(d,this,e)}toHex(e=!0){return be(this.toRawBytes(e))}}d.BASE=new d(n.Gx,n.Gy,t.ONE),d.ZERO=new d(t.ZERO,t.ONE,t.ZERO);const f=n.nBitLength,h=function(e,n){const t=(e,n)=>{const t=n.negate();return e?t:n},r=e=>({windows:Math.ceil(n/e)+1,windowSize:2**(e-1)});return{constTimeNegate:t,unsafeLadder(n,t){let r=e.ZERO,o=n;for(;t>Ye;)t&Je&&(r=r.add(o)),o=o.double(),t>>=Je;return r},precomputeWindow(e,n){const{windows:t,windowSize:o}=r(n),i=[];let s=e,a=s;for(let e=0;e<t;e++){a=s,i.push(a);for(let e=1;e<o;e++)a=a.add(s),i.push(a);s=a.double()}return i},wNAF(n,o,i){const{windows:s,windowSize:a}=r(n);let c=e.ZERO,l=e.BASE;const u=BigInt(2**n-1),d=2**n,f=BigInt(n);for(let e=0;e<s;e++){const n=e*a;let r=Number(i&u);i>>=f,r>a&&(r-=d,i+=Je);const s=n,h=n+Math.abs(r)-1,p=e%2!=0,y=r<0;0===r?l=l.add(t(p,o[s])):c=c.add(t(y,o[h]))}return{p:c,f:l}},wNAFCached(e,n,t,r){const o=e._WINDOW_SIZE||1;let i=n.get(e);return i||(i=this.precomputeWindow(e,o),1!==o&&n.set(e,r(i))),this.wNAF(o,i,t)}}}(d,n.endo?Math.ceil(f/2):f);return{CURVE:n,ProjectivePoint:d,normPrivateKeyToScalar:c,weierstrassEquation:i,isWithinCurveOrder:s}}function ln(e){const n=function(e){const n=Xe(e);return Ue(n,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...n})}(e),{Fp:t,n:r}=n,o=t.BYTES+1,i=2*t.BYTES+1;function s(e){return Ke(e,r)}function a(e){return Ve(e,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:l,weierstrassEquation:u,isWithinCurveOrder:d}=cn({...n,toBytes(e,n,r){const o=n.toAffine(),i=t.toBytes(o.x),s=Se;return r?s(Uint8Array.from([n.hasEvenY()?2:3]),i):s(Uint8Array.from([4]),i,t.toBytes(o.y))},fromBytes(e){const n=e.length,r=e[0],s=e.subarray(1);if(n!==o||2!==r&&3!==r){if(n===i&&4===r){return{x:t.fromBytes(s.subarray(0,t.BYTES)),y:t.fromBytes(s.subarray(t.BYTES,2*t.BYTES))}}throw new Error(`Point of length ${n} was invalid. Expected ${o} compressed bytes or ${i} uncompressed bytes`)}{const e=xe(s);if(!(tn<(a=e)&&a<t.ORDER))throw new Error("Point is not on curve");const n=u(e);let o=t.sqrt(n);return 1==(1&r)!==((o&rn)===rn)&&(o=t.neg(o)),{x:e,y:o}}var a}}),f=e=>be(ke(e,n.nByteLength));function h(e){return e>r>>rn}const p=(e,n,t)=>xe(e.slice(n,t));class y{constructor(e,n,t){this.r=e,this.s=n,this.recovery=t,this.assertValidity()}static fromCompact(e){const t=n.nByteLength;return e=Be("compactSignature",e,2*t),new y(p(e,0,t),p(e,t,2*t))}static fromDER(e){const{r:n,s:t}=nn.toSig(Be("DER",e));return new y(n,t)}assertValidity(){if(!d(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!d(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new y(this.r,this.s,e)}recoverPublicKey(e){const{r:r,s:o,recovery:i}=this,l=m(Be("msgHash",e));if(null==i||![0,1,2,3].includes(i))throw new Error("recovery id invalid");const u=2===i||3===i?r+n.n:r;if(u>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const d=0==(1&i)?"02":"03",h=c.fromHex(d+f(u)),p=a(u),y=s(-l*p),g=s(o*p),b=c.BASE.multiplyAndAddUnsafe(h,y,g);if(!b)throw new Error("point at infinify");return b.assertValidity(),b}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return ve(this.toDERHex())}toDERHex(){return nn.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return ve(this.toCompactHex())}toCompactHex(){return f(this.r)+f(this.s)}}const g={isValidPrivateKey(e){try{return l(e),!0}catch(e){return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const e=function(e,n,t=!1){const r=(e=Be("privateHash",e)).length,o=Ze(n).nByteLength+8;if(o<24||r<o||r>1024)throw new Error(`hashToPrivateScalar: expected ${o}-1024 bytes of input, got ${r}`);return Ke(t?Ee(e):xe(e),n-Re)+Re}(n.randomBytes(t.BYTES+8),r);return ke(e,n.nByteLength)},precompute:(e=8,n=c.BASE)=>(n._setWindowSize(e),n.multiply(BigInt(3)),n)};function b(e){const n=e instanceof Uint8Array,t="string"==typeof e,r=(n||t)&&e.length;return n?r===o||r===i:t?r===2*o||r===2*i:e instanceof c}const w=n.bits2int||function(e){const t=xe(e),r=8*e.length-n.nBitLength;return r>0?t>>BigInt(r):t},m=n.bits2int_modN||function(e){return s(w(e))},v=He(n.nBitLength);function x(e){if("bigint"!=typeof e)throw new Error("bigint expected");if(!(tn<=e&&e<v))throw new Error(`bigint expected < 2^${n.nBitLength}`);return ke(e,n.nByteLength)}function E(e,r,o=k){if(["recovered","canonical"].some((e=>e in o)))throw new Error("sign() legacy options not supported");const{hash:i,randomBytes:u}=n;let{lowS:f,prehash:p,extraEntropy:g}=o;null==f&&(f=!0),e=Be("msgHash",e),p&&(e=Be("prehashed msgHash",i(e)));const b=m(e),v=l(r),E=[x(v),x(b)];if(null!=g){const e=!0===g?u(t.BYTES):g;E.push(Be("extraEntropy",e,t.BYTES))}const A=Se(...E),B=b;return{seed:A,k2sig:function(e){const n=w(e);if(!d(n))return;const t=a(n),r=c.BASE.multiply(n).toAffine(),o=s(r.x);if(o===tn)return;const i=s(t*s(B+o*v));if(i===tn)return;let l=(r.x===o?0:2)|Number(r.y&rn),u=i;return f&&h(i)&&(u=function(e){return h(e)?s(-e):e}(i),l^=1),new y(o,u,l)}}}const k={lowS:n.lowS,prehash:!1},A={lowS:n.lowS,prehash:!1};return c.BASE._setWindowSize(8),{CURVE:n,getPublicKey:function(e,n=!0){return c.fromPrivateKey(e).toRawBytes(n)},getSharedSecret:function(e,n,t=!0){if(b(e))throw new Error("first arg must be private key");if(!b(n))throw new Error("second arg must be public key");return c.fromHex(n).multiply(l(e)).toRawBytes(t)},sign:function(e,t,r=k){const{seed:o,k2sig:i}=E(e,t,r);return Ie(n.hash.outputLen,n.nByteLength,n.hmac)(o,i)},verify:function(e,t,r,o=A){const i=e;if(t=Be("msgHash",t),r=Be("publicKey",r),"strict"in o)throw new Error("options.strict was renamed to lowS");const{lowS:l,prehash:u}=o;let d,f;try{if("string"==typeof i||i instanceof Uint8Array)try{d=y.fromDER(i)}catch(e){if(!(e instanceof nn.Err))throw e;d=y.fromCompact(i)}else{if("object"!=typeof i||"bigint"!=typeof i.r||"bigint"!=typeof i.s)throw new Error("PARSE");{const{r:e,s:n}=i;d=new y(e,n)}}f=c.fromHex(r)}catch(e){if("PARSE"===e.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(l&&d.hasHighS())return!1;u&&(t=n.hash(t));const{r:h,s:p}=d,g=m(t),b=a(p),w=s(g*b),v=s(h*b),x=c.BASE.multiplyAndAddUnsafe(f,w,v)?.toAffine();return!!x&&s(x.x)===h},ProjectivePoint:c,Signature:y,utils:g}}class un extends ne{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,V.hash(e);const t=Q(n);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,o=new Uint8Array(r);o.set(t.length>r?e.create().update(t).digest():t);for(let e=0;e<o.length;e++)o[e]^=54;this.iHash.update(o),this.oHash=e.create();for(let e=0;e<o.length;e++)o[e]^=106;this.oHash.update(o),o.fill(0)}update(e){return V.exists(this),this.iHash.update(e),this}digestInto(e){V.exists(this),V.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:t,finished:r,destroyed:o,blockLen:i,outputLen:s}=this;return e.finished=r,e.destroyed=o,e.blockLen=i,e.outputLen=s,e.oHash=n._cloneInto(e.oHash),e.iHash=t._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const dn=(e,n,t)=>new un(e,n).update(t).digest();
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
function fn(e){return{hash:e,hmac:(n,...t)=>dn(e,n,ee(...t)),randomBytes:re}}dn.create=(e,n)=>new un(e,n);
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const hn=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),pn=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),yn=BigInt(1),gn=BigInt(2),bn=(e,n)=>(e+n/gn)/n;function wn(e){const n=hn,t=BigInt(3),r=BigInt(6),o=BigInt(11),i=BigInt(22),s=BigInt(23),a=BigInt(44),c=BigInt(88),l=e*e*e%n,u=l*l*e%n,d=ze(u,t,n)*u%n,f=ze(d,t,n)*u%n,h=ze(f,gn,n)*l%n,p=ze(h,o,n)*h%n,y=ze(p,i,n)*p%n,g=ze(y,a,n)*y%n,b=ze(g,c,n)*g%n,w=ze(b,a,n)*y%n,m=ze(w,t,n)*u%n,v=ze(m,s,n)*p%n,x=ze(v,r,n)*l%n,E=ze(x,gn,n);if(!mn.eql(mn.sqr(E),e))throw new Error("Cannot find square root");return E}const mn=function(e,n,t=!1,r={}){if(e<=Ce)throw new Error(`Expected Fp ORDER > 0, got ${e}`);const{nBitLength:o,nByteLength:i}=Ze(e,n);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const s=Ge(e),a=Object.freeze({ORDER:e,BITS:o,BYTES:i,MASK:He(o),ZERO:Ce,ONE:Re,create:n=>Ke(n,e),isValid:n=>{if("bigint"!=typeof n)throw new Error("Invalid field element: expected bigint, got "+typeof n);return Ce<=n&&n<e},is0:e=>e===Ce,isOdd:e=>(e&Re)===Re,neg:n=>Ke(-n,e),eql:(e,n)=>e===n,sqr:n=>Ke(n*n,e),add:(n,t)=>Ke(n+t,e),sub:(n,t)=>Ke(n-t,e),mul:(n,t)=>Ke(n*t,e),pow:(e,n)=>function(e,n,t){if(t<Ce)throw new Error("Expected power > 0");if(t===Ce)return e.ONE;if(t===Re)return n;let r=e.ONE,o=n;for(;t>Ce;)t&Re&&(r=e.mul(r,o)),o=e.sqr(o),t>>=Re;return r}(a,e,n),div:(n,t)=>Ke(n*Ve(t,e),e),sqrN:e=>e*e,addN:(e,n)=>e+n,subN:(e,n)=>e-n,mulN:(e,n)=>e*n,inv:n=>Ve(n,e),sqrt:r.sqrt||(e=>s(a,e)),invertBatch:e=>function(e,n){const t=new Array(n.length),r=n.reduce(((n,r,o)=>e.is0(r)?n:(t[o]=n,e.mul(n,r))),e.ONE),o=e.inv(r);return n.reduceRight(((n,r,o)=>e.is0(r)?n:(t[o]=e.mul(n,t[o]),e.mul(n,r))),o),t}(a,e),cmov:(e,n,t)=>t?n:e,toBytes:e=>t?Ae(e,i):ke(e,i),fromBytes:e=>{if(e.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${e.length}`);return t?Ee(e):xe(e)}});return Object.freeze(a)}(hn,void 0,void 0,{sqrt:wn}),vn=function(e,n){const t=n=>ln({...e,...fn(n)});return Object.freeze({...t(n),create:t})}({a:BigInt(0),b:BigInt(7),Fp:mn,n:pn,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const n=pn,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-yn*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=t,s=BigInt("0x100000000000000000000000000000000"),a=bn(i*e,n),c=bn(-r*e,n);let l=Ke(e-a*t-c*o,n),u=Ke(-a*r-c*i,n);const d=l>s,f=u>s;if(d&&(l=n-l),f&&(u=n-u),l>s||u>s)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:l,k2neg:f,k2:u}}}},de),xn=BigInt(0),En=e=>"bigint"==typeof e&&xn<e&&e<hn,kn=e=>"bigint"==typeof e&&xn<e&&e<pn,An={};function Bn(e,...n){let t=An[e];if(void 0===t){const n=de(Uint8Array.from(e,(e=>e.charCodeAt(0))));t=Se(n,n),An[e]=t}return de(Se(t,...n))}const Sn=e=>e.toRawBytes(!0).slice(1),_n=e=>ke(e,32),Hn=e=>Ke(e,hn),Ln=e=>Ke(e,pn),$n=vn.ProjectivePoint,In=(e,n,t)=>$n.BASE.multiplyAndAddUnsafe(e,n,t);function Tn(e){let n=vn.utils.normPrivateKeyToScalar(e),t=$n.fromPrivateKey(n);return{scalar:t.hasEvenY()?n:Ln(-n),bytes:Sn(t)}}function Un(e){if(!En(e))throw new Error("bad x: need 0 < x < p");const n=Hn(e*e);let t=wn(Hn(n*e+BigInt(7)));t%gn!==xn&&(t=Hn(-t));const r=new $n(e,t,yn);return r.assertValidity(),r}function On(...e){return Ln(xe(Bn("BIP0340/challenge",...e)))}function Cn(e,n,t){const r=Be("signature",e,64),o=Be("message",n),i=Be("publicKey",t,32);try{const e=Un(xe(i)),n=xe(r.subarray(0,32));if(!En(n))return!1;const t=xe(r.subarray(32,64));if(!kn(t))return!1;const s=On(_n(n),Sn(e),o),a=In(e,t,Ln(-s));return!(!a||!a.hasEvenY()||a.toAffine().x!==n)}catch(e){return!1}}const Rn={getPublicKey:function(e){return Tn(e).bytes},sign:function(e,n,t=re(32)){const r=Be("message",e),{bytes:o,scalar:i}=Tn(n),s=Be("auxRand",t,32),a=_n(i^xe(Bn("BIP0340/aux",s))),c=Bn("BIP0340/nonce",a,o,r),l=Ln(xe(c));if(l===xn)throw new Error("sign failed: k is zero");const{bytes:u,scalar:d}=Tn(l),f=On(u,o,r),h=new Uint8Array(64);if(h.set(u,0),h.set(_n(Ln(d+f*i)),32),!Cn(h,r,o))throw new Error("sign: Invalid signature produced");return h},verify:Cn,utils:{randomPrivateKey:vn.utils.randomPrivateKey,lift_x:Un,pointToBytes:Sn,numberToBytesBE:ke,bytesToNumberBE:xe,taggedHash:Bn,mod:Ke}},Nn=function(e,n){const t=n.map((e=>Array.from(e).reverse()));return(n,r)=>{const[o,i,s,a]=t.map((t=>t.reduce(((t,r)=>e.add(e.mul(t,n),r)))));return n=e.div(o,i),r=e.mul(r,e.div(s,a)),{x:n,y:r}}}(mn,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map((e=>e.map((e=>BigInt(e)))))),Dn=function(e,n){if(We(e),!e.isValid(n.A)||!e.isValid(n.B)||!e.isValid(n.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const t=function(e,n){const t=e.ORDER;let r=tn;for(let e=t-rn;e%on===tn;e/=on)r+=rn;const o=r,i=(t-rn)/on**o,s=(i-rn)/on,a=on**o-rn,c=on**(o-rn),l=e.pow(n,i),u=e.pow(n,(i+rn)/on);let d=(n,t)=>{let r=l,i=e.pow(t,a),d=e.sqr(i);d=e.mul(d,t);let f=e.mul(n,d);f=e.pow(f,s),f=e.mul(f,i),i=e.mul(f,t),d=e.mul(f,n);let h=e.mul(d,i);f=e.pow(h,c);let p=e.eql(f,e.ONE);i=e.mul(d,u),f=e.mul(h,r),d=e.cmov(i,d,p),h=e.cmov(f,h,p);for(let n=o;n>rn;n--){let t=on**(n-on),o=e.pow(h,t);const s=e.eql(o,e.ONE);i=e.mul(d,r),r=e.mul(r,r),o=e.mul(h,r),d=e.cmov(i,d,s),h=e.cmov(o,h,s)}return{isValid:p,value:d}};if(e.ORDER%an===sn){const t=(e.ORDER-sn)/an,r=e.sqrt(e.neg(n));d=(n,o)=>{let i=e.sqr(o);const s=e.mul(n,o);i=e.mul(i,s);let a=e.pow(i,t);a=e.mul(a,s);const c=e.mul(a,r),l=e.mul(e.sqr(a),o),u=e.eql(l,n);return{isValid:u,value:e.cmov(c,a,u)}}}return d}(e,n.Z);if(!e.isOdd)throw new Error("Fp.isOdd is not implemented!");return r=>{let o,i,s,a,c,l,u,d;o=e.sqr(r),o=e.mul(o,n.Z),i=e.sqr(o),i=e.add(i,o),s=e.add(i,e.ONE),s=e.mul(s,n.B),a=e.cmov(n.Z,e.neg(i),!e.eql(i,e.ZERO)),a=e.mul(a,n.A),i=e.sqr(s),l=e.sqr(a),c=e.mul(l,n.A),i=e.add(i,c),i=e.mul(i,s),l=e.mul(l,a),c=e.mul(l,n.B),i=e.add(i,c),u=e.mul(o,s);const{isValid:f,value:h}=t(i,l);d=e.mul(o,r),d=e.mul(d,h),u=e.cmov(u,s,f),d=e.cmov(d,h,f);const p=e.isOdd(r)===e.isOdd(d);return d=e.cmov(e.neg(d),d,p),u=e.div(u,a),{x:u,y:d}}}(mn,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:mn.create(BigInt("-11"))});
/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */
function jn(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function Pn(...e){const n=(e,n)=>t=>e(n(t));return{encode:Array.from(e).reverse().reduce(((e,t)=>e?n(e,t.encode):t.encode),void 0),decode:e.reduce(((e,t)=>e?n(e,t.decode):t.decode),void 0)}}function qn(e){return{encode:n=>{if(!Array.isArray(n)||n.length&&"number"!=typeof n[0])throw new Error("alphabet.encode input should be an array of numbers");return n.map((n=>{if(jn(n),n<0||n>=e.length)throw new Error(`Digit index outside alphabet: ${n} (alphabet: ${e.length})`);return e[n]}))},decode:n=>{if(!Array.isArray(n)||n.length&&"string"!=typeof n[0])throw new Error("alphabet.decode input should be array of strings");return n.map((n=>{if("string"!=typeof n)throw new Error(`alphabet.decode: not string element=${n}`);const t=e.indexOf(n);if(-1===t)throw new Error(`Unknown letter: "${n}". Allowed: ${e}`);return t}))}}}function Kn(e=""){if("string"!=typeof e)throw new Error("join separator should be string");return{encode:n=>{if(!Array.isArray(n)||n.length&&"string"!=typeof n[0])throw new Error("join.encode input should be array of strings");for(let e of n)if("string"!=typeof e)throw new Error(`join.encode: non-string input=${e}`);return n.join(e)},decode:n=>{if("string"!=typeof n)throw new Error("join.decode input should be string");return n.split(e)}}}function Fn(e,n="="){if(jn(e),"string"!=typeof n)throw new Error("padding chr should be string");return{encode(t){if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("padding.encode input should be array of strings");for(let e of t)if("string"!=typeof e)throw new Error(`padding.encode: non-string input=${e}`);for(;t.length*e%8;)t.push(n);return t},decode(t){if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("padding.encode input should be array of strings");for(let e of t)if("string"!=typeof e)throw new Error(`padding.decode: non-string input=${e}`);let r=t.length;if(r*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;r>0&&t[r-1]===n;r--)if(!((r-1)*e%8))throw new Error("Invalid padding: string has too much padding");return t.slice(0,r)}}}function zn(e){if("function"!=typeof e)throw new Error("normalize fn should be function");return{encode:e=>e,decode:n=>e(n)}}function Vn(e,n,t){if(n<2)throw new Error(`convertRadix: wrong from=${n}, base cannot be less than 2`);if(t<2)throw new Error(`convertRadix: wrong to=${t}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let r=0;const o=[],i=Array.from(e);for(i.forEach((e=>{if(jn(e),e<0||e>=n)throw new Error(`Wrong integer: ${e}`)}));;){let e=0,s=!0;for(let o=r;o<i.length;o++){const a=i[o],c=n*e+a;if(!Number.isSafeInteger(c)||n*e/n!==e||c-a!=n*e)throw new Error("convertRadix: carry overflow");if(e=c%t,i[o]=Math.floor(c/t),!Number.isSafeInteger(i[o])||i[o]*t+e!==c)throw new Error("convertRadix: carry overflow");s&&(i[o]?s=!1:r=o)}if(o.push(e),s)break}for(let n=0;n<e.length-1&&0===e[n];n++)o.push(0);return o.reverse()}!function(e,n,t){if("function"!=typeof n)throw new Error("mapToCurve() must be defined")}(vn.ProjectivePoint,(e=>{const{x:n,y:t}=Dn(mn.create(e[0]));return Nn(n,t)}),{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:mn.ORDER,m:1,k:128,expand:"xmd",hash:de});const Gn=(e,n)=>n?Gn(n,e%n):e,Mn=(e,n)=>e+(n-Gn(e,n));function Wn(e,n,t,r){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(n<=0||n>32)throw new Error(`convertRadix2: wrong from=${n}`);if(t<=0||t>32)throw new Error(`convertRadix2: wrong to=${t}`);if(Mn(n,t)>32)throw new Error(`convertRadix2: carry overflow from=${n} to=${t} carryBits=${Mn(n,t)}`);let o=0,i=0;const s=2**t-1,a=[];for(const r of e){if(jn(r),r>=2**n)throw new Error(`convertRadix2: invalid data word=${r} from=${n}`);if(o=o<<n|r,i+n>32)throw new Error(`convertRadix2: carry overflow pos=${i} from=${n}`);for(i+=n;i>=t;i-=t)a.push((o>>i-t&s)>>>0);o&=2**i-1}if(o=o<<t-i&s,!r&&i>=n)throw new Error("Excess padding");if(!r&&o)throw new Error(`Non-zero padding: ${o}`);return r&&i>0&&a.push(o>>>0),a}function Zn(e,n=!1){if(jn(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(Mn(8,e)>32||Mn(e,8)>32)throw new Error("radix2: carry overflow");return{encode:t=>{if(!(t instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return Wn(Array.from(t),8,e,!n)},decode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(Wn(t,e,8,n))}}}function Yn(e){if("function"!=typeof e)throw new Error("unsafeWrapper fn should be function");return function(...n){try{return e.apply(null,n)}catch(e){}}}const Jn=Pn(Zn(4),qn("0123456789ABCDEF"),Kn("")),Xn=Pn(Zn(5),qn("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),Fn(5),Kn(""));Pn(Zn(5),qn("0123456789ABCDEFGHIJKLMNOPQRSTUV"),Fn(5),Kn("")),Pn(Zn(5),qn("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),Kn(""),zn((e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))));const Qn=Pn(Zn(6),qn("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),Fn(6),Kn("")),et=Pn(Zn(6),qn("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),Fn(6),Kn("")),nt=e=>{return Pn((jn(n=58),{encode:e=>{if(!(e instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return Vn(Array.from(e),256,n)},decode:e=>{if(!Array.isArray(e)||e.length&&"number"!=typeof e[0])throw new Error("radix.decode input should be array of strings");return Uint8Array.from(Vn(e,n,256))}}),qn(e),Kn(""));var n},tt=nt("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");nt("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),nt("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const rt=[0,2,3,5,6,7,9,10,11],ot={encode(e){let n="";for(let t=0;t<e.length;t+=8){const r=e.subarray(t,t+8);n+=tt.encode(r).padStart(rt[r.length],"1")}return n},decode(e){let n=[];for(let t=0;t<e.length;t+=11){const r=e.slice(t,t+11),o=rt.indexOf(r.length),i=tt.decode(r);for(let e=0;e<i.length-o;e++)if(0!==i[e])throw new Error("base58xmr: wrong padding");n=n.concat(Array.from(i.slice(i.length-o)))}return Uint8Array.from(n)}},it=Pn(qn("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),Kn("")),st=[996825010,642813549,513874426,1027748829,705979059];function at(e){const n=e>>25;let t=(33554431&e)<<5;for(let e=0;e<st.length;e++)1==(n>>e&1)&&(t^=st[e]);return t}function ct(e,n,t=1){const r=e.length;let o=1;for(let n=0;n<r;n++){const t=e.charCodeAt(n);if(t<33||t>126)throw new Error(`Invalid prefix (${e})`);o=at(o)^t>>5}o=at(o);for(let n=0;n<r;n++)o=at(o)^31&e.charCodeAt(n);for(let e of n)o=at(o)^e;for(let e=0;e<6;e++)o=at(o);return o^=t,it.encode(Wn([o%2**30],30,5,!1))}function lt(e){const n="bech32"===e?1:734539939,t=Zn(5),r=t.decode,o=t.encode,i=Yn(r);function s(e,t=90){if("string"!=typeof e)throw new Error("bech32.decode input should be string, not "+typeof e);if(e.length<8||!1!==t&&e.length>t)throw new TypeError(`Wrong string length: ${e.length} (${e}). Expected (8..${t})`);const r=e.toLowerCase();if(e!==r&&e!==e.toUpperCase())throw new Error("String must be lowercase or uppercase");const o=(e=r).lastIndexOf("1");if(0===o||-1===o)throw new Error('Letter "1" must be present between prefix and data only');const i=e.slice(0,o),s=e.slice(o+1);if(s.length<6)throw new Error("Data must be at least 6 characters long");const a=it.decode(s).slice(0,-6),c=ct(i,a,n);if(!s.endsWith(c))throw new Error(`Invalid checksum in ${e}: expected "${c}"`);return{prefix:i,words:a}}return{encode:function(e,t,r=90){if("string"!=typeof e)throw new Error("bech32.encode prefix should be string, not "+typeof e);if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("bech32.encode words should be array of numbers, not "+typeof t);const o=e.length+7+t.length;if(!1!==r&&o>r)throw new TypeError(`Length ${o} exceeds limit ${r}`);return`${e=e.toLowerCase()}1${it.encode(t)}${ct(e,t,n)}`},decode:s,decodeToBytes:function(e){const{prefix:n,words:t}=s(e,!1);return{prefix:n,words:t,bytes:r(t)}},decodeUnsafe:Yn(s),fromWords:r,fromWordsUnsafe:i,toWords:o}}const ut=lt("bech32");lt("bech32m");const dt={utf8:{encode:e=>(new TextDecoder).decode(e),decode:e=>(new TextEncoder).encode(e)},hex:Pn(Zn(4),qn("0123456789abcdef"),Kn(""),zn((e=>{if("string"!=typeof e||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()}))),base16:Jn,base32:Xn,base64:Qn,base64url:et,base58:tt,base58xmr:ot};Object.keys(dt).join(", ");var ft={};Object.defineProperty(ft,"__esModule",{value:!0});var ht=ft.wordlist=void 0;ht=ft.wordlist="abandon\nability\nable\nabout\nabove\nabsent\nabsorb\nabstract\nabsurd\nabuse\naccess\naccident\naccount\naccuse\nachieve\nacid\nacoustic\nacquire\nacross\nact\naction\nactor\nactress\nactual\nadapt\nadd\naddict\naddress\nadjust\nadmit\nadult\nadvance\nadvice\naerobic\naffair\nafford\nafraid\nagain\nage\nagent\nagree\nahead\naim\nair\nairport\naisle\nalarm\nalbum\nalcohol\nalert\nalien\nall\nalley\nallow\nalmost\nalone\nalpha\nalready\nalso\nalter\nalways\namateur\namazing\namong\namount\namused\nanalyst\nanchor\nancient\nanger\nangle\nangry\nanimal\nankle\nannounce\nannual\nanother\nanswer\nantenna\nantique\nanxiety\nany\napart\napology\nappear\napple\napprove\napril\narch\narctic\narea\narena\nargue\narm\narmed\narmor\narmy\naround\narrange\narrest\narrive\narrow\nart\nartefact\nartist\nartwork\nask\naspect\nassault\nasset\nassist\nassume\nasthma\nathlete\natom\nattack\nattend\nattitude\nattract\nauction\naudit\naugust\naunt\nauthor\nauto\nautumn\naverage\navocado\navoid\nawake\naware\naway\nawesome\nawful\nawkward\naxis\nbaby\nbachelor\nbacon\nbadge\nbag\nbalance\nbalcony\nball\nbamboo\nbanana\nbanner\nbar\nbarely\nbargain\nbarrel\nbase\nbasic\nbasket\nbattle\nbeach\nbean\nbeauty\nbecause\nbecome\nbeef\nbefore\nbegin\nbehave\nbehind\nbelieve\nbelow\nbelt\nbench\nbenefit\nbest\nbetray\nbetter\nbetween\nbeyond\nbicycle\nbid\nbike\nbind\nbiology\nbird\nbirth\nbitter\nblack\nblade\nblame\nblanket\nblast\nbleak\nbless\nblind\nblood\nblossom\nblouse\nblue\nblur\nblush\nboard\nboat\nbody\nboil\nbomb\nbone\nbonus\nbook\nboost\nborder\nboring\nborrow\nboss\nbottom\nbounce\nbox\nboy\nbracket\nbrain\nbrand\nbrass\nbrave\nbread\nbreeze\nbrick\nbridge\nbrief\nbright\nbring\nbrisk\nbroccoli\nbroken\nbronze\nbroom\nbrother\nbrown\nbrush\nbubble\nbuddy\nbudget\nbuffalo\nbuild\nbulb\nbulk\nbullet\nbundle\nbunker\nburden\nburger\nburst\nbus\nbusiness\nbusy\nbutter\nbuyer\nbuzz\ncabbage\ncabin\ncable\ncactus\ncage\ncake\ncall\ncalm\ncamera\ncamp\ncan\ncanal\ncancel\ncandy\ncannon\ncanoe\ncanvas\ncanyon\ncapable\ncapital\ncaptain\ncar\ncarbon\ncard\ncargo\ncarpet\ncarry\ncart\ncase\ncash\ncasino\ncastle\ncasual\ncat\ncatalog\ncatch\ncategory\ncattle\ncaught\ncause\ncaution\ncave\nceiling\ncelery\ncement\ncensus\ncentury\ncereal\ncertain\nchair\nchalk\nchampion\nchange\nchaos\nchapter\ncharge\nchase\nchat\ncheap\ncheck\ncheese\nchef\ncherry\nchest\nchicken\nchief\nchild\nchimney\nchoice\nchoose\nchronic\nchuckle\nchunk\nchurn\ncigar\ncinnamon\ncircle\ncitizen\ncity\ncivil\nclaim\nclap\nclarify\nclaw\nclay\nclean\nclerk\nclever\nclick\nclient\ncliff\nclimb\nclinic\nclip\nclock\nclog\nclose\ncloth\ncloud\nclown\nclub\nclump\ncluster\nclutch\ncoach\ncoast\ncoconut\ncode\ncoffee\ncoil\ncoin\ncollect\ncolor\ncolumn\ncombine\ncome\ncomfort\ncomic\ncommon\ncompany\nconcert\nconduct\nconfirm\ncongress\nconnect\nconsider\ncontrol\nconvince\ncook\ncool\ncopper\ncopy\ncoral\ncore\ncorn\ncorrect\ncost\ncotton\ncouch\ncountry\ncouple\ncourse\ncousin\ncover\ncoyote\ncrack\ncradle\ncraft\ncram\ncrane\ncrash\ncrater\ncrawl\ncrazy\ncream\ncredit\ncreek\ncrew\ncricket\ncrime\ncrisp\ncritic\ncrop\ncross\ncrouch\ncrowd\ncrucial\ncruel\ncruise\ncrumble\ncrunch\ncrush\ncry\ncrystal\ncube\nculture\ncup\ncupboard\ncurious\ncurrent\ncurtain\ncurve\ncushion\ncustom\ncute\ncycle\ndad\ndamage\ndamp\ndance\ndanger\ndaring\ndash\ndaughter\ndawn\nday\ndeal\ndebate\ndebris\ndecade\ndecember\ndecide\ndecline\ndecorate\ndecrease\ndeer\ndefense\ndefine\ndefy\ndegree\ndelay\ndeliver\ndemand\ndemise\ndenial\ndentist\ndeny\ndepart\ndepend\ndeposit\ndepth\ndeputy\nderive\ndescribe\ndesert\ndesign\ndesk\ndespair\ndestroy\ndetail\ndetect\ndevelop\ndevice\ndevote\ndiagram\ndial\ndiamond\ndiary\ndice\ndiesel\ndiet\ndiffer\ndigital\ndignity\ndilemma\ndinner\ndinosaur\ndirect\ndirt\ndisagree\ndiscover\ndisease\ndish\ndismiss\ndisorder\ndisplay\ndistance\ndivert\ndivide\ndivorce\ndizzy\ndoctor\ndocument\ndog\ndoll\ndolphin\ndomain\ndonate\ndonkey\ndonor\ndoor\ndose\ndouble\ndove\ndraft\ndragon\ndrama\ndrastic\ndraw\ndream\ndress\ndrift\ndrill\ndrink\ndrip\ndrive\ndrop\ndrum\ndry\nduck\ndumb\ndune\nduring\ndust\ndutch\nduty\ndwarf\ndynamic\neager\neagle\nearly\nearn\nearth\neasily\neast\neasy\necho\necology\neconomy\nedge\nedit\neducate\neffort\negg\neight\neither\nelbow\nelder\nelectric\nelegant\nelement\nelephant\nelevator\nelite\nelse\nembark\nembody\nembrace\nemerge\nemotion\nemploy\nempower\nempty\nenable\nenact\nend\nendless\nendorse\nenemy\nenergy\nenforce\nengage\nengine\nenhance\nenjoy\nenlist\nenough\nenrich\nenroll\nensure\nenter\nentire\nentry\nenvelope\nepisode\nequal\nequip\nera\nerase\nerode\nerosion\nerror\nerupt\nescape\nessay\nessence\nestate\neternal\nethics\nevidence\nevil\nevoke\nevolve\nexact\nexample\nexcess\nexchange\nexcite\nexclude\nexcuse\nexecute\nexercise\nexhaust\nexhibit\nexile\nexist\nexit\nexotic\nexpand\nexpect\nexpire\nexplain\nexpose\nexpress\nextend\nextra\neye\neyebrow\nfabric\nface\nfaculty\nfade\nfaint\nfaith\nfall\nfalse\nfame\nfamily\nfamous\nfan\nfancy\nfantasy\nfarm\nfashion\nfat\nfatal\nfather\nfatigue\nfault\nfavorite\nfeature\nfebruary\nfederal\nfee\nfeed\nfeel\nfemale\nfence\nfestival\nfetch\nfever\nfew\nfiber\nfiction\nfield\nfigure\nfile\nfilm\nfilter\nfinal\nfind\nfine\nfinger\nfinish\nfire\nfirm\nfirst\nfiscal\nfish\nfit\nfitness\nfix\nflag\nflame\nflash\nflat\nflavor\nflee\nflight\nflip\nfloat\nflock\nfloor\nflower\nfluid\nflush\nfly\nfoam\nfocus\nfog\nfoil\nfold\nfollow\nfood\nfoot\nforce\nforest\nforget\nfork\nfortune\nforum\nforward\nfossil\nfoster\nfound\nfox\nfragile\nframe\nfrequent\nfresh\nfriend\nfringe\nfrog\nfront\nfrost\nfrown\nfrozen\nfruit\nfuel\nfun\nfunny\nfurnace\nfury\nfuture\ngadget\ngain\ngalaxy\ngallery\ngame\ngap\ngarage\ngarbage\ngarden\ngarlic\ngarment\ngas\ngasp\ngate\ngather\ngauge\ngaze\ngeneral\ngenius\ngenre\ngentle\ngenuine\ngesture\nghost\ngiant\ngift\ngiggle\nginger\ngiraffe\ngirl\ngive\nglad\nglance\nglare\nglass\nglide\nglimpse\nglobe\ngloom\nglory\nglove\nglow\nglue\ngoat\ngoddess\ngold\ngood\ngoose\ngorilla\ngospel\ngossip\ngovern\ngown\ngrab\ngrace\ngrain\ngrant\ngrape\ngrass\ngravity\ngreat\ngreen\ngrid\ngrief\ngrit\ngrocery\ngroup\ngrow\ngrunt\nguard\nguess\nguide\nguilt\nguitar\ngun\ngym\nhabit\nhair\nhalf\nhammer\nhamster\nhand\nhappy\nharbor\nhard\nharsh\nharvest\nhat\nhave\nhawk\nhazard\nhead\nhealth\nheart\nheavy\nhedgehog\nheight\nhello\nhelmet\nhelp\nhen\nhero\nhidden\nhigh\nhill\nhint\nhip\nhire\nhistory\nhobby\nhockey\nhold\nhole\nholiday\nhollow\nhome\nhoney\nhood\nhope\nhorn\nhorror\nhorse\nhospital\nhost\nhotel\nhour\nhover\nhub\nhuge\nhuman\nhumble\nhumor\nhundred\nhungry\nhunt\nhurdle\nhurry\nhurt\nhusband\nhybrid\nice\nicon\nidea\nidentify\nidle\nignore\nill\nillegal\nillness\nimage\nimitate\nimmense\nimmune\nimpact\nimpose\nimprove\nimpulse\ninch\ninclude\nincome\nincrease\nindex\nindicate\nindoor\nindustry\ninfant\ninflict\ninform\ninhale\ninherit\ninitial\ninject\ninjury\ninmate\ninner\ninnocent\ninput\ninquiry\ninsane\ninsect\ninside\ninspire\ninstall\nintact\ninterest\ninto\ninvest\ninvite\ninvolve\niron\nisland\nisolate\nissue\nitem\nivory\njacket\njaguar\njar\njazz\njealous\njeans\njelly\njewel\njob\njoin\njoke\njourney\njoy\njudge\njuice\njump\njungle\njunior\njunk\njust\nkangaroo\nkeen\nkeep\nketchup\nkey\nkick\nkid\nkidney\nkind\nkingdom\nkiss\nkit\nkitchen\nkite\nkitten\nkiwi\nknee\nknife\nknock\nknow\nlab\nlabel\nlabor\nladder\nlady\nlake\nlamp\nlanguage\nlaptop\nlarge\nlater\nlatin\nlaugh\nlaundry\nlava\nlaw\nlawn\nlawsuit\nlayer\nlazy\nleader\nleaf\nlearn\nleave\nlecture\nleft\nleg\nlegal\nlegend\nleisure\nlemon\nlend\nlength\nlens\nleopard\nlesson\nletter\nlevel\nliar\nliberty\nlibrary\nlicense\nlife\nlift\nlight\nlike\nlimb\nlimit\nlink\nlion\nliquid\nlist\nlittle\nlive\nlizard\nload\nloan\nlobster\nlocal\nlock\nlogic\nlonely\nlong\nloop\nlottery\nloud\nlounge\nlove\nloyal\nlucky\nluggage\nlumber\nlunar\nlunch\nluxury\nlyrics\nmachine\nmad\nmagic\nmagnet\nmaid\nmail\nmain\nmajor\nmake\nmammal\nman\nmanage\nmandate\nmango\nmansion\nmanual\nmaple\nmarble\nmarch\nmargin\nmarine\nmarket\nmarriage\nmask\nmass\nmaster\nmatch\nmaterial\nmath\nmatrix\nmatter\nmaximum\nmaze\nmeadow\nmean\nmeasure\nmeat\nmechanic\nmedal\nmedia\nmelody\nmelt\nmember\nmemory\nmention\nmenu\nmercy\nmerge\nmerit\nmerry\nmesh\nmessage\nmetal\nmethod\nmiddle\nmidnight\nmilk\nmillion\nmimic\nmind\nminimum\nminor\nminute\nmiracle\nmirror\nmisery\nmiss\nmistake\nmix\nmixed\nmixture\nmobile\nmodel\nmodify\nmom\nmoment\nmonitor\nmonkey\nmonster\nmonth\nmoon\nmoral\nmore\nmorning\nmosquito\nmother\nmotion\nmotor\nmountain\nmouse\nmove\nmovie\nmuch\nmuffin\nmule\nmultiply\nmuscle\nmuseum\nmushroom\nmusic\nmust\nmutual\nmyself\nmystery\nmyth\nnaive\nname\nnapkin\nnarrow\nnasty\nnation\nnature\nnear\nneck\nneed\nnegative\nneglect\nneither\nnephew\nnerve\nnest\nnet\nnetwork\nneutral\nnever\nnews\nnext\nnice\nnight\nnoble\nnoise\nnominee\nnoodle\nnormal\nnorth\nnose\nnotable\nnote\nnothing\nnotice\nnovel\nnow\nnuclear\nnumber\nnurse\nnut\noak\nobey\nobject\noblige\nobscure\nobserve\nobtain\nobvious\noccur\nocean\noctober\nodor\noff\noffer\noffice\noften\noil\nokay\nold\nolive\nolympic\nomit\nonce\none\nonion\nonline\nonly\nopen\nopera\nopinion\noppose\noption\norange\norbit\norchard\norder\nordinary\norgan\norient\noriginal\norphan\nostrich\nother\noutdoor\nouter\noutput\noutside\noval\noven\nover\nown\nowner\noxygen\noyster\nozone\npact\npaddle\npage\npair\npalace\npalm\npanda\npanel\npanic\npanther\npaper\nparade\nparent\npark\nparrot\nparty\npass\npatch\npath\npatient\npatrol\npattern\npause\npave\npayment\npeace\npeanut\npear\npeasant\npelican\npen\npenalty\npencil\npeople\npepper\nperfect\npermit\nperson\npet\nphone\nphoto\nphrase\nphysical\npiano\npicnic\npicture\npiece\npig\npigeon\npill\npilot\npink\npioneer\npipe\npistol\npitch\npizza\nplace\nplanet\nplastic\nplate\nplay\nplease\npledge\npluck\nplug\nplunge\npoem\npoet\npoint\npolar\npole\npolice\npond\npony\npool\npopular\nportion\nposition\npossible\npost\npotato\npottery\npoverty\npowder\npower\npractice\npraise\npredict\nprefer\nprepare\npresent\npretty\nprevent\nprice\npride\nprimary\nprint\npriority\nprison\nprivate\nprize\nproblem\nprocess\nproduce\nprofit\nprogram\nproject\npromote\nproof\nproperty\nprosper\nprotect\nproud\nprovide\npublic\npudding\npull\npulp\npulse\npumpkin\npunch\npupil\npuppy\npurchase\npurity\npurpose\npurse\npush\nput\npuzzle\npyramid\nquality\nquantum\nquarter\nquestion\nquick\nquit\nquiz\nquote\nrabbit\nraccoon\nrace\nrack\nradar\nradio\nrail\nrain\nraise\nrally\nramp\nranch\nrandom\nrange\nrapid\nrare\nrate\nrather\nraven\nraw\nrazor\nready\nreal\nreason\nrebel\nrebuild\nrecall\nreceive\nrecipe\nrecord\nrecycle\nreduce\nreflect\nreform\nrefuse\nregion\nregret\nregular\nreject\nrelax\nrelease\nrelief\nrely\nremain\nremember\nremind\nremove\nrender\nrenew\nrent\nreopen\nrepair\nrepeat\nreplace\nreport\nrequire\nrescue\nresemble\nresist\nresource\nresponse\nresult\nretire\nretreat\nreturn\nreunion\nreveal\nreview\nreward\nrhythm\nrib\nribbon\nrice\nrich\nride\nridge\nrifle\nright\nrigid\nring\nriot\nripple\nrisk\nritual\nrival\nriver\nroad\nroast\nrobot\nrobust\nrocket\nromance\nroof\nrookie\nroom\nrose\nrotate\nrough\nround\nroute\nroyal\nrubber\nrude\nrug\nrule\nrun\nrunway\nrural\nsad\nsaddle\nsadness\nsafe\nsail\nsalad\nsalmon\nsalon\nsalt\nsalute\nsame\nsample\nsand\nsatisfy\nsatoshi\nsauce\nsausage\nsave\nsay\nscale\nscan\nscare\nscatter\nscene\nscheme\nschool\nscience\nscissors\nscorpion\nscout\nscrap\nscreen\nscript\nscrub\nsea\nsearch\nseason\nseat\nsecond\nsecret\nsection\nsecurity\nseed\nseek\nsegment\nselect\nsell\nseminar\nsenior\nsense\nsentence\nseries\nservice\nsession\nsettle\nsetup\nseven\nshadow\nshaft\nshallow\nshare\nshed\nshell\nsheriff\nshield\nshift\nshine\nship\nshiver\nshock\nshoe\nshoot\nshop\nshort\nshoulder\nshove\nshrimp\nshrug\nshuffle\nshy\nsibling\nsick\nside\nsiege\nsight\nsign\nsilent\nsilk\nsilly\nsilver\nsimilar\nsimple\nsince\nsing\nsiren\nsister\nsituate\nsix\nsize\nskate\nsketch\nski\nskill\nskin\nskirt\nskull\nslab\nslam\nsleep\nslender\nslice\nslide\nslight\nslim\nslogan\nslot\nslow\nslush\nsmall\nsmart\nsmile\nsmoke\nsmooth\nsnack\nsnake\nsnap\nsniff\nsnow\nsoap\nsoccer\nsocial\nsock\nsoda\nsoft\nsolar\nsoldier\nsolid\nsolution\nsolve\nsomeone\nsong\nsoon\nsorry\nsort\nsoul\nsound\nsoup\nsource\nsouth\nspace\nspare\nspatial\nspawn\nspeak\nspecial\nspeed\nspell\nspend\nsphere\nspice\nspider\nspike\nspin\nspirit\nsplit\nspoil\nsponsor\nspoon\nsport\nspot\nspray\nspread\nspring\nspy\nsquare\nsqueeze\nsquirrel\nstable\nstadium\nstaff\nstage\nstairs\nstamp\nstand\nstart\nstate\nstay\nsteak\nsteel\nstem\nstep\nstereo\nstick\nstill\nsting\nstock\nstomach\nstone\nstool\nstory\nstove\nstrategy\nstreet\nstrike\nstrong\nstruggle\nstudent\nstuff\nstumble\nstyle\nsubject\nsubmit\nsubway\nsuccess\nsuch\nsudden\nsuffer\nsugar\nsuggest\nsuit\nsummer\nsun\nsunny\nsunset\nsuper\nsupply\nsupreme\nsure\nsurface\nsurge\nsurprise\nsurround\nsurvey\nsuspect\nsustain\nswallow\nswamp\nswap\nswarm\nswear\nsweet\nswift\nswim\nswing\nswitch\nsword\nsymbol\nsymptom\nsyrup\nsystem\ntable\ntackle\ntag\ntail\ntalent\ntalk\ntank\ntape\ntarget\ntask\ntaste\ntattoo\ntaxi\nteach\nteam\ntell\nten\ntenant\ntennis\ntent\nterm\ntest\ntext\nthank\nthat\ntheme\nthen\ntheory\nthere\nthey\nthing\nthis\nthought\nthree\nthrive\nthrow\nthumb\nthunder\nticket\ntide\ntiger\ntilt\ntimber\ntime\ntiny\ntip\ntired\ntissue\ntitle\ntoast\ntobacco\ntoday\ntoddler\ntoe\ntogether\ntoilet\ntoken\ntomato\ntomorrow\ntone\ntongue\ntonight\ntool\ntooth\ntop\ntopic\ntopple\ntorch\ntornado\ntortoise\ntoss\ntotal\ntourist\ntoward\ntower\ntown\ntoy\ntrack\ntrade\ntraffic\ntragic\ntrain\ntransfer\ntrap\ntrash\ntravel\ntray\ntreat\ntree\ntrend\ntrial\ntribe\ntrick\ntrigger\ntrim\ntrip\ntrophy\ntrouble\ntruck\ntrue\ntruly\ntrumpet\ntrust\ntruth\ntry\ntube\ntuition\ntumble\ntuna\ntunnel\nturkey\nturn\nturtle\ntwelve\ntwenty\ntwice\ntwin\ntwist\ntwo\ntype\ntypical\nugly\numbrella\nunable\nunaware\nuncle\nuncover\nunder\nundo\nunfair\nunfold\nunhappy\nuniform\nunique\nunit\nuniverse\nunknown\nunlock\nuntil\nunusual\nunveil\nupdate\nupgrade\nuphold\nupon\nupper\nupset\nurban\nurge\nusage\nuse\nused\nuseful\nuseless\nusual\nutility\nvacant\nvacuum\nvague\nvalid\nvalley\nvalve\nvan\nvanish\nvapor\nvarious\nvast\nvault\nvehicle\nvelvet\nvendor\nventure\nvenue\nverb\nverify\nversion\nvery\nvessel\nveteran\nviable\nvibrant\nvicious\nvictory\nvideo\nview\nvillage\nvintage\nviolin\nvirtual\nvirus\nvisa\nvisit\nvisual\nvital\nvivid\nvocal\nvoice\nvoid\nvolcano\nvolume\nvote\nvoyage\nwage\nwagon\nwait\nwalk\nwall\nwalnut\nwant\nwarfare\nwarm\nwarrior\nwash\nwasp\nwaste\nwater\nwave\nway\nwealth\nweapon\nwear\nweasel\nweather\nweb\nwedding\nweekend\nweird\nwelcome\nwest\nwet\nwhale\nwhat\nwheat\nwheel\nwhen\nwhere\nwhip\nwhisper\nwide\nwidth\nwife\nwild\nwill\nwin\nwindow\nwine\nwing\nwink\nwinner\nwinter\nwire\nwisdom\nwise\nwish\nwitness\nwolf\nwoman\nwonder\nwood\nwool\nword\nwork\nworld\nworry\nworth\nwrap\nwreck\nwrestle\nwrist\nwrite\nwrong\nyard\nyear\nyellow\nyou\nyoung\nyouth\nzebra\nzero\nzone\nzoo".split("\n");var pt={},yt={};function gt(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function bt(e){if("boolean"!=typeof e)throw new Error(`Expected boolean, not ${e}`)}function wt(e,...n){if(!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(n.length>0&&!n.includes(e.length))throw new TypeError(`Expected Uint8Array of length ${n}, not of length=${e.length}`)}function mt(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");gt(e.outputLen),gt(e.blockLen)}function vt(e,n=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(n&&e.finished)throw new Error("Hash#digest() has already been called")}function xt(e,n){wt(e);const t=n.outputLen;if(e.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}Object.defineProperty(yt,"__esModule",{value:!0}),yt.output=yt.exists=yt.hash=yt.bytes=yt.bool=yt.number=void 0,yt.number=gt,yt.bool=bt,yt.bytes=wt,yt.hash=mt,yt.exists=vt,yt.output=xt;const Et={number:gt,bool:bt,bytes:wt,hash:mt,exists:vt,output:xt};yt.default=Et;var kt={},At={},Bt={},St={};Object.defineProperty(St,"__esModule",{value:!0}),St.crypto=void 0,St.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,function(e){
/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */
Object.defineProperty(e,"__esModule",{value:!0}),e.randomBytes=e.wrapConstructorWithOpts=e.wrapConstructor=e.checkOpts=e.Hash=e.concatBytes=e.toBytes=e.utf8ToBytes=e.asyncLoop=e.nextTick=e.hexToBytes=e.bytesToHex=e.isLE=e.rotr=e.createView=e.u32=e.u8=void 0;const n=St;e.u8=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength);e.u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));e.createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);if(e.rotr=(e,n)=>e<<32-n|e>>>n,e.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!e.isLE)throw new Error("Non little-endian hardware is not supported");const t=Array.from({length:256},((e,n)=>n.toString(16).padStart(2,"0")));e.bytesToHex=function(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let n="";for(let r=0;r<e.length;r++)n+=t[e[r]];return n},e.hexToBytes=function(e){if("string"!=typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const n=new Uint8Array(e.length/2);for(let t=0;t<n.length;t++){const r=2*t,o=e.slice(r,r+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");n[t]=i}return n};function r(e){if("string"!=typeof e)throw new TypeError("utf8ToBytes expected string, got "+typeof e);return(new TextEncoder).encode(e)}function o(e){if("string"==typeof e&&(e=r(e)),!(e instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof e})`);return e}e.nextTick=async()=>{},e.asyncLoop=async function(n,t,r){let o=Date.now();for(let i=0;i<n;i++){r(i);const n=Date.now()-o;n>=0&&n<t||(await(0,e.nextTick)(),o+=n)}},e.utf8ToBytes=r,e.toBytes=o,e.concatBytes=function(...e){if(!e.every((e=>e instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===e.length)return e[0];const n=e.reduce(((e,n)=>e+n.length),0),t=new Uint8Array(n);for(let n=0,r=0;n<e.length;n++){const o=e[n];t.set(o,r),r+=o.length}return t};e.Hash=class{clone(){return this._cloneInto()}};e.checkOpts=function(e,n){if(void 0!==n&&("object"!=typeof n||(t=n,"[object Object]"!==Object.prototype.toString.call(t)||t.constructor!==Object)))throw new TypeError("Options should be object or undefined");var t;return Object.assign(e,n)},e.wrapConstructor=function(e){const n=n=>e().update(o(n)).digest(),t=e();return n.outputLen=t.outputLen,n.blockLen=t.blockLen,n.create=()=>e(),n},e.wrapConstructorWithOpts=function(e){const n=(n,t)=>e(t).update(o(n)).digest(),t=e({});return n.outputLen=t.outputLen,n.blockLen=t.blockLen,n.create=n=>e(n),n},e.randomBytes=function(e=32){if(n.crypto&&"function"==typeof n.crypto.getRandomValues)return n.crypto.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}}(Bt),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.hmac=void 0;const n=yt,t=Bt;class r extends t.Hash{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,n.default.hash(e);const o=(0,t.toBytes)(r);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(o.length>i?e.create().update(o).digest():o);for(let e=0;e<s.length;e++)s[e]^=54;this.iHash.update(s),this.oHash=e.create();for(let e=0;e<s.length;e++)s[e]^=106;this.oHash.update(s),s.fill(0)}update(e){return n.default.exists(this),this.iHash.update(e),this}digestInto(e){n.default.exists(this),n.default.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:t,finished:r,destroyed:o,blockLen:i,outputLen:s}=this;return e.finished=r,e.destroyed=o,e.blockLen=i,e.outputLen=s,e.oHash=n._cloneInto(e.oHash),e.iHash=t._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}e.hmac=(e,n,t)=>new r(e,n).update(t).digest(),e.hmac.create=(e,n)=>new r(e,n)}(At),Object.defineProperty(kt,"__esModule",{value:!0}),kt.pbkdf2Async=kt.pbkdf2=void 0;const _t=yt,Ht=At,Lt=Bt;function $t(e,n,t,r){_t.default.hash(e);const o=(0,Lt.checkOpts)({dkLen:32,asyncTick:10},r),{c:i,dkLen:s,asyncTick:a}=o;if(_t.default.number(i),_t.default.number(s),_t.default.number(a),i<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const c=(0,Lt.toBytes)(n),l=(0,Lt.toBytes)(t),u=new Uint8Array(s),d=Ht.hmac.create(e,c),f=d._cloneInto().update(l);return{c:i,dkLen:s,asyncTick:a,DK:u,PRF:d,PRFSalt:f}}function It(e,n,t,r,o){return e.destroy(),n.destroy(),r&&r.destroy(),o.fill(0),t}kt.pbkdf2=function(e,n,t,r){const{c:o,dkLen:i,DK:s,PRF:a,PRFSalt:c}=$t(e,n,t,r);let l;const u=new Uint8Array(4),d=(0,Lt.createView)(u),f=new Uint8Array(a.outputLen);for(let e=1,n=0;n<i;e++,n+=a.outputLen){const t=s.subarray(n,n+a.outputLen);d.setInt32(0,e,!1),(l=c._cloneInto(l)).update(u).digestInto(f),t.set(f.subarray(0,t.length));for(let e=1;e<o;e++){a._cloneInto(l).update(f).digestInto(f);for(let e=0;e<t.length;e++)t[e]^=f[e]}}return It(a,c,s,l,f)},kt.pbkdf2Async=async function(e,n,t,r){const{c:o,dkLen:i,asyncTick:s,DK:a,PRF:c,PRFSalt:l}=$t(e,n,t,r);let u;const d=new Uint8Array(4),f=(0,Lt.createView)(d),h=new Uint8Array(c.outputLen);for(let e=1,n=0;n<i;e++,n+=c.outputLen){const t=a.subarray(n,n+c.outputLen);f.setInt32(0,e,!1),(u=l._cloneInto(u)).update(d).digestInto(h),t.set(h.subarray(0,t.length)),await(0,Lt.asyncLoop)(o-1,s,(e=>{c._cloneInto(u).update(h).digestInto(h);for(let e=0;e<t.length;e++)t[e]^=h[e]}))}return It(c,l,a,u,h)};var Tt={},Ut={};Object.defineProperty(Ut,"__esModule",{value:!0}),Ut.SHA2=void 0;const Ot=yt,Ct=Bt;Ut.SHA2=class extends Ct.Hash{constructor(e,n,t,r){super(),this.blockLen=e,this.outputLen=n,this.padOffset=t,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,Ct.createView)(this.buffer)}update(e){Ot.default.exists(this);const{view:n,buffer:t,blockLen:r}=this,o=(e=(0,Ct.toBytes)(e)).length;for(let i=0;i<o;){const s=Math.min(r-this.pos,o-i);if(s!==r)t.set(e.subarray(i,i+s),this.pos),this.pos+=s,i+=s,this.pos===r&&(this.process(n,0),this.pos=0);else{const n=(0,Ct.createView)(e);for(;r<=o-i;i+=r)this.process(n,i)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){Ot.default.exists(this),Ot.default.output(e,this),this.finished=!0;const{buffer:n,view:t,blockLen:r,isLE:o}=this;let{pos:i}=this;n[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>r-i&&(this.process(t,0),i=0);for(let e=i;e<r;e++)n[e]=0;!function(e,n,t,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(n,t,r);const o=BigInt(32),i=BigInt(4294967295),s=Number(t>>o&i),a=Number(t&i),c=r?4:0,l=r?0:4;e.setUint32(n+c,s,r),e.setUint32(n+l,a,r)}(t,r-8,BigInt(8*this.length),o),this.process(t,0);const s=(0,Ct.createView)(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=a/4,l=this.get();if(c>l.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<c;e++)s.setUint32(4*e,l[e],o)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const t=e.slice(0,n);return this.destroy(),t}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:t,length:r,finished:o,destroyed:i,pos:s}=this;return e.length=r,e.pos=s,e.finished=o,e.destroyed=i,r%n&&e.buffer.set(t),e}},Object.defineProperty(Tt,"__esModule",{value:!0}),Tt.sha224=Tt.sha256=void 0;const Rt=Ut,Nt=Bt,Dt=(e,n,t)=>e&n^e&t^n&t,jt=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Pt=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),qt=new Uint32Array(64);class Kt extends Rt.SHA2{constructor(){super(64,32,8,!1),this.A=0|Pt[0],this.B=0|Pt[1],this.C=0|Pt[2],this.D=0|Pt[3],this.E=0|Pt[4],this.F=0|Pt[5],this.G=0|Pt[6],this.H=0|Pt[7]}get(){const{A:e,B:n,C:t,D:r,E:o,F:i,G:s,H:a}=this;return[e,n,t,r,o,i,s,a]}set(e,n,t,r,o,i,s,a){this.A=0|e,this.B=0|n,this.C=0|t,this.D=0|r,this.E=0|o,this.F=0|i,this.G=0|s,this.H=0|a}process(e,n){for(let t=0;t<16;t++,n+=4)qt[t]=e.getUint32(n,!1);for(let e=16;e<64;e++){const n=qt[e-15],t=qt[e-2],r=(0,Nt.rotr)(n,7)^(0,Nt.rotr)(n,18)^n>>>3,o=(0,Nt.rotr)(t,17)^(0,Nt.rotr)(t,19)^t>>>10;qt[e]=o+qt[e-7]+r+qt[e-16]|0}let{A:t,B:r,C:o,D:i,E:s,F:a,G:c,H:l}=this;for(let e=0;e<64;e++){const n=l+((0,Nt.rotr)(s,6)^(0,Nt.rotr)(s,11)^(0,Nt.rotr)(s,25))+((u=s)&a^~u&c)+jt[e]+qt[e]|0,d=((0,Nt.rotr)(t,2)^(0,Nt.rotr)(t,13)^(0,Nt.rotr)(t,22))+Dt(t,r,o)|0;l=c,c=a,a=s,s=i+n|0,i=o,o=r,r=t,t=n+d|0}var u;t=t+this.A|0,r=r+this.B|0,o=o+this.C|0,i=i+this.D|0,s=s+this.E|0,a=a+this.F|0,c=c+this.G|0,l=l+this.H|0,this.set(t,r,o,i,s,a,c,l)}roundClean(){qt.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class Ft extends Kt{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}Tt.sha256=(0,Nt.wrapConstructor)((()=>new Kt)),Tt.sha224=(0,Nt.wrapConstructor)((()=>new Ft));var zt={},Vt={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.add=e.toBig=e.split=e.fromBig=void 0;const n=BigInt(2**32-1),t=BigInt(32);function r(e,r=!1){return r?{h:Number(e&n),l:Number(e>>t&n)}:{h:0|Number(e>>t&n),l:0|Number(e&n)}}function o(e,n=!1){let t=new Uint32Array(e.length),o=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:a}=r(e[i],n);[t[i],o[i]]=[s,a]}return[t,o]}e.fromBig=r,e.split=o;e.toBig=(e,n)=>BigInt(e>>>0)<<t|BigInt(n>>>0);function i(e,n,t,r){const o=(n>>>0)+(r>>>0);return{h:e+t+(o/2**32|0)|0,l:0|o}}e.add=i;const s={fromBig:r,split:o,toBig:e.toBig,shrSH:(e,n,t)=>e>>>t,shrSL:(e,n,t)=>e<<32-t|n>>>t,rotrSH:(e,n,t)=>e>>>t|n<<32-t,rotrSL:(e,n,t)=>e<<32-t|n>>>t,rotrBH:(e,n,t)=>e<<64-t|n>>>t-32,rotrBL:(e,n,t)=>e>>>t-32|n<<64-t,rotr32H:(e,n)=>n,rotr32L:(e,n)=>e,rotlSH:(e,n,t)=>e<<t|n>>>32-t,rotlSL:(e,n,t)=>n<<t|e>>>32-t,rotlBH:(e,n,t)=>n<<t-32|e>>>64-t,rotlBL:(e,n,t)=>e<<t-32|n>>>64-t,add:i,add3L:(e,n,t)=>(e>>>0)+(n>>>0)+(t>>>0),add3H:(e,n,t,r)=>n+t+r+(e/2**32|0)|0,add4L:(e,n,t,r)=>(e>>>0)+(n>>>0)+(t>>>0)+(r>>>0),add4H:(e,n,t,r,o)=>n+t+r+o+(e/2**32|0)|0,add5H:(e,n,t,r,o,i)=>n+t+r+o+i+(e/2**32|0)|0,add5L:(e,n,t,r,o)=>(e>>>0)+(n>>>0)+(t>>>0)+(r>>>0)+(o>>>0)};e.default=s}(Vt),Object.defineProperty(zt,"__esModule",{value:!0}),zt.sha384=zt.sha512_256=zt.sha512_224=zt.sha512=zt.SHA512=void 0;const Gt=Ut,Mt=Vt,Wt=Bt,[Zt,Yt]=Mt.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))),Jt=new Uint32Array(80),Xt=new Uint32Array(80);let Qt=class extends Gt.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:t,Bl:r,Ch:o,Cl:i,Dh:s,Dl:a,Eh:c,El:l,Fh:u,Fl:d,Gh:f,Gl:h,Hh:p,Hl:y}=this;return[e,n,t,r,o,i,s,a,c,l,u,d,f,h,p,y]}set(e,n,t,r,o,i,s,a,c,l,u,d,f,h,p,y){this.Ah=0|e,this.Al=0|n,this.Bh=0|t,this.Bl=0|r,this.Ch=0|o,this.Cl=0|i,this.Dh=0|s,this.Dl=0|a,this.Eh=0|c,this.El=0|l,this.Fh=0|u,this.Fl=0|d,this.Gh=0|f,this.Gl=0|h,this.Hh=0|p,this.Hl=0|y}process(e,n){for(let t=0;t<16;t++,n+=4)Jt[t]=e.getUint32(n),Xt[t]=e.getUint32(n+=4);for(let e=16;e<80;e++){const n=0|Jt[e-15],t=0|Xt[e-15],r=Mt.default.rotrSH(n,t,1)^Mt.default.rotrSH(n,t,8)^Mt.default.shrSH(n,t,7),o=Mt.default.rotrSL(n,t,1)^Mt.default.rotrSL(n,t,8)^Mt.default.shrSL(n,t,7),i=0|Jt[e-2],s=0|Xt[e-2],a=Mt.default.rotrSH(i,s,19)^Mt.default.rotrBH(i,s,61)^Mt.default.shrSH(i,s,6),c=Mt.default.rotrSL(i,s,19)^Mt.default.rotrBL(i,s,61)^Mt.default.shrSL(i,s,6),l=Mt.default.add4L(o,c,Xt[e-7],Xt[e-16]),u=Mt.default.add4H(l,r,a,Jt[e-7],Jt[e-16]);Jt[e]=0|u,Xt[e]=0|l}let{Ah:t,Al:r,Bh:o,Bl:i,Ch:s,Cl:a,Dh:c,Dl:l,Eh:u,El:d,Fh:f,Fl:h,Gh:p,Gl:y,Hh:g,Hl:b}=this;for(let e=0;e<80;e++){const n=Mt.default.rotrSH(u,d,14)^Mt.default.rotrSH(u,d,18)^Mt.default.rotrBH(u,d,41),w=Mt.default.rotrSL(u,d,14)^Mt.default.rotrSL(u,d,18)^Mt.default.rotrBL(u,d,41),m=u&f^~u&p,v=d&h^~d&y,x=Mt.default.add5L(b,w,v,Yt[e],Xt[e]),E=Mt.default.add5H(x,g,n,m,Zt[e],Jt[e]),k=0|x,A=Mt.default.rotrSH(t,r,28)^Mt.default.rotrBH(t,r,34)^Mt.default.rotrBH(t,r,39),B=Mt.default.rotrSL(t,r,28)^Mt.default.rotrBL(t,r,34)^Mt.default.rotrBL(t,r,39),S=t&o^t&s^o&s,_=r&i^r&a^i&a;g=0|p,b=0|y,p=0|f,y=0|h,f=0|u,h=0|d,({h:u,l:d}=Mt.default.add(0|c,0|l,0|E,0|k)),c=0|s,l=0|a,s=0|o,a=0|i,o=0|t,i=0|r;const H=Mt.default.add3L(k,B,_);t=Mt.default.add3H(H,E,A,S),r=0|H}({h:t,l:r}=Mt.default.add(0|this.Ah,0|this.Al,0|t,0|r)),({h:o,l:i}=Mt.default.add(0|this.Bh,0|this.Bl,0|o,0|i)),({h:s,l:a}=Mt.default.add(0|this.Ch,0|this.Cl,0|s,0|a)),({h:c,l:l}=Mt.default.add(0|this.Dh,0|this.Dl,0|c,0|l)),({h:u,l:d}=Mt.default.add(0|this.Eh,0|this.El,0|u,0|d)),({h:f,l:h}=Mt.default.add(0|this.Fh,0|this.Fl,0|f,0|h)),({h:p,l:y}=Mt.default.add(0|this.Gh,0|this.Gl,0|p,0|y)),({h:g,l:b}=Mt.default.add(0|this.Hh,0|this.Hl,0|g,0|b)),this.set(t,r,o,i,s,a,c,l,u,d,f,h,p,y,g,b)}roundClean(){Jt.fill(0),Xt.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};zt.SHA512=Qt;let er=class extends Qt{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}},nr=class extends Qt{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},tr=class extends Qt{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}};zt.sha512=(0,Wt.wrapConstructor)((()=>new Qt)),zt.sha512_224=(0,Wt.wrapConstructor)((()=>new er)),zt.sha512_256=(0,Wt.wrapConstructor)((()=>new nr)),zt.sha384=(0,Wt.wrapConstructor)((()=>new tr));var rr={};!function(e){function n(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function t(...e){const n=(e,n)=>t=>e(n(t));return{encode:Array.from(e).reverse().reduce(((e,t)=>e?n(e,t.encode):t.encode),void 0),decode:e.reduce(((e,t)=>e?n(e,t.decode):t.decode),void 0)}}function r(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("alphabet.encode input should be an array of numbers");return t.map((t=>{if(n(t),t<0||t>=e.length)throw new Error(`Digit index outside alphabet: ${t} (alphabet: ${e.length})`);return e[t]}))},decode:n=>{if(!Array.isArray(n)||n.length&&"string"!=typeof n[0])throw new Error("alphabet.decode input should be array of strings");return n.map((n=>{if("string"!=typeof n)throw new Error(`alphabet.decode: not string element=${n}`);const t=e.indexOf(n);if(-1===t)throw new Error(`Unknown letter: "${n}". Allowed: ${e}`);return t}))}}}function o(e=""){if("string"!=typeof e)throw new Error("join separator should be string");return{encode:n=>{if(!Array.isArray(n)||n.length&&"string"!=typeof n[0])throw new Error("join.encode input should be array of strings");for(let e of n)if("string"!=typeof e)throw new Error(`join.encode: non-string input=${e}`);return n.join(e)},decode:n=>{if("string"!=typeof n)throw new Error("join.decode input should be string");return n.split(e)}}}function i(e,t="="){if(n(e),"string"!=typeof t)throw new Error("padding chr should be string");return{encode(n){if(!Array.isArray(n)||n.length&&"string"!=typeof n[0])throw new Error("padding.encode input should be array of strings");for(let e of n)if("string"!=typeof e)throw new Error(`padding.encode: non-string input=${e}`);for(;n.length*e%8;)n.push(t);return n},decode(n){if(!Array.isArray(n)||n.length&&"string"!=typeof n[0])throw new Error("padding.encode input should be array of strings");for(let e of n)if("string"!=typeof e)throw new Error(`padding.decode: non-string input=${e}`);let r=n.length;if(r*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--)if(!((r-1)*e%8))throw new Error("Invalid padding: string has too much padding");return n.slice(0,r)}}}function s(e){if("function"!=typeof e)throw new Error("normalize fn should be function");return{encode:e=>e,decode:n=>e(n)}}function a(e,t,r){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(r<2)throw new Error(`convertRadix: wrong to=${r}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let o=0;const i=[],s=Array.from(e);for(s.forEach((e=>{if(n(e),e<0||e>=t)throw new Error(`Wrong integer: ${e}`)}));;){let e=0,n=!0;for(let i=o;i<s.length;i++){const a=s[i],c=t*e+a;if(!Number.isSafeInteger(c)||t*e/t!==e||c-a!=t*e)throw new Error("convertRadix: carry overflow");if(e=c%r,s[i]=Math.floor(c/r),!Number.isSafeInteger(s[i])||s[i]*r+e!==c)throw new Error("convertRadix: carry overflow");n&&(s[i]?n=!1:o=i)}if(i.push(e),n)break}for(let n=0;n<e.length-1&&0===e[n];n++)i.push(0);return i.reverse()}
/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */
Object.defineProperty(e,"__esModule",{value:!0}),e.bytes=e.stringToBytes=e.str=e.bytesToString=e.hex=e.utf8=e.bech32m=e.bech32=e.base58check=e.base58xmr=e.base58xrp=e.base58flickr=e.base58=e.base64url=e.base64=e.base32crockford=e.base32hex=e.base32=e.base16=e.utils=e.assertNumber=void 0,e.assertNumber=n;const c=(e,n)=>n?c(n,e%n):e,l=(e,n)=>e+(n-c(e,n));function u(e,t,r,o){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(r<=0||r>32)throw new Error(`convertRadix2: wrong to=${r}`);if(l(t,r)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${r} carryBits=${l(t,r)}`);let i=0,s=0;const a=2**r-1,c=[];for(const o of e){if(n(o),o>=2**t)throw new Error(`convertRadix2: invalid data word=${o} from=${t}`);if(i=i<<t|o,s+t>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${t}`);for(s+=t;s>=r;s-=r)c.push((i>>s-r&a)>>>0);i&=2**s-1}if(i=i<<r-s&a,!o&&s>=t)throw new Error("Excess padding");if(!o&&i)throw new Error(`Non-zero padding: ${i}`);return o&&s>0&&c.push(i>>>0),c}function d(e){return n(e),{encode:n=>{if(!(n instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return a(Array.from(n),256,e)},decode:n=>{if(!Array.isArray(n)||n.length&&"number"!=typeof n[0])throw new Error("radix.decode input should be array of strings");return Uint8Array.from(a(n,e,256))}}}function f(e,t=!1){if(n(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(l(8,e)>32||l(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!(n instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return u(Array.from(n),8,e,!t)},decode:n=>{if(!Array.isArray(n)||n.length&&"number"!=typeof n[0])throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(u(n,e,8,t))}}}function h(e){if("function"!=typeof e)throw new Error("unsafeWrapper fn should be function");return function(...n){try{return e.apply(null,n)}catch(e){}}}function p(e,t){if(n(e),"function"!=typeof t)throw new Error("checksum fn should be function");return{encode(n){if(!(n instanceof Uint8Array))throw new Error("checksum.encode: input should be Uint8Array");const r=t(n).slice(0,e),o=new Uint8Array(n.length+e);return o.set(n),o.set(r,n.length),o},decode(n){if(!(n instanceof Uint8Array))throw new Error("checksum.decode: input should be Uint8Array");const r=n.slice(0,-e),o=t(r).slice(0,e),i=n.slice(-e);for(let n=0;n<e;n++)if(o[n]!==i[n])throw new Error("Invalid checksum");return r}}}e.utils={alphabet:r,chain:t,checksum:p,radix:d,radix2:f,join:o,padding:i},e.base16=t(f(4),r("0123456789ABCDEF"),o("")),e.base32=t(f(5),r("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),i(5),o("")),e.base32hex=t(f(5),r("0123456789ABCDEFGHIJKLMNOPQRSTUV"),i(5),o("")),e.base32crockford=t(f(5),r("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),o(""),s((e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")))),e.base64=t(f(6),r("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),i(6),o("")),e.base64url=t(f(6),r("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),i(6),o(""));const y=e=>t(d(58),r(e),o(""));e.base58=y("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),e.base58flickr=y("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),e.base58xrp=y("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const g=[0,2,3,5,6,7,9,10,11];e.base58xmr={encode(n){let t="";for(let r=0;r<n.length;r+=8){const o=n.subarray(r,r+8);t+=e.base58.encode(o).padStart(g[o.length],"1")}return t},decode(n){let t=[];for(let r=0;r<n.length;r+=11){const o=n.slice(r,r+11),i=g.indexOf(o.length),s=e.base58.decode(o);for(let e=0;e<s.length-i;e++)if(0!==s[e])throw new Error("base58xmr: wrong padding");t=t.concat(Array.from(s.slice(s.length-i)))}return Uint8Array.from(t)}};e.base58check=n=>t(p(4,(e=>n(n(e)))),e.base58);const b=t(r("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),o("")),w=[996825010,642813549,513874426,1027748829,705979059];function m(e){const n=e>>25;let t=(33554431&e)<<5;for(let e=0;e<w.length;e++)1==(n>>e&1)&&(t^=w[e]);return t}function v(e,n,t=1){const r=e.length;let o=1;for(let n=0;n<r;n++){const t=e.charCodeAt(n);if(t<33||t>126)throw new Error(`Invalid prefix (${e})`);o=m(o)^t>>5}o=m(o);for(let n=0;n<r;n++)o=m(o)^31&e.charCodeAt(n);for(let e of n)o=m(o)^e;for(let e=0;e<6;e++)o=m(o);return o^=t,b.encode(u([o%2**30],30,5,!1))}function x(e){const n="bech32"===e?1:734539939,t=f(5),r=t.decode,o=t.encode,i=h(r);function s(e,t=90){if("string"!=typeof e)throw new Error("bech32.decode input should be string, not "+typeof e);if(e.length<8||!1!==t&&e.length>t)throw new TypeError(`Wrong string length: ${e.length} (${e}). Expected (8..${t})`);const r=e.toLowerCase();if(e!==r&&e!==e.toUpperCase())throw new Error("String must be lowercase or uppercase");const o=(e=r).lastIndexOf("1");if(0===o||-1===o)throw new Error('Letter "1" must be present between prefix and data only');const i=e.slice(0,o),s=e.slice(o+1);if(s.length<6)throw new Error("Data must be at least 6 characters long");const a=b.decode(s).slice(0,-6),c=v(i,a,n);if(!s.endsWith(c))throw new Error(`Invalid checksum in ${e}: expected "${c}"`);return{prefix:i,words:a}}return{encode:function(e,t,r=90){if("string"!=typeof e)throw new Error("bech32.encode prefix should be string, not "+typeof e);if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("bech32.encode words should be array of numbers, not "+typeof t);const o=e.length+7+t.length;if(!1!==r&&o>r)throw new TypeError(`Length ${o} exceeds limit ${r}`);return`${e=e.toLowerCase()}1${b.encode(t)}${v(e,t,n)}`},decode:s,decodeToBytes:function(e){const{prefix:n,words:t}=s(e,!1);return{prefix:n,words:t,bytes:r(t)}},decodeUnsafe:h(s),fromWords:r,fromWordsUnsafe:i,toWords:o}}e.bech32=x("bech32"),e.bech32m=x("bech32m"),e.utf8={encode:e=>(new TextDecoder).decode(e),decode:e=>(new TextEncoder).encode(e)},e.hex=t(f(4),r("0123456789abcdef"),o(""),s((e=>{if("string"!=typeof e||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()})));const E={utf8:e.utf8,hex:e.hex,base16:e.base16,base32:e.base32,base64:e.base64,base64url:e.base64url,base58:e.base58,base58xmr:e.base58xmr},k=`Invalid encoding type. Available types: ${Object.keys(E).join(", ")}`;e.bytesToString=(e,n)=>{if("string"!=typeof e||!E.hasOwnProperty(e))throw new TypeError(k);if(!(n instanceof Uint8Array))throw new TypeError("bytesToString() expects Uint8Array");return E[e].encode(n)},e.str=e.bytesToString;e.stringToBytes=(e,n)=>{if(!E.hasOwnProperty(e))throw new TypeError(k);if("string"!=typeof n)throw new TypeError("stringToBytes() expects string");return E[e].decode(n)},e.bytes=e.stringToBytes}(rr),Object.defineProperty(pt,"__esModule",{value:!0});var or=pt.mnemonicToSeedSync=pt.mnemonicToSeed=vr=pt.validateMnemonic=pt.entropyToMnemonic=pt.mnemonicToEntropy=yr=pt.generateMnemonic=void 0;
/*! scure-bip39 - MIT License (c) 2022 Patricio Palladino, Paul Miller (paulmillr.com) */const ir=yt,sr=kt,ar=Tt,cr=zt,lr=Bt,ur=rr,dr=e=>""===e[0];function fr(e){if("string"!=typeof e)throw new TypeError("Invalid mnemonic type: "+typeof e);return e.normalize("NFKD")}function hr(e){const n=fr(e),t=n.split(" ");if(![12,15,18,21,24].includes(t.length))throw new Error("Invalid mnemonic");return{nfkd:n,words:t}}function pr(e){ir.default.bytes(e,16,20,24,28,32)}var yr=pt.generateMnemonic=function(e,n=128){if(ir.default.number(n),n%32!=0||n>256)throw new TypeError("Invalid entropy");return mr((0,lr.randomBytes)(n/8),e)};const gr=e=>{const n=8-e.length/4;return new Uint8Array([(0,ar.sha256)(e)[0]>>n<<n])};function br(e){if(!Array.isArray(e)||2048!==e.length||"string"!=typeof e[0])throw new Error("Worlist: expected array of 2048 strings");return e.forEach((e=>{if("string"!=typeof e)throw new Error(`Wordlist: non-string element: ${e}`)})),ur.utils.chain(ur.utils.checksum(1,gr),ur.utils.radix2(11,!0),ur.utils.alphabet(e))}function wr(e,n){const{words:t}=hr(e),r=br(n).decode(t);return pr(r),r}function mr(e,n){pr(e);return br(n).encode(e).join(dr(n)?"":" ")}pt.mnemonicToEntropy=wr,pt.entropyToMnemonic=mr;var vr=pt.validateMnemonic=function(e,n){try{wr(e,n)}catch(e){return!1}return!0};const xr=e=>fr(`mnemonic${e}`);pt.mnemonicToSeed=function(e,n=""){return(0,sr.pbkdf2Async)(cr.sha512,hr(e).nfkd,xr(n),{c:2048,dkLen:64})},or=pt.mnemonicToSeedSync=function(e,n=""){return(0,sr.pbkdf2)(cr.sha512,hr(e).nfkd,xr(n),{c:2048,dkLen:64})};const Er=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),kr=Uint8Array.from({length:16},((e,n)=>n)),Ar=kr.map((e=>(9*e+5)%16));let Br=[kr],Sr=[Ar];for(let e=0;e<4;e++)for(let n of[Br,Sr])n.push(n[e].map((e=>Er[e])));const _r=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map((e=>new Uint8Array(e))),Hr=Br.map(((e,n)=>e.map((e=>_r[n][e])))),Lr=Sr.map(((e,n)=>e.map((e=>_r[n][e])))),$r=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),Ir=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),Tr=(e,n)=>e<<n|e>>>32-n;function Ur(e,n,t,r){return 0===e?n^t^r:1===e?n&t|~n&r:2===e?(n|~t)^r:3===e?n&r|t&~r:n^(t|~r)}const Or=new Uint32Array(16);class Cr extends oe{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:n,h2:t,h3:r,h4:o}=this;return[e,n,t,r,o]}set(e,n,t,r,o){this.h0=0|e,this.h1=0|n,this.h2=0|t,this.h3=0|r,this.h4=0|o}process(e,n){for(let t=0;t<16;t++,n+=4)Or[t]=e.getUint32(n,!0);let t=0|this.h0,r=t,o=0|this.h1,i=o,s=0|this.h2,a=s,c=0|this.h3,l=c,u=0|this.h4,d=u;for(let e=0;e<5;e++){const n=4-e,f=$r[e],h=Ir[e],p=Br[e],y=Sr[e],g=Hr[e],b=Lr[e];for(let n=0;n<16;n++){const r=Tr(t+Ur(e,o,s,c)+Or[p[n]]+f,g[n])+u|0;t=u,u=c,c=0|Tr(s,10),s=o,o=r}for(let e=0;e<16;e++){const t=Tr(r+Ur(n,i,a,l)+Or[y[e]]+h,b[e])+d|0;r=d,d=l,l=0|Tr(a,10),a=i,i=t}}this.set(this.h1+s+l|0,this.h2+c+d|0,this.h3+u+r|0,this.h4+t+i|0,this.h0+o+a|0)}roundClean(){Or.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const Rr=te((()=>new Cr)),Nr=BigInt(2**32-1),Dr=BigInt(32);function jr(e,n=!1){return n?{h:Number(e&Nr),l:Number(e>>Dr&Nr)}:{h:0|Number(e>>Dr&Nr),l:0|Number(e&Nr)}}const Pr={fromBig:jr,split:function(e,n=!1){let t=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let o=0;o<e.length;o++){const{h:i,l:s}=jr(e[o],n);[t[o],r[o]]=[i,s]}return[t,r]},toBig:(e,n)=>BigInt(e>>>0)<<Dr|BigInt(n>>>0),shrSH:(e,n,t)=>e>>>t,shrSL:(e,n,t)=>e<<32-t|n>>>t,rotrSH:(e,n,t)=>e>>>t|n<<32-t,rotrSL:(e,n,t)=>e<<32-t|n>>>t,rotrBH:(e,n,t)=>e<<64-t|n>>>t-32,rotrBL:(e,n,t)=>e>>>t-32|n<<64-t,rotr32H:(e,n)=>n,rotr32L:(e,n)=>e,rotlSH:(e,n,t)=>e<<t|n>>>32-t,rotlSL:(e,n,t)=>n<<t|e>>>32-t,rotlBH:(e,n,t)=>n<<t-32|e>>>64-t,rotlBL:(e,n,t)=>e<<t-32|n>>>64-t,add:function(e,n,t,r){const o=(n>>>0)+(r>>>0);return{h:e+t+(o/2**32|0)|0,l:0|o}},add3L:(e,n,t)=>(e>>>0)+(n>>>0)+(t>>>0),add3H:(e,n,t,r)=>n+t+r+(e/2**32|0)|0,add4L:(e,n,t,r)=>(e>>>0)+(n>>>0)+(t>>>0)+(r>>>0),add4H:(e,n,t,r,o)=>n+t+r+o+(e/2**32|0)|0,add5H:(e,n,t,r,o,i)=>n+t+r+o+i+(e/2**32|0)|0,add5L:(e,n,t,r,o)=>(e>>>0)+(n>>>0)+(t>>>0)+(r>>>0)+(o>>>0)},[qr,Kr]=Pr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))),Fr=new Uint32Array(80),zr=new Uint32Array(80);class Vr extends oe{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:t,Bl:r,Ch:o,Cl:i,Dh:s,Dl:a,Eh:c,El:l,Fh:u,Fl:d,Gh:f,Gl:h,Hh:p,Hl:y}=this;return[e,n,t,r,o,i,s,a,c,l,u,d,f,h,p,y]}set(e,n,t,r,o,i,s,a,c,l,u,d,f,h,p,y){this.Ah=0|e,this.Al=0|n,this.Bh=0|t,this.Bl=0|r,this.Ch=0|o,this.Cl=0|i,this.Dh=0|s,this.Dl=0|a,this.Eh=0|c,this.El=0|l,this.Fh=0|u,this.Fl=0|d,this.Gh=0|f,this.Gl=0|h,this.Hh=0|p,this.Hl=0|y}process(e,n){for(let t=0;t<16;t++,n+=4)Fr[t]=e.getUint32(n),zr[t]=e.getUint32(n+=4);for(let e=16;e<80;e++){const n=0|Fr[e-15],t=0|zr[e-15],r=Pr.rotrSH(n,t,1)^Pr.rotrSH(n,t,8)^Pr.shrSH(n,t,7),o=Pr.rotrSL(n,t,1)^Pr.rotrSL(n,t,8)^Pr.shrSL(n,t,7),i=0|Fr[e-2],s=0|zr[e-2],a=Pr.rotrSH(i,s,19)^Pr.rotrBH(i,s,61)^Pr.shrSH(i,s,6),c=Pr.rotrSL(i,s,19)^Pr.rotrBL(i,s,61)^Pr.shrSL(i,s,6),l=Pr.add4L(o,c,zr[e-7],zr[e-16]),u=Pr.add4H(l,r,a,Fr[e-7],Fr[e-16]);Fr[e]=0|u,zr[e]=0|l}let{Ah:t,Al:r,Bh:o,Bl:i,Ch:s,Cl:a,Dh:c,Dl:l,Eh:u,El:d,Fh:f,Fl:h,Gh:p,Gl:y,Hh:g,Hl:b}=this;for(let e=0;e<80;e++){const n=Pr.rotrSH(u,d,14)^Pr.rotrSH(u,d,18)^Pr.rotrBH(u,d,41),w=Pr.rotrSL(u,d,14)^Pr.rotrSL(u,d,18)^Pr.rotrBL(u,d,41),m=u&f^~u&p,v=d&h^~d&y,x=Pr.add5L(b,w,v,Kr[e],zr[e]),E=Pr.add5H(x,g,n,m,qr[e],Fr[e]),k=0|x,A=Pr.rotrSH(t,r,28)^Pr.rotrBH(t,r,34)^Pr.rotrBH(t,r,39),B=Pr.rotrSL(t,r,28)^Pr.rotrBL(t,r,34)^Pr.rotrBL(t,r,39),S=t&o^t&s^o&s,_=r&i^r&a^i&a;g=0|p,b=0|y,p=0|f,y=0|h,f=0|u,h=0|d,({h:u,l:d}=Pr.add(0|c,0|l,0|E,0|k)),c=0|s,l=0|a,s=0|o,a=0|i,o=0|t,i=0|r;const H=Pr.add3L(k,B,_);t=Pr.add3H(H,E,A,S),r=0|H}({h:t,l:r}=Pr.add(0|this.Ah,0|this.Al,0|t,0|r)),({h:o,l:i}=Pr.add(0|this.Bh,0|this.Bl,0|o,0|i)),({h:s,l:a}=Pr.add(0|this.Ch,0|this.Cl,0|s,0|a)),({h:c,l:l}=Pr.add(0|this.Dh,0|this.Dl,0|c,0|l)),({h:u,l:d}=Pr.add(0|this.Eh,0|this.El,0|u,0|d)),({h:f,l:h}=Pr.add(0|this.Fh,0|this.Fl,0|f,0|h)),({h:p,l:y}=Pr.add(0|this.Gh,0|this.Gl,0|p,0|y)),({h:g,l:b}=Pr.add(0|this.Hh,0|this.Hl,0|g,0|b)),this.set(t,r,o,i,s,a,c,l,u,d,f,h,p,y,g,b)}roundClean(){Fr.fill(0),zr.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class Gr extends Vr{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class Mr extends Vr{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class Wr extends Vr{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const Zr=te((()=>new Vr));te((()=>new Gr)),te((()=>new Mr)),te((()=>new Wr));const Yr=vn.ProjectivePoint,Jr=(e=>Pn(function(e,n){if(jn(e),"function"!=typeof n)throw new Error("checksum fn should be function");return{encode(t){if(!(t instanceof Uint8Array))throw new Error("checksum.encode: input should be Uint8Array");const r=n(t).slice(0,e),o=new Uint8Array(t.length+e);return o.set(t),o.set(r,t.length),o},decode(t){if(!(t instanceof Uint8Array))throw new Error("checksum.decode: input should be Uint8Array");const r=t.slice(0,-e),o=n(r).slice(0,e),i=t.slice(-e);for(let n=0;n<e;n++)if(o[n]!==i[n])throw new Error("Invalid checksum");return r}}}(4,(n=>e(e(n)))),tt))(de);function Xr(e){return BigInt(`0x${Y(e)}`)}const Qr=X("Bitcoin seed"),eo={private:76066276,public:76067358},no=2147483648,to=e=>{if(!Number.isSafeInteger(e)||e<0||e>2**32-1)throw new Error(`Invalid number=${e}. Should be from 0 to 2 ** 32 - 1`);const n=new Uint8Array(4);return M(n).setUint32(0,e,!1),n};class ro{get fingerprint(){if(!this.pubHash)throw new Error("No publicKey set!");return e=this.pubHash,M(e).getUint32(0,!1);var e}get identifier(){return this.pubHash}get pubKeyHash(){return this.pubHash}get privateKey(){return this.privKeyBytes||null}get publicKey(){return this.pubKey||null}get privateExtendedKey(){const e=this.privateKey;if(!e)throw new Error("No private key");return Jr.encode(this.serialize(this.versions.private,ee(new Uint8Array([0]),e)))}get publicExtendedKey(){if(!this.pubKey)throw new Error("No public key");return Jr.encode(this.serialize(this.versions.public,this.pubKey))}static fromMasterSeed(e,n=eo){if(z(e),8*e.length<128||8*e.length>512)throw new Error(`HDKey: wrong seed length=${e.length}. Should be between 128 and 512 bits; 256 bits is advised)`);const t=dn(Zr,Qr,e);return new ro({versions:n,chainCode:t.slice(32),privateKey:t.slice(0,32)})}static fromExtendedKey(e,n=eo){const t=Jr.decode(e),r=M(t),o=r.getUint32(0,!1),i={versions:n,depth:t[4],parentFingerprint:r.getUint32(5,!1),index:r.getUint32(9,!1),chainCode:t.slice(13,45)},s=t.slice(45),a=0===s[0];if(o!==n[a?"private":"public"])throw new Error("Version mismatch");return new ro(a?{...i,privateKey:s.slice(1)}:{...i,publicKey:s})}static fromJSON(e){return ro.fromExtendedKey(e.xpriv)}constructor(e){if(this.depth=0,this.index=0,this.chainCode=null,this.parentFingerprint=0,!e||"object"!=typeof e)throw new Error("HDKey.constructor must not be called directly");if(this.versions=e.versions||eo,this.depth=e.depth||0,this.chainCode=e.chainCode,this.index=e.index||0,this.parentFingerprint=e.parentFingerprint||0,!this.depth&&(this.parentFingerprint||this.index))throw new Error("HDKey: zero depth with non-zero index/parent fingerprint");if(e.publicKey&&e.privateKey)throw new Error("HDKey: publicKey and privateKey at same time.");if(e.privateKey){if(!vn.utils.isValidPrivateKey(e.privateKey))throw new Error("Invalid private key");this.privKey="bigint"==typeof e.privateKey?e.privateKey:Xr(e.privateKey),this.privKeyBytes=J(this.privKey.toString(16).padStart(64,"0")),this.pubKey=vn.getPublicKey(e.privateKey,!0)}else{if(!e.publicKey)throw new Error("HDKey: no public or private key provided");this.pubKey=Yr.fromHex(e.publicKey).toRawBytes(!0)}var n;this.pubHash=(n=this.pubKey,Rr(de(n)))}derive(e){if(!/^[mM]'?/.test(e))throw new Error('Path must start with "m" or "M"');if(/^[mM]'?$/.test(e))return this;const n=e.replace(/^[mM]'?\//,"").split("/");let t=this;for(const e of n){const n=/^(\d+)('?)$/.exec(e);if(!n||3!==n.length)throw new Error(`Invalid child index: ${e}`);let r=+n[1];if(!Number.isSafeInteger(r)||r>=no)throw new Error("Invalid index");"'"===n[2]&&(r+=no),t=t.deriveChild(r)}return t}deriveChild(e){if(!this.pubKey||!this.chainCode)throw new Error("No publicKey or chainCode set");let n=to(e);if(e>=no){const e=this.privateKey;if(!e)throw new Error("Could not derive hardened child key");n=ee(new Uint8Array([0]),e,n)}else n=ee(this.pubKey,n);const t=dn(Zr,this.chainCode,n),r=Xr(t.slice(0,32)),o=t.slice(32);if(!vn.utils.isValidPrivateKey(r))throw new Error("Tweak bigger than curve order");const i={versions:this.versions,chainCode:o,depth:this.depth+1,parentFingerprint:this.fingerprint,index:e};try{if(this.privateKey){const e=Ke(this.privKey+r,vn.CURVE.n);if(!vn.utils.isValidPrivateKey(e))throw new Error("The tweak was out of range or the resulted private key is invalid");i.privateKey=e}else{const e=Yr.fromHex(this.pubKey).add(Yr.fromPrivateKey(r));if(e.equals(Yr.ZERO))throw new Error("The tweak was equal to negative P, which made the result key invalid");i.publicKey=e.toRawBytes(!0)}return new ro(i)}catch(n){return this.deriveChild(e+1)}}sign(e){if(!this.privateKey)throw new Error("No privateKey set!");return z(e,32),vn.sign(e,this.privKey).toCompactRawBytes()}verify(e,n){if(z(e,32),z(n,64),!this.publicKey)throw new Error("No publicKey set!");let t;try{t=vn.Signature.fromCompact(n)}catch(e){return!1}return vn.verify(t,e,this.publicKey)}wipePrivateData(){return this.privKey=void 0,this.privKeyBytes&&(this.privKeyBytes.fill(0),this.privKeyBytes=void 0),this}toJSON(){return{xpriv:this.privateExtendedKey,xpub:this.publicExtendedKey}}serialize(e,n){if(!this.chainCode)throw new Error("No chainCode set");return z(n,33),ee(to(e),new Uint8Array([this.depth]),to(this.parentFingerprint),to(this.index),this.chainCode,n)}}var oo=Object.defineProperty,io=(e,n)=>{for(var t in n)oo(e,t,{get:n[t],enumerable:!0})};function so(e){return Y(Rn.getPublicKey(e))}io({},{MessageNode:()=>ho,MessageQueue:()=>po,insertEventIntoAscendingList:()=>fo,insertEventIntoDescendingList:()=>uo,normalizeURL:()=>lo,utf8Decoder:()=>ao,utf8Encoder:()=>co});var ao=new TextDecoder("utf-8"),co=new TextEncoder;function lo(e){let n=new URL(e);return n.pathname=n.pathname.replace(/\/+/g,"/"),n.pathname.endsWith("/")&&(n.pathname=n.pathname.slice(0,-1)),("80"===n.port&&"ws:"===n.protocol||"443"===n.port&&"wss:"===n.protocol)&&(n.port=""),n.searchParams.sort(),n.hash="",n.toString()}function uo(e,n){let t,r=0,o=e.length-1,i=r;if(o<0)i=0;else if(n.created_at<e[o].created_at)i=o+1;else if(n.created_at>=e[r].created_at)i=r;else for(;;){if(o<=r+1){i=o;break}if(t=Math.floor(r+(o-r)/2),e[t].created_at>n.created_at)r=t;else{if(!(e[t].created_at<n.created_at)){i=t;break}o=t}}return e[i]?.id!==n.id?[...e.slice(0,i),n,...e.slice(i)]:e}function fo(e,n){let t,r=0,o=e.length-1,i=r;if(o<0)i=0;else if(n.created_at>e[o].created_at)i=o+1;else if(n.created_at<=e[r].created_at)i=r;else for(;;){if(o<=r+1){i=o;break}if(t=Math.floor(r+(o-r)/2),e[t].created_at<n.created_at)r=t;else{if(!(e[t].created_at>n.created_at)){i=t;break}o=t}}return e[i]?.id!==n.id?[...e.slice(0,i),n,...e.slice(i)]:e}var ho=class{_value;_next;get value(){return this._value}set value(e){this._value=e}get next(){return this._next}set next(e){this._next=e}constructor(e){this._value=e,this._next=null}},po=class{_first;_last;get first(){return this._first}set first(e){this._first=e}get last(){return this._last}set last(e){this._last=e}_size;get size(){return this._size}set size(e){this._size=e}constructor(){this._first=null,this._last=null,this._size=0}enqueue(e){const n=new ho(e);return 0!==this._size&&this._last?(this._last.next=n,this._last=n):(this._first=n,this._last=n),this._size++,!0}dequeue(){if(0===this._size||!this._first)return null;let e=this._first;return this._first=e.next,e.next=null,this._size--,e.value}};function yo(e,n){let t=e;return t.pubkey=so(n),t.id=go(t),t.sig=function(e,n){return Y(Rn.sign(go(e),n))}(t,n),t}function go(e){return Y(de(co.encode(function(e){if(!wo(e))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content])}(e))))}var bo=e=>e instanceof Object;function wo(e){if(!bo(e))return!1;if("number"!=typeof e.kind)return!1;if("string"!=typeof e.content)return!1;if("number"!=typeof e.created_at)return!1;if("string"!=typeof e.pubkey)return!1;if(!e.pubkey.match(/^[a-f0-9]{64}$/))return!1;if(!Array.isArray(e.tags))return!1;for(let n=0;n<e.tags.length;n++){let t=e.tags[n];if(!Array.isArray(t))return!1;for(let e=0;e<t.length;e++)if("object"==typeof t[e])return!1}return!0}function mo(e){try{return Rn.verify(e.sig,go(e),e.pubkey)}catch(e){return!1}}function vo(e,n){if(e.ids&&-1===e.ids.indexOf(n.id)&&!e.ids.some((e=>n.id.startsWith(e))))return!1;if(e.kinds&&-1===e.kinds.indexOf(n.kind))return!1;if(e.authors&&-1===e.authors.indexOf(n.pubkey)&&!e.authors.some((e=>n.pubkey.startsWith(e))))return!1;for(let t in e)if("#"===t[0]){let r=e[`#${t.slice(1)}`];if(r&&!n.tags.find((([e,n])=>e===t.slice(1)&&-1!==r.indexOf(n))))return!1}return!(e.since&&n.created_at<e.since)&&!(e.until&&n.created_at>=e.until)}function xo(e,n){let t=n.length+3,r=e.indexOf(`"${n}":`)+t,o=e.slice(r).indexOf('"')+r+1;return e.slice(o,o+64)}function Eo(e,n){let t=n.length,r=e.indexOf(`"${n}":`)+t+3,o=e.slice(r),i=Math.min(o.indexOf(","),o.indexOf("}"));return parseInt(o.slice(0,i),10)}function ko(e){let n=e.slice(0,22).indexOf('"EVENT"');if(-1===n)return null;let t=e.slice(n+7+1).indexOf('"');if(-1===t)return null;let r=n+7+1+t,o=e.slice(r+1,80).indexOf('"');if(-1===o)return null;let i=r+1+o;return e.slice(r+1,i)}function Ao(e,n){return n===xo(e,"id")}function Bo(e,n){return n===xo(e,"pubkey")}function So(e,n){return n===Eo(e,"kind")}io({},{getHex64:()=>xo,getInt:()=>Eo,getSubscriptionId:()=>ko,matchEventId:()=>Ao,matchEventKind:()=>So,matchEventPubkey:()=>Bo});function _o(e,n={}){let{listTimeout:t=3e3,getTimeout:r=3e3,countTimeout:o=3e3}=n;var i,s,a={},c={connect:[],disconnect:[],error:[],notice:[],auth:[]},l={},u={};async function d(){return s||(s=new Promise(((n,t)=>{try{i=new WebSocket(e)}catch(e){t(e)}i.onopen=()=>{c.connect.forEach((e=>e())),n()},i.onerror=()=>{s=void 0,c.error.forEach((e=>e())),t()},i.onclose=async()=>{s=void 0,c.disconnect.forEach((e=>e()))};let r,o=new po;function d(){if(0===o.size)return clearInterval(r),void(r=null);var n=o.dequeue();if(!n)return;let t=ko(n);if(t){let r=a[t];if(r&&r.alreadyHaveEvent&&r.alreadyHaveEvent(xo(n,"id"),e))return}try{let e=JSON.parse(n);switch(e[0]){case"EVENT":{let n=e[1],t=e[2];return void(wo(t)&&a[n]&&(a[n].skipVerification||mo(t))&&function(e,n){for(let t=0;t<e.length;t++)if(vo(e[t],n))return!0;return!1}(a[n].filters,t)&&(a[n],(l[n]?.event||[]).forEach((e=>e(t)))))}case"COUNT":let n=e[1],t=e[2];return void(a[n]&&(l[n]?.count||[]).forEach((e=>e(t))));case"EOSE":{let n=e[1];return void(n in l&&(l[n].eose.forEach((e=>e())),l[n].eose=[]))}case"OK":{let n=e[1],t=e[2],r=e[3]||"";return void(n in u&&(t?u[n].ok.forEach((e=>e())):u[n].failed.forEach((e=>e(r))),u[n].ok=[],u[n].failed=[]))}case"NOTICE":let r=e[1];return void c.notice.forEach((e=>e(r)));case"AUTH":{let n=e[1];return void c.auth?.forEach((e=>e(n)))}}}catch(e){return}}i.onmessage=e=>{o.enqueue(e.data),r||(r=setInterval(d,0))}})),s)}function f(){return 1===i?.readyState}async function h(e){let n=JSON.stringify(e);if(f()||(await new Promise((e=>setTimeout(e,1e3))),f()))try{i.send(n)}catch(e){console.log(e)}}const p=(e,{verb:n="REQ",skipVerification:t=!1,alreadyHaveEvent:r=null,id:o=Math.random().toString().slice(2)}={})=>{let i=o;return a[i]={id:i,filters:e,skipVerification:t,alreadyHaveEvent:r},h([n,i,...e]),{sub:(n,o={})=>p(n||e,{skipVerification:o.skipVerification||t,alreadyHaveEvent:o.alreadyHaveEvent||r,id:i}),unsub:()=>{delete a[i],delete l[i],h(["CLOSE",i])},on:(e,n)=>{l[i]=l[i]||{event:[],count:[],eose:[]},l[i][e].push(n)},off:(e,n)=>{let t=l[i],r=t[e].indexOf(n);r>=0&&t[e].splice(r,1)}}};function y(e,n){if(!e.id)throw new Error(`event ${e} has no id`);let t=e.id;return h([n,e]),{on:(e,n)=>{u[t]=u[t]||{ok:[],failed:[]},u[t][e].push(n)},off:(e,n)=>{let r=u[t];if(!r)return;let o=r[e].indexOf(n);o>=0&&r[e].splice(o,1)}}}return{url:e,sub:p,on:(e,n)=>{c[e].push(n),"connect"===e&&1===i?.readyState&&n()},off:(e,n)=>{let t=c[e].indexOf(n);-1!==t&&c[e].splice(t,1)},list:(e,n)=>new Promise((r=>{let o=p(e,n),i=[],s=setTimeout((()=>{o.unsub(),r(i)}),t);o.on("eose",(()=>{o.unsub(),clearTimeout(s),r(i)})),o.on("event",(e=>{i.push(e)}))})),get:(e,n)=>new Promise((t=>{let o=p([e],n),i=setTimeout((()=>{o.unsub(),t(null)}),r);o.on("event",(e=>{o.unsub(),clearTimeout(i),t(e)}))})),count:e=>new Promise((n=>{let t=p(e,{...p,verb:"COUNT"}),r=setTimeout((()=>{t.unsub(),n(null)}),o);t.on("count",(e=>{t.unsub(),clearTimeout(r),n(e)}))})),publish:e=>y(e,"EVENT"),auth:e=>y(e,"AUTH"),connect:async function(){f()||await d()},close(){c={connect:[],disconnect:[],error:[],notice:[],auth:[]},l={},u={},i.readyState===WebSocket.OPEN&&i?.close()},get status(){return i?.readyState??3}}}io({},{BECH32_REGEX:()=>Lo,decode:()=>$o,naddrEncode:()=>Do,neventEncode:()=>No,noteEncode:()=>Oo,nprofileEncode:()=>Ro,npubEncode:()=>Uo,nrelayEncode:()=>jo,nsecEncode:()=>To});var Ho=5e3,Lo=/[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}/;function $o(e){let{prefix:n,words:t}=ut.decode(e,Ho),r=new Uint8Array(ut.fromWords(t));switch(n){case"nprofile":{let e=Io(r);if(!e[0]?.[0])throw new Error("missing TLV 0 for nprofile");if(32!==e[0][0].length)throw new Error("TLV 0 should be 32 bytes");return{type:"nprofile",data:{pubkey:Y(e[0][0]),relays:e[1]?e[1].map((e=>ao.decode(e))):[]}}}case"nevent":{let e=Io(r);if(!e[0]?.[0])throw new Error("missing TLV 0 for nevent");if(32!==e[0][0].length)throw new Error("TLV 0 should be 32 bytes");if(e[2]&&32!==e[2][0].length)throw new Error("TLV 2 should be 32 bytes");return{type:"nevent",data:{id:Y(e[0][0]),relays:e[1]?e[1].map((e=>ao.decode(e))):[],author:e[2]?.[0]?Y(e[2][0]):void 0}}}case"naddr":{let e=Io(r);if(!e[0]?.[0])throw new Error("missing TLV 0 for naddr");if(!e[2]?.[0])throw new Error("missing TLV 2 for naddr");if(32!==e[2][0].length)throw new Error("TLV 2 should be 32 bytes");if(!e[3]?.[0])throw new Error("missing TLV 3 for naddr");if(4!==e[3][0].length)throw new Error("TLV 3 should be 4 bytes");return{type:"naddr",data:{identifier:ao.decode(e[0][0]),pubkey:Y(e[2][0]),kind:parseInt(Y(e[3][0]),16),relays:e[1]?e[1].map((e=>ao.decode(e))):[]}}}case"nrelay":{let e=Io(r);if(!e[0]?.[0])throw new Error("missing TLV 0 for nrelay");return{type:"nrelay",data:ao.decode(e[0][0])}}case"nsec":case"npub":case"note":return{type:n,data:Y(r)};default:throw new Error(`unknown prefix ${n}`)}}function Io(e){let n={},t=e;for(;t.length>0;){let e=t[0],r=t[1];if(!r)throw new Error(`malformed TLV ${e}`);let o=t.slice(2,2+r);if(t=t.slice(2+r),o.length<r)throw new Error(`not enough data to read on TLV ${e}`);n[e]=n[e]||[],n[e].push(o)}return n}function To(e){return Co("nsec",e)}function Uo(e){return Co("npub",e)}function Oo(e){return Co("note",e)}function Co(e,n){let t=J(n),r=ut.toWords(t);return ut.encode(e,r,Ho)}function Ro(e){let n=Po({0:[J(e.pubkey)],1:(e.relays||[]).map((e=>co.encode(e)))}),t=ut.toWords(n);return ut.encode("nprofile",t,Ho)}function No(e){let n=Po({0:[J(e.id)],1:(e.relays||[]).map((e=>co.encode(e))),2:e.author?[J(e.author)]:[]}),t=ut.toWords(n);return ut.encode("nevent",t,Ho)}function Do(e){let n=new ArrayBuffer(4);new DataView(n).setUint32(0,e.kind,!1);let t=Po({0:[co.encode(e.identifier)],1:(e.relays||[]).map((e=>co.encode(e))),2:[J(e.pubkey)],3:[new Uint8Array(n)]}),r=ut.toWords(t);return ut.encode("naddr",r,Ho)}function jo(e){let n=Po({0:[co.encode(e)]}),t=ut.toWords(n);return ut.encode("nrelay",t,Ho)}function Po(e){let n=[];return Object.entries(e).forEach((([e,t])=>{t.forEach((t=>{let r=new Uint8Array(t.length+2);r.set([parseInt(e)],0),r.set([t.length],1),r.set(t,2),n.push(r)}))})),ee(...n)}async function qo(e,n,t){const r=Fo(vn.getSharedSecret(e,"02"+n));let o=Uint8Array.from(re(16)),i=co.encode(t),s=await crypto.subtle.importKey("raw",r,{name:"AES-CBC"},!1,["encrypt"]),a=await crypto.subtle.encrypt({name:"AES-CBC",iv:o},s,i);return`${Qn.encode(new Uint8Array(a))}?iv=${Qn.encode(new Uint8Array(o.buffer))}`}async function Ko(e,n,t){let[r,o]=t.split("?iv="),i=Fo(vn.getSharedSecret(e,"02"+n)),s=await crypto.subtle.importKey("raw",i,{name:"AES-CBC"},!1,["decrypt"]),a=Qn.decode(r),c=Qn.decode(o),l=await crypto.subtle.decrypt({name:"AES-CBC",iv:c},s,a);return ao.decode(l)}function Fo(e){return e.slice(1,33)}io({},{decrypt:()=>Ko,encrypt:()=>qo}),"undefined"!=typeof crypto&&!crypto.subtle&&crypto.webcrypto&&(crypto.subtle=crypto.webcrypto.subtle);io({},{NIP05_REGEX:()=>Vo,queryProfile:()=>Wo,searchDomain:()=>Mo,useFetchImplementation:()=>Go});var zo,Vo=/^(?:([\w.+-]+)@)?([\w.-]+)$/;try{zo=fetch}catch{}function Go(e){zo=e}async function Mo(e,n=""){try{return(await(await zo(`https://${e}/.well-known/nostr.json?name=${n}`)).json()).names}catch(e){return{}}}async function Wo(e){const n=e.match(Vo);if(!n)return null;const[t,r="_",o]=n;try{const e=await zo(`https://${o}/.well-known/nostr.json?name=${r}`),{names:n,relays:t}=function(e){const n={names:{}};for(const[t,r]of Object.entries(e.names))"string"==typeof t&&"string"==typeof r&&(n.names[t]=r);if(e.relays){n.relays={};for(const[t,r]of Object.entries(e.relays))"string"==typeof t&&Array.isArray(r)&&(n.relays[t]=r.filter((e=>"string"==typeof e)))}return n}(await e.json()),i=n[r];return i?{pubkey:i,relays:t?.[i]}:null}catch(e){return null}}function Zo(e,n){let t=ro.fromMasterSeed(or(e,n)).derive("m/44'/1237'/0'/0/0").privateKey;if(!t)throw new Error("could not derive private key");return Y(t)}function Yo(){return yr(ht)}function Jo(e){return vr(e,ht)}io({},{generateSeedWords:()=>Yo,privateKeyFromSeedWords:()=>Zo,validateWords:()=>Jo});function Xo(e){const n={reply:void 0,root:void 0,mentions:[],profiles:[]},t=[];for(const r of e.tags)"e"===r[0]&&r[1]&&t.push(r),"p"===r[0]&&r[1]&&n.profiles.push({pubkey:r[1],relays:r[2]?[r[2]]:[]});for(let e=0;e<t.length;e++){const r=t[e],[o,i,s,a]=r,c={id:i,relays:s?[s]:[]},l=0===e,u=e===t.length-1;"root"!==a?"reply"!==a?"mention"!==a?l?n.root=c:u?n.reply=c:n.mentions.push(c):n.mentions.push(c):n.reply=c:n.root=c}return n}io({},{parse:()=>Xo});function Qo(e){return function(e){let n,t,r;for(t=0,n=0;t<e.length&&(r=ei(e[t]),n+=r,8===r);t++);return n}(J(e))}function ei(e){let n=0;if(0===e)return 8;for(;e>>=1;)n++;return 7-n}io({},{getPow:()=>Qo});function ni(e,n,t,r){return yo({kind:6,tags:[...e.tags??[],["e",n.id,t],["p",n.pubkey]],content:""===e.content?"":JSON.stringify(n),created_at:e.created_at},r)}function ti(e){if(6!==e.kind)return;let n,t;for(let r=e.tags.length-1;r>=0&&(void 0===n||void 0===t);r--){const o=e.tags[r];o.length>=2&&("e"===o[0]&&void 0===n?n=o:"p"===o[0]&&void 0===t&&(t=o))}return void 0!==n?{id:n[1],relays:[n[2],t?.[2]].filter((e=>"string"==typeof e)),author:t?.[1]}:void 0}function ri(e,{skipVerification:n}={}){const t=ti(e);if(void 0===t||""===e.content)return;let r;try{r=JSON.parse(e.content)}catch(e){return}return r.id===t.id&&(n||mo(r))?r:void 0}io({},{finishRepostEvent:()=>ni,getRepostedEvent:()=>ri,getRepostedEventPointer:()=>ti});io({},{NOSTR_URI_REGEX:()=>oi,parse:()=>si,test:()=>ii});var oi=new RegExp(`nostr:(${Lo.source})`);function ii(e){return"string"==typeof e&&new RegExp(`^${oi.source}$`).test(e)}function si(e){const n=e.match(new RegExp(`^${oi.source}$`));if(!n)throw new Error(`Invalid Nostr URI: ${e}`);return{uri:n[0],value:n[1],decoded:$o(n[1])}}function ai(e,n,t){const r=n.tags.filter((e=>e.length>=2&&("e"===e[0]||"p"===e[0])));return yo({...e,kind:7,tags:[...e.tags??[],...r,["e",n.id],["p",n.pubkey]],content:e.content??"+"},t)}function ci(e){if(7!==e.kind)return;let n,t;for(let r=e.tags.length-1;r>=0&&(void 0===n||void 0===t);r--){const o=e.tags[r];o.length>=2&&("e"===o[0]&&void 0===n?n=o:"p"===o[0]&&void 0===t&&(t=o))}return void 0!==n&&void 0!==t?{id:n[1],relays:[n[2],t[2]].filter((e=>void 0!==e)),author:t[1]}:void 0}io({},{finishReactionEvent:()=>ai,getReactedEventPointer:()=>ci});function li(e,n){let t=[];(n.kind||-1)>=0&&t.push(`kind=${n.kind}`),n.until&&t.push(`created_at<${n.until}`),n.since&&t.push(`created_at>${n.since}`);let r=t.join("&");if(""===r)throw new Error("refusing to create a delegation without any conditions");let o=de(co.encode(`nostr:delegation:${n.pubkey}:${r}`)),i=Y(Rn.sign(o,e));return{from:so(e),to:n.pubkey,cond:r,sig:i}}function ui(e){let n=e.tags.find((e=>"delegation"===e[0]&&e.length>=4));if(!n)return null;let t=n[1],r=n[2],o=n[3],i=r.split("&");for(let n=0;n<i.length;n++){let[t,r,o]=i[n].split(/\b/);if(("kind"!==t||"="!==r||e.kind!==parseInt(o))&&!("created_at"===t&&"<"===r&&e.created_at<parseInt(o)||"created_at"===t&&">"===r&&e.created_at>parseInt(o)))return null}let s=de(co.encode(`nostr:delegation:${e.pubkey}:${r}`));return Rn.verify(o,s,t)?t:null}io({},{createDelegation:()=>li,getDelegator:()=>ui});io({},{matchAll:()=>fi,regex:()=>di,replaceAll:()=>hi});var di=()=>new RegExp(`\\b${oi.source}\\b`,"g");function*fi(e){const n=e.matchAll(di());for(const e of n){const[n,t]=e;yield{uri:n,value:t,decoded:$o(t),start:e.index,end:e.index+n.length}}}function hi(e,n){return e.replaceAll(di(),((e,t)=>n({uri:e,value:t,decoded:$o(t)})))}var pi;io({},{useFetchImplementation:()=>yi,validateGithub:()=>gi});try{pi=fetch}catch{}function yi(e){pi=e}async function gi(e,n,t){try{return await(await pi(`https://gist.github.com/${n}/${t}/raw`)).text()===`Verifying that I control the following Nostr public key: ${e}`}catch(e){return!1}}io({},{authenticate:()=>wi});var bi,wi=async({challenge:e,relay:n,sign:t})=>{const r={kind:22242,created_at:Math.floor(Date.now()/1e3),tags:[["relay",n.url],["challenge",e]],content:""},o=n.auth(await t(r));return new Promise(((e,n)=>{o.on("ok",(function n(){o.off("ok",n),e()})),o.on("failed",(function e(t){o.off("failed",e),n(t)}))}))};io({},{getZapEndpoint:()=>vi,makeZapReceipt:()=>ki,makeZapRequest:()=>xi,useFetchImplementation:()=>mi,validateZapRequest:()=>Ei});try{bi=fetch}catch{}function mi(e){bi=e}async function vi(e){try{let n="",{lud06:t,lud16:r}=JSON.parse(e.content);if(t){let{words:e}=ut.decode(t,1e3),r=ut.fromWords(e);n=ao.decode(r)}else{if(!r)return null;{let[e,t]=r.split("@");n=`https://${t}/.well-known/lnurlp/${e}`}}let o=await bi(n),i=await o.json();if(i.allowsNostr&&i.nostrPubkey)return i.callback}catch(e){}return null}function xi({profile:e,event:n,amount:t,relays:r,comment:o=""}){if(!t)throw new Error("amount not given");if(!e)throw new Error("profile not given");let i={kind:9734,created_at:Math.round(Date.now()/1e3),content:o,tags:[["p",e],["amount",t.toString()],["relays",...r]]};return n&&i.tags.push(["e",n]),i}function Ei(e){let n;try{n=JSON.parse(e)}catch(e){return"Invalid zap request JSON."}if(!wo(n))return"Zap request is not a valid Nostr event.";if(!mo(n))return"Invalid signature on zap request.";let t=n.tags.find((([e,n])=>"p"===e&&n));if(!t)return"Zap request doesn't have a 'p' tag.";if(!t[1].match(/^[a-f0-9]{64}$/))return"Zap request 'p' tag is not valid hex.";let r=n.tags.find((([e,n])=>"e"===e&&n));return r&&!r[1].match(/^[a-f0-9]{64}$/)?"Zap request 'e' tag is not valid hex.":n.tags.find((([e,n])=>"relays"===e&&n))?null:"Zap request doesn't have a 'relays' tag."}function ki({zapRequest:e,preimage:n,bolt11:t,paidAt:r}){let o=JSON.parse(e).tags.filter((([e])=>"e"===e||"p"===e||"a"===e)),i={kind:9735,created_at:Math.round(r.getTime()/1e3),content:"",tags:[...o,["bolt11",t],["description",e]]};return n&&i.tags.push(["preimage",n]),i}const Ai=[];function Bi(n,t=e){let r;const o=new Set;function s(e){if(i(n,e)&&(n=e,r)){const e=!Ai.length;for(const e of o)e[1](),Ai.push(e,n);if(e){for(let e=0;e<Ai.length;e+=2)Ai[e][0](Ai[e+1]);Ai.length=0}}}return{set:s,update:function(e){s(e(n))},subscribe:function(i,a=e){const c=[i,a];return o.add(c),1===o.size&&(r=t(s)||e),i(n),()=>{o.delete(c),0===o.size&&r&&(r(),r=null)}}}}const Si=["wss://relay.damus.io"],_i=new class{_conn;_seenOn={};eoseSubTimeout;getTimeout;constructor(e={}){this._conn={},this.eoseSubTimeout=e.eoseSubTimeout||3400,this.getTimeout=e.getTimeout||3400}close(e){e.forEach((e=>{let n=this._conn[lo(e)];n&&n.close()}))}async ensureRelay(e){const n=lo(e);this._conn[n]||(this._conn[n]=_o(n,{getTimeout:.9*this.getTimeout,listTimeout:.9*this.getTimeout}));const t=this._conn[n];return await t.connect(),t}sub(e,n,t){let r=new Set,o={...t||{}};o.alreadyHaveEvent=(e,n)=>{if(t?.alreadyHaveEvent?.(e,n))return!0;let o=this._seenOn[e]||new Set;return o.add(n),this._seenOn[e]=o,r.has(e)};let i=[],s=new Set,a=new Set,c=e.length,l=!1,u=setTimeout((()=>{l=!0;for(let e of a.values())e()}),this.eoseSubTimeout);e.forEach((async e=>{let t;try{t=await this.ensureRelay(e)}catch(e){return void f()}if(!t)return;let d=t.sub(n,o);function f(){if(c--,0===c){clearTimeout(u);for(let e of a.values())e()}}d.on("event",(e=>{r.add(e.id);for(let n of s.values())n(e)})),d.on("eose",(()=>{l||f()})),i.push(d)}));let d={sub:(e,n)=>(i.forEach((t=>t.sub(e,n))),d),unsub(){i.forEach((e=>e.unsub()))},on(e,n){"event"===e?s.add(n):"eose"===e&&a.add(n)},off(e,n){"event"===e?s.delete(n):"eose"===e&&a.delete(n)}};return d}get(e,n,t){return new Promise((r=>{let o=this.sub(e,[n],t),i=setTimeout((()=>{o.unsub(),r(null)}),this.getTimeout);o.on("event",(e=>{r(e),clearTimeout(i),o.unsub()}))}))}list(e,n,t){return new Promise((r=>{let o=[],i=this.sub(e,n,t);i.on("event",(e=>{o.push(e)})),i.on("eose",(()=>{i.unsub(),r(o)}))}))}publish(e,n){const t=e.map((async e=>{let t;try{return t=await this.ensureRelay(e),t.publish(n)}catch(e){return{on(){},off(){}}}})),r=new Map;return{on(n,o){e.forEach((async(e,i)=>{let s=await t[i],a=()=>o(e);r.set(o,a),s.on(n,a)}))},off(n,o){e.forEach((async(e,i)=>{let s=r.get(o);if(s){(await t[i]).off(n,s)}}))}}}seenOn(e){return Array.from(this._seenOn[e]?.values?.()||[])}},Hi=Bi(""),Li=Bi({});let $i=Bi(),Ii=Bi([]),Ti=Bi("light");async function Ui(){return new Promise((e=>{j.storage.local.get("relays",(n=>{Ii.set(n.relays||[]),e(n.relays)}))}))}async function Oi(){return new Promise((e=>{j.storage.local.get("privateKey",(n=>{Hi.set(n.privateKey),e(n.privateKey),new Promise((async e=>{await Promise.all([Ri(),Ci(),Ui()]),e()}))}))}))}async function Ci(){return new Promise((e=>{j.storage.local.get("webSites",(n=>{$i.set(n.webSites),e(n.webSites)}))}))}async function Ri(){if(a(Hi)){try{_i.get(Si,{authors:[so(a(Hi))],kinds:[0]}).then((e=>{const n=JSON.parse(e.content);Li.set(n),j.storage.local.set({profile:n})}))}catch(e){alert(e.message)}return new Promise((e=>{j.storage.local.get("profile",(n=>{Li.set(n.profile),e(n.profile)}))}))}}function Ni(e){let n,t,o,i,s,a,b,w,m,v,x,E,k,A,B,S,_,H,L,$,I,T,U,O,C,R,N,D,j,P,q,K,F,z,V,G,M,W,Z,Y,J,X,Q,ee,ne,te,re,oe,ie,se,ae,ce,le,ue,de;function fe(e,n){return e[2]?ji:Di}let he=fe(e),pe=he(e),ye=!e[2]&&Pi(e),ge=e[2]&&qi(e);return le=function(e){let n;return{p(...t){n=t,n.forEach((n=>e.push(n)))},r(){n.forEach((n=>e.splice(e.indexOf(n),1)))}}}(e[8][0]),{c(){n=d("p"),t=d("span"),o=d("span"),i=f(e[0]),s=h(),a=d("br"),b=h(),w=d("span"),pe.c(),m=h(),v=d("div"),x=d("div"),E=d("label"),k=d("span"),k.textContent="One Time",A=h(),B=d("input"),S=h(),_=d("div"),H=d("label"),L=d("span"),L.textContent="Always",$=h(),I=d("input"),T=h(),U=d("div"),O=d("label"),C=d("span"),C.textContent="Next 5 minutes",R=h(),N=d("input"),D=h(),j=d("div"),P=d("label"),q=d("span"),q.textContent="Next hour",K=h(),F=d("input"),z=h(),V=d("div"),G=d("label"),M=d("span"),M.textContent="Next 5 hours",W=h(),Z=d("input"),Y=h(),J=d("div"),X=d("label"),Q=d("span"),Q.textContent="Next 5 days",ee=h(),ne=d("input"),te=h(),re=d("div"),oe=d("button"),oe.textContent="Accept",ie=h(),se=d("button"),se.textContent="Reject",ae=h(),ye&&ye.c(),ce=h(),ge&&ge.c(),y(o,"class","text-primary-content font-sans font-italic italic"),y(w,"class","badge p-4 mt-2 badge-secondary"),y(t,"class","text-center text-xl prose prose-lg"),y(n,"class","w-full text-center p-10 pt-4 pb-6"),y(k,"class","label-text mr-2"),y(B,"type","radio"),y(B,"class","radio"),B.__value=0,B.value=B.__value,y(E,"class","cursor-pointer label"),y(x,"class","form-control"),y(L,"class","label-text mr-2"),y(I,"type","radio"),y(I,"class","radio"),I.__value=1,I.value=I.__value,y(H,"class","cursor-pointer label"),y(_,"class","form-control"),y(C,"class","label-text mr-2"),y(N,"type","radio"),y(N,"class","radio"),N.__value=2,N.value=N.__value,y(O,"class","cursor-pointer label"),y(U,"class","form-control"),y(q,"class","label-text mr-2"),y(F,"type","radio"),y(F,"class","radio"),F.__value=3,F.value=F.__value,y(P,"class","cursor-pointer label"),y(j,"class","form-control"),y(M,"class","label-text mr-2"),y(Z,"type","radio"),y(Z,"class","radio"),Z.__value=4,Z.value=Z.__value,y(G,"class","cursor-pointer label"),y(V,"class","form-control"),y(Q,"class","label-text mr-2"),y(ne,"type","radio"),y(ne,"class","radio"),ne.__value=5,ne.value=ne.__value,y(X,"class","cursor-pointer label"),y(J,"class","form-control"),y(v,"class","w-full p-4 pt-2 flex flex-row flex-wrap justify-center space-x-2"),y(oe,"class","w-full btn btn-accent mb-2"),y(se,"class","w-full btn btn-secondary mb-2"),y(re,"class","w-full flex flex-col justify-center items-center p-10 pt-0"),le.p(B,I,N,F,Z,ne)},m(r,u){l(r,n,u),c(n,t),c(t,o),c(o,i),c(t,s),c(t,a),c(t,b),c(t,w),pe.m(w,null),l(r,m,u),l(r,v,u),c(v,x),c(x,E),c(E,k),c(E,A),c(E,B),B.checked=B.__value===e[4],c(v,S),c(v,_),c(_,H),c(H,L),c(H,$),c(H,I),I.checked=I.__value===e[4],c(v,T),c(v,U),c(U,O),c(O,C),c(O,R),c(O,N),N.checked=N.__value===e[4],c(v,D),c(v,j),c(j,P),c(P,q),c(P,K),c(P,F),F.checked=F.__value===e[4],c(v,z),c(v,V),c(V,G),c(G,M),c(G,W),c(G,Z),Z.checked=Z.__value===e[4],c(v,Y),c(v,J),c(J,X),c(X,Q),c(X,ee),c(X,ne),ne.checked=ne.__value===e[4],l(r,te,u),l(r,re,u),c(re,oe),c(re,ie),c(re,se),c(re,ae),ye&&ye.m(re,null),c(re,ce),ge&&ge.m(re,null),ue||(de=[p(B,"change",e[7]),p(I,"change",e[9]),p(N,"change",e[10]),p(F,"change",e[11]),p(Z,"change",e[12]),p(ne,"change",e[13]),p(oe,"click",e[14]),p(se,"click",e[15])],ue=!0)},p(e,n){1&n&&g(i,e[0]),he===(he=fe(e))&&pe?pe.p(e,n):(pe.d(1),pe=he(e),pe&&(pe.c(),pe.m(w,null))),16&n&&(B.checked=B.__value===e[4]),16&n&&(I.checked=I.__value===e[4]),16&n&&(N.checked=N.__value===e[4]),16&n&&(F.checked=F.__value===e[4]),16&n&&(Z.checked=Z.__value===e[4]),16&n&&(ne.checked=ne.__value===e[4]),e[2]?ye&&(ye.d(1),ye=null):ye?ye.p(e,n):(ye=Pi(e),ye.c(),ye.m(re,ce)),e[2]?ge?ge.p(e,n):(ge=qi(e),ge.c(),ge.m(re,null)):ge&&(ge.d(1),ge=null)},d(e){e&&u(n),pe.d(),e&&u(m),e&&u(v),e&&u(te),e&&u(re),ye&&ye.d(),ge&&ge.d(),le.r(),ue=!1,r(de)}}}function Di(n){let t,r=K("permission")+"";return{c(){t=f(r)},m(e,n){l(e,t,n)},p:e,d(e){e&&u(t)}}}function ji(e){let n,t=K(e[1].get("type"))+"";return{c(){n=f(t)},m(e,t){l(e,n,t)},p(e,r){2&r&&t!==(t=K(e[1].get("type"))+"")&&g(n,t)},d(e){e&&u(n)}}}function Pi(n){let t,r,o;return{c(){t=d("button"),t.textContent="Cancel",y(t,"class","w-full btn btn-neutral")},m(e,i){l(e,t,i),r||(o=p(t,"click",n[16]),r=!0)},p:e,d(e){e&&u(t),r=!1,o()}}}function qi(e){let n,t,r,o=unescape(e[1].get("data"))+"";return{c(){n=d("div"),t=d("code"),r=f(o),y(t,"class","prose break-words p-4"),y(n,"class","mockup-code justify-center mt-4 w-11/12 mx-2")},m(e,o){l(e,n,o),c(n,t),c(t,r)},p(e,n){2&n&&o!==(o=unescape(e[1].get("data"))+"")&&g(r,o)},d(e){e&&u(n)}}}function Ki(n){let t,r=n[3]&&Ni(n);return{c(){t=d("div"),r&&r.c(),y(t,"class","w-full h-full flex flex-wrap fixed-width")},m(e,n){l(e,t,n),r&&r.m(t,null)},p(e,[n]){e[3]?r?r.p(e,n):(r=Ni(e),r.c(),r.m(t,null)):r&&(r.d(1),r=null)},i:e,o:e,d(e){e&&u(t),r&&r.d()}}}function Fi(e,n,t){let r;var o,i;o=$i,i=e=>t(17,r=e),e.$$.on_destroy.push(s(o,i));let a=!1,{parameter:c}=n,{isPopup:l=!1}=n,{domain:u}=n;l?(u=P(c.get("url")),"login"===c.get("action")?a=!0:c.set("action","register")):a=!0;const d=m();function f(){d("cancel",{})}let h=0;function p(e,n=new Date){l?Oi().then((()=>{j.runtime.sendMessage({prompt:!0,response:{status:"success",error:!e,permission:{always:1===h,duration:q(h),accept:e,reject:!e}},ext:"nos2x",url:c.get("url"),requestId:c.get("requestId")})})):Oi().then((async()=>{let n=await Ci();if(null==n&&(n={}),-1!==Object.keys(n).indexOf(u)){let t=r;null==t&&(t={});let o=t[u];o.permission={always:1===h,authorizationStop:q(h).toString(),accept:e,reject:!e};let i=o.history||[];i.push({accepted:e,type:"permission",created_at:(new Date).toString(),data:void 0}),o.history=i,t[u]=o,n[u]=o,await j.storage.local.set({webSites:n}),await Ci()}else{let n=r;null==n&&(n={});let t={auth:!0,history:[{accepted:e,type:"permission",created_at:(new Date).toString(),data:void 0}],permission:{always:1===h,authorizationStop:q(h).toString(),accept:e,reject:!e}};n[u]=t,await j.storage.local.set({webSites:n}),await Ci()}f()}))}return e.$$set=e=>{"parameter"in e&&t(1,c=e.parameter),"isPopup"in e&&t(2,l=e.isPopup),"domain"in e&&t(0,u=e.domain)},[u,c,l,a,h,f,p,function(){h=this.__value,t(4,h)},[[]],function(){h=this.__value,t(4,h)},function(){h=this.__value,t(4,h)},function(){h=this.__value,t(4,h)},function(){h=this.__value,t(4,h)},function(){h=this.__value,t(4,h)},()=>p(!0,new Date),()=>p(!1,new Date),()=>f()]}$i.subscribe((e=>{j.storage.local.set({webSites:e})}));class zi extends D{constructor(e){super(),N(this,e,Fi,Ki,i,{parameter:1,isPopup:2,domain:0})}}function Vi(n){let t,r;return t=new zi({props:{parameter:n[0],isPopup:!0,domain:P(n[0].get("url"))}}),t.$on("cancel",Gi),{c(){var e;(e=t.$$.fragment)&&e.c()},m(e,n){O(t,e,n),r=!0},p:e,i(e){r||(U(t.$$.fragment,e),r=!0)},o(e){!function(e,n,t,r){if(e&&e.o){if(I.has(e))return;I.add(e),T.c.push((()=>{I.delete(e),r&&(t&&e.d(1),r())})),e.o(n)}else r&&r()}(t.$$.fragment,e),r=!1},d(e){C(t,e)}}}const Gi=()=>{};function Mi(e){let n=new URLSearchParams(document.location.search);return async function(){new Promise((e=>{j.storage.local.get("theme",(n=>{n.theme?(Ti.set(n.theme),document.documentElement.setAttribute("data-theme",n.theme)):(j.storage.local.set({theme:"cupcake"}),Ti.set("cupcake"),document.documentElement.setAttribute("data-theme","cupcake")),e()}))}))}(),[n]}return new class extends D{constructor(e){super(),N(this,e,Mi,Vi,i,{})}}({target:document.body})}();
